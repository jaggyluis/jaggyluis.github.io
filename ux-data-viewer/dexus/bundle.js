!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=7)}([function(e,n,t){var r,a;
/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */void 0===(a="function"==typeof(r=function(){var e,n,t,r,a,A={},o={},i={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:i.currentLocale,zeroFormat:i.zeroFormat,nullFormat:i.nullFormat,defaultFormat:i.defaultFormat,scalePercentBy100:i.scalePercentBy100};function c(e,n){this._input=e,this._value=n}return(e=function(t){var r,a,o,i;if(e.isNumeral(t))r=t.value();else if(0===t||void 0===t)r=0;else if(null===t||n.isNaN(t))r=null;else if("string"==typeof t)if(s.zeroFormat&&t===s.zeroFormat)r=0;else if(s.nullFormat&&t===s.nullFormat||!t.replace(/[^0-9]+/g,"").length)r=null;else{for(a in A)if((i="function"==typeof A[a].regexps.unformat?A[a].regexps.unformat():A[a].regexps.unformat)&&t.match(i)){o=A[a].unformat;break}r=(o=o||e._.stringToNumber)(t)}else r=Number(t)||null;return new c(t,r)}).version="2.0.6",e.isNumeral=function(e){return e instanceof c},e._=n={numberToFormat:function(n,t,r){var a,A,i,s,c,l,u,d,_=o[e.options.currentLocale],p=!1,f=!1,h="",g="",B=!1;if(n=n||0,i=Math.abs(n),e._.includes(t,"(")?(p=!0,t=t.replace(/[\(|\)]/g,"")):(e._.includes(t,"+")||e._.includes(t,"-"))&&(l=e._.includes(t,"+")?t.indexOf("+"):n<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),e._.includes(t,"a")&&(A=!!(A=t.match(/a(k|m|b|t)?/))&&A[1],e._.includes(t," a")&&(h=" "),t=t.replace(new RegExp(h+"a[kmbt]?"),""),i>=1e12&&!A||"t"===A?(h+=_.abbreviations.trillion,n/=1e12):i<1e12&&i>=1e9&&!A||"b"===A?(h+=_.abbreviations.billion,n/=1e9):i<1e9&&i>=1e6&&!A||"m"===A?(h+=_.abbreviations.million,n/=1e6):(i<1e6&&i>=1e3&&!A||"k"===A)&&(h+=_.abbreviations.thousand,n/=1e3)),e._.includes(t,"[.]")&&(f=!0,t=t.replace("[.]",".")),s=n.toString().split(".")[0],c=t.split(".")[1],u=t.indexOf(","),a=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(e._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),g=e._.toFixed(n,c[0].length+c[1].length,r,c[1].length)):g=e._.toFixed(n,c.length,r),s=g.split(".")[0],g=e._.includes(g,".")?_.delimiters.decimal+g.split(".")[1]:"",f&&0===Number(g.slice(1))&&(g="")):s=e._.toFixed(n,0,r),h&&!A&&Number(s)>=1e3&&h!==_.abbreviations.trillion)switch(s=String(Number(s)/1e3),h){case _.abbreviations.thousand:h=_.abbreviations.million;break;case _.abbreviations.million:h=_.abbreviations.billion;break;case _.abbreviations.billion:h=_.abbreviations.trillion}if(e._.includes(s,"-")&&(s=s.slice(1),B=!0),s.length<a)for(var m=a-s.length;m>0;m--)s="0"+s;return u>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),0===t.indexOf(".")&&(s=""),d=s+g+(h||""),p?d=(p&&B?"(":"")+d+(p&&B?")":""):l>=0?d=0===l?(B?"-":"+")+d:d+(B?"-":"+"):B&&(d="-"+d),d},stringToNumber:function(e){var n,t,r,a=o[s.currentLocale],A=e,i={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&e===s.zeroFormat)t=0;else if(s.nullFormat&&e===s.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(n in t=1,"."!==a.delimiters.decimal&&(e=e.replace(/\./g,"").replace(a.delimiters.decimal,".")),i)if(r=new RegExp("[^a-zA-Z]"+a.abbreviations[n]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),A.match(r)){t*=Math.pow(10,i[n]);break}t*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),t*=Number(e)}return t},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,n){return-1!==e.indexOf(n)},insert:function(e,n,t){return e.slice(0,t)+n+e.slice(t)},reduce:function(e,n){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof n)throw new TypeError(n+" is not a function");var t,r=Object(e),a=r.length>>>0,A=0;if(3===arguments.length)t=arguments[2];else{for(;A<a&&!(A in r);)A++;if(A>=a)throw new TypeError("Reduce of empty array with no initial value");t=r[A++]}for(;A<a;A++)A in r&&(t=n(t,r[A],A,r));return t},multiplier:function(e){var n=e.toString().split(".");return n.length<2?1:Math.pow(10,n[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var r=n.multiplier(t);return e>r?e:r},1)},toFixed:function(e,n,t,r){var a,A,o,i,s=e.toString().split("."),c=n-(r||0);return a=2===s.length?Math.min(Math.max(s[1].length,c),n):c,o=Math.pow(10,a),i=(t(e+"e+"+a)/o).toFixed(a),r>n-a&&(A=new RegExp("\\.?0{1,"+(r-(n-a))+"}$"),i=i.replace(A,"")),i}},e.options=s,e.formats=A,e.locales=o,e.locale=function(e){return e&&(s.currentLocale=e.toLowerCase()),s.currentLocale},e.localeData=function(e){if(!e)return o[s.currentLocale];if(e=e.toLowerCase(),!o[e])throw new Error("Unknown locale : "+e);return o[e]},e.reset=function(){for(var e in i)s[e]=i[e]},e.zeroFormat=function(e){s.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){s.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){s.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,n,t){if(n=n.toLowerCase(),this[e+"s"][n])throw new TypeError(n+" "+e+" already registered.");return this[e+"s"][n]=t,t},e.validate=function(n,t){var r,a,A,o,i,s,c,l;if("string"!=typeof n&&(n+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",n)),(n=n.trim()).match(/^\d+$/))return!0;if(""===n)return!1;try{c=e.localeData(t)}catch(n){c=e.localeData(e.locale())}return A=c.currency.symbol,i=c.abbreviations,r=c.delimiters.decimal,a="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,!(null!==(l=n.match(/^[^\d]+/))&&(n=n.substr(1),l[0]!==A)||null!==(l=n.match(/[^\d]+$/))&&(n=n.slice(0,-1),l[0]!==i.thousand&&l[0]!==i.million&&l[0]!==i.billion&&l[0]!==i.trillion)||(s=new RegExp(a+"{2}"),n.match(/[^\d.,]/g)||(o=n.split(r)).length>2||(o.length<2?!o[0].match(/^\d+.*\d$/)||o[0].match(s):1===o[0].length?!o[0].match(/^\d+$/)||o[0].match(s)||!o[1].match(/^\d+$/):!o[0].match(/^\d+.*\d$/)||o[0].match(s)||!o[1].match(/^\d+$/))))},e.fn=c.prototype={clone:function(){return e(this)},format:function(n,t){var r,a,o,i=this._value,c=n||s.defaultFormat;if(t=t||Math.round,0===i&&null!==s.zeroFormat)a=s.zeroFormat;else if(null===i&&null!==s.nullFormat)a=s.nullFormat;else{for(r in A)if(c.match(A[r].regexps.format)){o=A[r].format;break}a=(o=o||e._.numberToFormat)(i,c,t)}return a},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=n.correctionFactor.call(null,this._value,e);return this._value=n.reduce([this._value,e],function(e,n,r,a){return e+Math.round(t*n)},0)/t,this},subtract:function(e){var t=n.correctionFactor.call(null,this._value,e);return this._value=n.reduce([e],function(e,n,r,a){return e-Math.round(t*n)},Math.round(this._value*t))/t,this},multiply:function(e){return this._value=n.reduce([this._value,e],function(e,t,r,a){var A=n.correctionFactor(e,t);return Math.round(e*A)*Math.round(t*A)/Math.round(A*A)},1),this},divide:function(e){return this._value=n.reduce([this._value,e],function(e,t,r,a){var A=n.correctionFactor(e,t);return Math.round(e*A)/Math.round(t*A)}),this},difference:function(n){return Math.abs(e(this._value).subtract(n).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var n=e%10;return 1==~~(e%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(n,t,r){var a,A=e._.includes(t," BPS")?" ":"";return n*=1e4,t=t.replace(/\s?BPS/,""),a=e._.numberToFormat(n,t,r),e._.includes(a,")")?((a=a.split("")).splice(-1,0,A+"BPS"),a=a.join("")):a=a+A+"BPS",a},unformat:function(n){return+(1e-4*e._.stringToNumber(n)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},a="("+(a=(t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter(function(e){return t.suffixes.indexOf(e)<0})).join("|")).replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(a)},format:function(n,a,A){var o,i,s,c=e._.includes(a,"ib")?r:t,l=e._.includes(a," b")||e._.includes(a," ib")?" ":"";for(a=a.replace(/\s?i?b/,""),o=0;o<=c.suffixes.length;o++)if(i=Math.pow(c.base,o),s=Math.pow(c.base,o+1),null===n||0===n||n>=i&&n<s){l+=c.suffixes[o],i>0&&(n/=i);break}return e._.numberToFormat(n,a,A)+l},unformat:function(n){var a,A,o=e._.stringToNumber(n);if(o){for(a=t.suffixes.length-1;a>=0;a--){if(e._.includes(n,t.suffixes[a])){A=Math.pow(t.base,a);break}if(e._.includes(n,r.suffixes[a])){A=Math.pow(r.base,a);break}}o*=A||1}return o}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(n,t,r){var a,A,o=e.locales[e.options.currentLocale],i={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(t=t.replace(/\s?\$\s?/,""),a=e._.numberToFormat(n,t,r),n>=0?(i.before=i.before.replace(/[\-\(]/,""),i.after=i.after.replace(/[\-\)]/,"")):n<0&&!e._.includes(i.before,"-")&&!e._.includes(i.before,"(")&&(i.before="-"+i.before),A=0;A<i.before.length;A++)switch(i.before[A]){case"$":a=e._.insert(a,o.currency.symbol,A);break;case" ":a=e._.insert(a," ",A+o.currency.symbol.length-1)}for(A=i.after.length-1;A>=0;A--)switch(i.after[A]){case"$":a=A===i.after.length-1?a+o.currency.symbol:e._.insert(a,o.currency.symbol,-(i.after.length-(1+A)));break;case" ":a=A===i.after.length-1?a+" ":e._.insert(a," ",-(i.after.length-(1+A)+o.currency.symbol.length-1))}return a}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(n,t,r){var a=("number"!=typeof n||e._.isNaN(n)?"0e+0":n.toExponential()).split("e");return t=t.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(a[0]),t,r)+"e"+a[1]},unformat:function(n){var t=e._.includes(n,"e+")?n.split("e+"):n.split("e-"),r=Number(t[0]),a=Number(t[1]);return a=e._.includes(n,"e-")?a*=-1:a,e._.reduce([r,Math.pow(10,a)],function(n,t,r,a){var A=e._.correctionFactor(n,t);return n*A*(t*A)/(A*A)},1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(n,t,r){var a=e.locales[e.options.currentLocale],A=e._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),A+=a.ordinal(n),e._.numberToFormat(n,t,r)+A}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(n,t,r){var a,A=e._.includes(t," %")?" ":"";return e.options.scalePercentBy100&&(n*=100),t=t.replace(/\s?\%/,""),a=e._.numberToFormat(n,t,r),e._.includes(a,")")?((a=a.split("")).splice(-1,0,A+"%"),a=a.join("")):a=a+A+"%",a},unformat:function(n){var t=e._.stringToNumber(n);return e.options.scalePercentBy100?.01*t:t}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,n,t){var r=Math.floor(e/60/60),a=Math.floor((e-60*r*60)/60),A=Math.round(e-60*r*60-60*a);return r+":"+(a<10?"0"+a:a)+":"+(A<10?"0"+A:A)},unformat:function(e){var n=e.split(":"),t=0;return 3===n.length?(t+=60*Number(n[0])*60,t+=60*Number(n[1]),t+=Number(n[2])):2===n.length&&(t+=60*Number(n[0]),t+=Number(n[1])),Number(t)}}),e})?r.call(n,t,n,e):r)||(e.exports=a)},function(module,exports,__webpack_require__){
/*!
 * html2canvas 1.0.0-rc.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
var factory;window,factory=function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s="./src/index.js")}({"./node_modules/css-line-break/dist/LineBreak.js":
/*!*******************************************************!*\
  !*** ./node_modules/css-line-break/dist/LineBreak.js ***!
  \*******************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.LineBreaker = exports.inlineBreakOpportunities = exports.lineBreakAtIndex = exports.codePointsToCharacterClasses = exports.UnicodeTrie = exports.BREAK_ALLOWED = exports.BREAK_NOT_ALLOWED = exports.BREAK_MANDATORY = exports.classes = exports.LETTER_NUMBER_MODIFIER = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _Trie = __webpack_require__(/*! ./Trie */ \"./node_modules/css-line-break/dist/Trie.js\");\n\nvar _linebreakTrie = __webpack_require__(/*! ./linebreak-trie */ \"./node_modules/css-line-break/dist/linebreak-trie.js\");\n\nvar _linebreakTrie2 = _interopRequireDefault(_linebreakTrie);\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./node_modules/css-line-break/dist/Util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LETTER_NUMBER_MODIFIER = exports.LETTER_NUMBER_MODIFIER = 50;\n\n// Non-tailorable Line Breaking Classes\nvar BK = 1; //  Cause a line break (after)\nvar CR = 2; //  Cause a line break (after), except between CR and LF\nvar LF = 3; //  Cause a line break (after)\nvar CM = 4; //  Prohibit a line break between the character and the preceding character\nvar NL = 5; //  Cause a line break (after)\nvar SG = 6; //  Do not occur in well-formed text\nvar WJ = 7; //  Prohibit line breaks before and after\nvar ZW = 8; //  Provide a break opportunity\nvar GL = 9; //  Prohibit line breaks before and after\nvar SP = 10; // Enable indirect line breaks\nvar ZWJ = 11; // Prohibit line breaks within joiner sequences\n// Break Opportunities\nvar B2 = 12; //  Provide a line break opportunity before and after the character\nvar BA = 13; //  Generally provide a line break opportunity after the character\nvar BB = 14; //  Generally provide a line break opportunity before the character\nvar HY = 15; //  Provide a line break opportunity after the character, except in numeric context\nvar CB = 16; //   Provide a line break opportunity contingent on additional information\n// Characters Prohibiting Certain Breaks\nvar CL = 17; //  Prohibit line breaks before\nvar CP = 18; //  Prohibit line breaks before\nvar EX = 19; //  Prohibit line breaks before\nvar IN = 20; //  Allow only indirect line breaks between pairs\nvar NS = 21; //  Allow only indirect line breaks before\nvar OP = 22; //  Prohibit line breaks after\nvar QU = 23; //  Act like they are both opening and closing\n// Numeric Context\nvar IS = 24; //  Prevent breaks after any and before numeric\nvar NU = 25; //  Form numeric expressions for line breaking purposes\nvar PO = 26; //  Do not break following a numeric expression\nvar PR = 27; //  Do not break in front of a numeric expression\nvar SY = 28; //  Prevent a break before; and allow a break after\n// Other Characters\nvar AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\nvar AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\nvar CJ = 31; //  Treat as NS or ID for strict or normal breaking.\nvar EB = 32; //  Do not break from following Emoji Modifier\nvar EM = 33; //  Do not break from preceding Emoji Base\nvar H2 = 34; //  Form Korean syllable blocks\nvar H3 = 35; //  Form Korean syllable blocks\nvar HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\nvar ID = 37; //  Break before or after; except in some numeric context\nvar JL = 38; //  Form Korean syllable blocks\nvar JV = 39; //  Form Korean syllable blocks\nvar JT = 40; //  Form Korean syllable blocks\nvar RI = 41; //  Keep pairs together. For pairs; break before and after other classes\nvar SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\nvar XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\n\nvar classes = exports.classes = {\n    BK: BK,\n    CR: CR,\n    LF: LF,\n    CM: CM,\n    NL: NL,\n    SG: SG,\n    WJ: WJ,\n    ZW: ZW,\n    GL: GL,\n    SP: SP,\n    ZWJ: ZWJ,\n    B2: B2,\n    BA: BA,\n    BB: BB,\n    HY: HY,\n    CB: CB,\n    CL: CL,\n    CP: CP,\n    EX: EX,\n    IN: IN,\n    NS: NS,\n    OP: OP,\n    QU: QU,\n    IS: IS,\n    NU: NU,\n    PO: PO,\n    PR: PR,\n    SY: SY,\n    AI: AI,\n    AL: AL,\n    CJ: CJ,\n    EB: EB,\n    EM: EM,\n    H2: H2,\n    H3: H3,\n    HL: HL,\n    ID: ID,\n    JL: JL,\n    JV: JV,\n    JT: JT,\n    RI: RI,\n    SA: SA,\n    XX: XX\n};\n\nvar BREAK_MANDATORY = exports.BREAK_MANDATORY = '!';\nvar BREAK_NOT_ALLOWED = exports.BREAK_NOT_ALLOWED = '×';\nvar BREAK_ALLOWED = exports.BREAK_ALLOWED = '÷';\nvar UnicodeTrie = exports.UnicodeTrie = (0, _Trie.createTrieFromBase64)(_linebreakTrie2.default);\n\nvar ALPHABETICS = [AL, HL];\nvar HARD_LINE_BREAKS = [BK, CR, LF, NL];\nvar SPACE = [SP, ZW];\nvar PREFIX_POSTFIX = [PR, PO];\nvar LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\nvar KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\nvar HYPHEN = [HY, BA];\n\nvar codePointsToCharacterClasses = exports.codePointsToCharacterClasses = function codePointsToCharacterClasses(codePoints) {\n    var lineBreak = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'strict';\n\n    var types = [];\n    var indicies = [];\n    var categories = [];\n    codePoints.forEach(function (codePoint, index) {\n        var classType = UnicodeTrie.get(codePoint);\n        if (classType > LETTER_NUMBER_MODIFIER) {\n            categories.push(true);\n            classType -= LETTER_NUMBER_MODIFIER;\n        } else {\n            categories.push(false);\n        }\n\n        if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\n            // U+2010, – U+2013, 〜 U+301C, ゠ U+30A0\n            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\n                indicies.push(index);\n                return types.push(CB);\n            }\n        }\n\n        if (classType === CM || classType === ZWJ) {\n            // LB10 Treat any remaining combining mark or ZWJ as AL.\n            if (index === 0) {\n                indicies.push(index);\n                return types.push(AL);\n            }\n\n            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\n            // the base character in all of the following rules. Treat ZWJ as if it were CM.\n            var prev = types[index - 1];\n            if (LINE_BREAKS.indexOf(prev) === -1) {\n                indicies.push(indicies[index - 1]);\n                return types.push(prev);\n            }\n            indicies.push(index);\n            return types.push(AL);\n        }\n\n        indicies.push(index);\n\n        if (classType === CJ) {\n            return types.push(lineBreak === 'strict' ? NS : ID);\n        }\n\n        if (classType === SA) {\n            return types.push(AL);\n        }\n\n        if (classType === AI) {\n            return types.push(AL);\n        }\n\n        // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\n        // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\n        // to take into account the actual line breaking properties for these characters.\n        if (classType === XX) {\n            if (codePoint >= 0x20000 && codePoint <= 0x2fffd || codePoint >= 0x30000 && codePoint <= 0x3fffd) {\n                return types.push(ID);\n            } else {\n                return types.push(AL);\n            }\n        }\n\n        types.push(classType);\n    });\n\n    return [indicies, types, categories];\n};\n\nvar isAdjacentWithSpaceIgnored = function isAdjacentWithSpaceIgnored(a, b, currentIndex, classTypes) {\n    var current = classTypes[currentIndex];\n    if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\n        var i = currentIndex;\n        while (i <= classTypes.length) {\n            i++;\n            var next = classTypes[i];\n\n            if (next === b) {\n                return true;\n            }\n\n            if (next !== SP) {\n                break;\n            }\n        }\n    }\n\n    if (current === SP) {\n        var _i = currentIndex;\n\n        while (_i > 0) {\n            _i--;\n            var prev = classTypes[_i];\n\n            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\n                var n = currentIndex;\n                while (n <= classTypes.length) {\n                    n++;\n                    var _next = classTypes[n];\n\n                    if (_next === b) {\n                        return true;\n                    }\n\n                    if (_next !== SP) {\n                        break;\n                    }\n                }\n            }\n\n            if (prev !== SP) {\n                break;\n            }\n        }\n    }\n    return false;\n};\n\nvar previousNonSpaceClassType = function previousNonSpaceClassType(currentIndex, classTypes) {\n    var i = currentIndex;\n    while (i >= 0) {\n        var type = classTypes[i];\n        if (type === SP) {\n            i--;\n        } else {\n            return type;\n        }\n    }\n    return 0;\n};\n\nvar _lineBreakAtIndex = function _lineBreakAtIndex(codePoints, classTypes, indicies, index, forbiddenBreaks) {\n    if (indicies[index] === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    var currentIndex = index - 1;\n    if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    var beforeIndex = currentIndex - 1;\n    var afterIndex = currentIndex + 1;\n    var current = classTypes[currentIndex];\n\n    // LB4 Always break after hard line breaks.\n    // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\n    var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\n    var next = classTypes[afterIndex];\n\n    if (current === CR && next === LF) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\n        return BREAK_MANDATORY;\n    }\n\n    // LB6 Do not break before hard line breaks.\n    if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB7 Do not break before spaces or zero width space.\n    if (SPACE.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\n    if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB11 Do not break before or after Word joiner and related characters.\n    if (current === WJ || next === WJ) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12 Do not break after NBSP and related characters.\n    if (current === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\n    if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB13 Do not break before ‘]’ or ‘!’ or ‘;’ or ‘/’, even after spaces.\n    if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB14 Do not break after ‘[’, even after spaces.\n    if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB15 Do not break within ‘”[’, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB17 Do not break within ‘——’, even with intervening spaces.\n    if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB18 Break after spaces.\n    if (current === SP) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB19 Do not break before or after quotation marks, such as ‘ ” ’.\n    if (current === QU || next === QU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB20 Break before and after unresolved CB.\n    if (next === CB || current === CB) {\n        return BREAK_ALLOWED;\n    }\n\n    // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\n    if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21a Don't break after Hebrew + Hyphen.\n    if (before === HL && HYPHEN.indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB21b Don’t break between Solidus and Hebrew letters.\n    if (current === SY && next === HL) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\n    if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23 Do not break between digits and letters.\n    if (ALPHABETICS.indexOf(next) !== -1 && current === NU || ALPHABETICS.indexOf(current) !== -1 && next === NU) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\n    if (current === PR && [ID, EB, EM].indexOf(next) !== -1 || [ID, EB, EM].indexOf(current) !== -1 && next === PO) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\n    if (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1 || PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB25 Do not break between the following pairs of classes relevant to numbers:\n    if (\n    // (PR | PO) × ( OP | HY )? NU\n    [PR, PO].indexOf(current) !== -1 && (next === NU || [OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU) ||\n    // ( OP | HY ) × NU\n    [OP, HY].indexOf(current) !== -1 && next === NU ||\n    // NU ×\t(NU | SY | IS)\n    current === NU && [NU, SY, IS].indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // NU (NU | SY | IS)* × (NU | SY | IS | CL | CP)\n    if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\n        var prevIndex = currentIndex;\n        while (prevIndex >= 0) {\n            var type = classTypes[prevIndex];\n            if (type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(type) !== -1) {\n                prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // NU (NU | SY | IS)* (CL | CP)? × (PO | PR))\n    if ([PR, PO].indexOf(next) !== -1) {\n        var _prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\n        while (_prevIndex >= 0) {\n            var _type = classTypes[_prevIndex];\n            if (_type === NU) {\n                return BREAK_NOT_ALLOWED;\n            } else if ([SY, IS].indexOf(_type) !== -1) {\n                _prevIndex--;\n            } else {\n                break;\n            }\n        }\n    }\n\n    // LB26 Do not break a Korean syllable.\n    if (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1 || [JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1 || [JT, H3].indexOf(current) !== -1 && next === JT) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB27 Treat a Korean Syllable Block the same as ID.\n    if (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1 || KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB28 Do not break between alphabetics (“at”).\n    if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB29 Do not break between numeric punctuation and alphabetics (“e.g.”).\n    if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\n    if (ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP || ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\n    // indicators preceding the position of the break.\n    if (current === RI && next === RI) {\n        var i = indicies[currentIndex];\n        var count = 1;\n        while (i > 0) {\n            i--;\n            if (classTypes[i] === RI) {\n                count++;\n            } else {\n                break;\n            }\n        }\n        if (count % 2 !== 0) {\n            return BREAK_NOT_ALLOWED;\n        }\n    }\n\n    // LB30b Do not break between an emoji base and an emoji modifier.\n    if (current === EB && next === EM) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    return BREAK_ALLOWED;\n};\n\nvar lineBreakAtIndex = exports.lineBreakAtIndex = function lineBreakAtIndex(codePoints, index) {\n    // LB2 Never break at the start of text.\n    if (index === 0) {\n        return BREAK_NOT_ALLOWED;\n    }\n\n    // LB3 Always break at the end of text.\n    if (index >= codePoints.length) {\n        return BREAK_MANDATORY;\n    }\n\n    var _codePointsToCharacte = codePointsToCharacterClasses(codePoints),\n        _codePointsToCharacte2 = _slicedToArray(_codePointsToCharacte, 2),\n        indicies = _codePointsToCharacte2[0],\n        classTypes = _codePointsToCharacte2[1];\n\n    return _lineBreakAtIndex(codePoints, classTypes, indicies, index);\n};\n\nvar cssFormattedClasses = function cssFormattedClasses(codePoints, options) {\n    if (!options) {\n        options = { lineBreak: 'normal', wordBreak: 'normal' };\n    }\n\n    var _codePointsToCharacte3 = codePointsToCharacterClasses(codePoints, options.lineBreak),\n        _codePointsToCharacte4 = _slicedToArray(_codePointsToCharacte3, 3),\n        indicies = _codePointsToCharacte4[0],\n        classTypes = _codePointsToCharacte4[1],\n        isLetterNumber = _codePointsToCharacte4[2];\n\n    if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\n        classTypes = classTypes.map(function (type) {\n            return [NU, AL, SA].indexOf(type) !== -1 ? ID : type;\n        });\n    }\n\n    var forbiddenBreakpoints = options.wordBreak === 'keep-all' ? isLetterNumber.map(function (isLetterNumber, i) {\n        return isLetterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\n    }) : null;\n\n    return [indicies, classTypes, forbiddenBreakpoints];\n};\n\nvar inlineBreakOpportunities = exports.inlineBreakOpportunities = function inlineBreakOpportunities(str, options) {\n    var codePoints = (0, _Util.toCodePoints)(str);\n    var output = BREAK_NOT_ALLOWED;\n\n    var _cssFormattedClasses = cssFormattedClasses(codePoints, options),\n        _cssFormattedClasses2 = _slicedToArray(_cssFormattedClasses, 3),\n        indicies = _cssFormattedClasses2[0],\n        classTypes = _cssFormattedClasses2[1],\n        forbiddenBreakpoints = _cssFormattedClasses2[2];\n\n    codePoints.forEach(function (codePoint, i) {\n        output += (0, _Util.fromCodePoint)(codePoint) + (i >= codePoints.length - 1 ? BREAK_MANDATORY : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));\n    });\n\n    return output;\n};\n\nvar Break = function () {\n    function Break(codePoints, lineBreak, start, end) {\n        _classCallCheck(this, Break);\n\n        this._codePoints = codePoints;\n        this.required = lineBreak === BREAK_MANDATORY;\n        this.start = start;\n        this.end = end;\n    }\n\n    _createClass(Break, [{\n        key: 'slice',\n        value: function slice() {\n            return _Util.fromCodePoint.apply(undefined, _toConsumableArray(this._codePoints.slice(this.start, this.end)));\n        }\n    }]);\n\n    return Break;\n}();\n\nvar LineBreaker = exports.LineBreaker = function LineBreaker(str, options) {\n    var codePoints = (0, _Util.toCodePoints)(str);\n\n    var _cssFormattedClasses3 = cssFormattedClasses(codePoints, options),\n        _cssFormattedClasses4 = _slicedToArray(_cssFormattedClasses3, 3),\n        indicies = _cssFormattedClasses4[0],\n        classTypes = _cssFormattedClasses4[1],\n        forbiddenBreakpoints = _cssFormattedClasses4[2];\n\n    var length = codePoints.length;\n    var lastEnd = 0;\n    var nextIndex = 0;\n\n    return {\n        next: function next() {\n            if (nextIndex >= length) {\n                return { done: true };\n            }\n            var lineBreak = BREAK_NOT_ALLOWED;\n            while (nextIndex < length && (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) === BREAK_NOT_ALLOWED) {}\n\n            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\n                var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\n                lastEnd = nextIndex;\n                return { value: value, done: false };\n            }\n\n            return { done: true };\n        }\n    };\n};\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/LineBreak.js?")},"./node_modules/css-line-break/dist/Trie.js":
/*!**************************************************!*\
  !*** ./node_modules/css-line-break/dist/Trie.js ***!
  \**************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nexports.Trie = exports.createTrieFromBase64 = exports.UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_DATA_MASK = exports.UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_SHIFT_1_2 = exports.UTRIE2_INDEX_SHIFT = exports.UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_2 = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Util = __webpack_require__(/*! ./Util */ "./node_modules/css-line-break/dist/Util.js");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/** Shift size for getting the index-2 table offset. */\nvar UTRIE2_SHIFT_2 = exports.UTRIE2_SHIFT_2 = 5;\n\n/** Shift size for getting the index-1 table offset. */\nvar UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_1 = 6 + 5;\n\n/**\n * Shift size for shifting left the index array values.\n * Increases possible data size with 16-bit index values at the cost\n * of compactability.\n * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\n */\nvar UTRIE2_INDEX_SHIFT = exports.UTRIE2_INDEX_SHIFT = 2;\n\n/**\n * Difference between the two shift sizes,\n * for getting an index-1 offset from an index-2 offset. 6=11-5\n */\nvar UTRIE2_SHIFT_1_2 = exports.UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\n\n/**\n * The part of the index-2 table for U+D800..U+DBFF stores values for\n * lead surrogate code _units_ not code _points_.\n * Values for lead surrogate code _points_ are indexed with this portion of the table.\n * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\n */\nvar UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\n\n/** Number of entries in a data block. 32=0x20 */\nvar UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\n/** Mask for getting the lower bits for the in-data-block offset. */\nvar UTRIE2_DATA_MASK = exports.UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\n\nvar UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\n/** Count the lengths of both BMP pieces. 2080=0x820 */\nvar UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\n/**\n * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\n * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\n */\nvar UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\nvar UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\n/**\n * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\n * Variable length, for code points up to highStart, where the last single-value range starts.\n * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\n * (For 0x100000 supplementary code points U+10000..U+10ffff.)\n *\n * The part of the index-2 table for supplementary code points starts\n * after this index-1 table.\n *\n * Both the index-1 table and the following part of the index-2 table\n * are omitted completely if there is only BMP data.\n */\nvar UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\n\n/**\n * Number of index-1 entries for the BMP. 32=0x20\n * This part of the index-1 table is omitted from the serialized form.\n */\nvar UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\n\n/** Number of entries in an index-2 block. 64=0x40 */\nvar UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\n/** Mask for getting the lower bits for the in-index-2-block offset. */\nvar UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\n\nvar createTrieFromBase64 = exports.createTrieFromBase64 = function createTrieFromBase64(base64) {\n    var buffer = (0, _Util.decode)(base64);\n    var view32 = Array.isArray(buffer) ? (0, _Util.polyUint32Array)(buffer) : new Uint32Array(buffer);\n    var view16 = Array.isArray(buffer) ? (0, _Util.polyUint16Array)(buffer) : new Uint16Array(buffer);\n    var headerLength = 24;\n\n    var index = view16.slice(headerLength / 2, view32[4] / 2);\n    var data = view32[5] === 2 ? view16.slice((headerLength + view32[4]) / 2) : view32.slice(Math.ceil((headerLength + view32[4]) / 4));\n\n    return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\n};\n\nvar Trie = exports.Trie = function () {\n    function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\n        _classCallCheck(this, Trie);\n\n        this.initialValue = initialValue;\n        this.errorValue = errorValue;\n        this.highStart = highStart;\n        this.highValueIndex = highValueIndex;\n        this.index = index;\n        this.data = data;\n    }\n\n    /**\n     * Get the value for a code point as stored in the Trie.\n     *\n     * @param codePoint the code point\n     * @return the value\n     */\n\n\n    _createClass(Trie, [{\n        key: \'get\',\n        value: function get(codePoint) {\n            var ix = void 0;\n            if (codePoint >= 0) {\n                if (codePoint < 0x0d800 || codePoint > 0x0dbff && codePoint <= 0x0ffff) {\n                    // Ordinary BMP code point, excluding leading surrogates.\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\n                    // 16 bit data is stored in the index array itself.\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n\n                if (codePoint <= 0xffff) {\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\n                    // lead surrogate code units and code points.\n                    //   The main index has the code unit data.\n                    //   For this function, we need the code point data.\n                    // Note: this expression could be refactored for slightly improved efficiency, but\n                    //       surrogate code points will be so rare in practice that it\'s not worth it.\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + (codePoint - 0xd800 >> UTRIE2_SHIFT_2)];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n\n                if (codePoint < this.highStart) {\n                    // Supplemental code point, use two-level lookup.\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\n                    ix = this.index[ix];\n                    ix += codePoint >> UTRIE2_SHIFT_2 & UTRIE2_INDEX_2_MASK;\n                    ix = this.index[ix];\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\n                    return this.data[ix];\n                }\n                if (codePoint <= 0x10ffff) {\n                    return this.data[this.highValueIndex];\n                }\n            }\n\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\n            return this.errorValue;\n        }\n    }]);\n\n    return Trie;\n}();\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/Trie.js?')},"./node_modules/css-line-break/dist/Util.js":
/*!**************************************************!*\
  !*** ./node_modules/css-line-break/dist/Util.js ***!
  \**************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar toCodePoints = exports.toCodePoints = function toCodePoints(str) {\n    var codePoints = [];\n    var i = 0;\n    var length = str.length;\n    while (i < length) {\n        var value = str.charCodeAt(i++);\n        if (value >= 0xd800 && value <= 0xdbff && i < length) {\n            var extra = str.charCodeAt(i++);\n            if ((extra & 0xfc00) === 0xdc00) {\n                codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\n            } else {\n                codePoints.push(value);\n                i--;\n            }\n        } else {\n            codePoints.push(value);\n        }\n    }\n    return codePoints;\n};\n\nvar fromCodePoint = exports.fromCodePoint = function fromCodePoint() {\n    if (String.fromCodePoint) {\n        return String.fromCodePoint.apply(String, arguments);\n    }\n\n    var length = arguments.length;\n    if (!length) {\n        return '';\n    }\n\n    var codeUnits = [];\n\n    var index = -1;\n    var result = '';\n    while (++index < length) {\n        var codePoint = arguments.length <= index ? undefined : arguments[index];\n        if (codePoint <= 0xffff) {\n            codeUnits.push(codePoint);\n        } else {\n            codePoint -= 0x10000;\n            codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\n        }\n        if (index + 1 === length || codeUnits.length > 0x4000) {\n            result += String.fromCharCode.apply(String, codeUnits);\n            codeUnits.length = 0;\n        }\n    }\n    return result;\n};\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nvar lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\n\nvar decode = exports.decode = function decode(base64) {\n    var bufferLength = base64.length * 0.75,\n        len = base64.length,\n        i = void 0,\n        p = 0,\n        encoded1 = void 0,\n        encoded2 = void 0,\n        encoded3 = void 0,\n        encoded4 = void 0;\n\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = typeof ArrayBuffer !== 'undefined' && typeof Uint8Array !== 'undefined' && typeof Uint8Array.prototype.slice !== 'undefined' ? new ArrayBuffer(bufferLength) : new Array(bufferLength);\n    var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n\n    return buffer;\n};\n\nvar polyUint16Array = exports.polyUint16Array = function polyUint16Array(buffer) {\n    var length = buffer.length;\n    var bytes = [];\n    for (var _i = 0; _i < length; _i += 2) {\n        bytes.push(buffer[_i + 1] << 8 | buffer[_i]);\n    }\n    return bytes;\n};\n\nvar polyUint32Array = exports.polyUint32Array = function polyUint32Array(buffer) {\n    var length = buffer.length;\n    var bytes = [];\n    for (var _i2 = 0; _i2 < length; _i2 += 4) {\n        bytes.push(buffer[_i2 + 3] << 24 | buffer[_i2 + 2] << 16 | buffer[_i2 + 1] << 8 | buffer[_i2]);\n    }\n    return bytes;\n};\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/Util.js?")},"./node_modules/css-line-break/dist/index.js":
/*!***************************************************!*\
  !*** ./node_modules/css-line-break/dist/index.js ***!
  \***************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Util = __webpack_require__(/*! ./Util */ \"./node_modules/css-line-break/dist/Util.js\");\n\nObject.defineProperty(exports, 'toCodePoints', {\n  enumerable: true,\n  get: function get() {\n    return _Util.toCodePoints;\n  }\n});\nObject.defineProperty(exports, 'fromCodePoint', {\n  enumerable: true,\n  get: function get() {\n    return _Util.fromCodePoint;\n  }\n});\n\nvar _LineBreak = __webpack_require__(/*! ./LineBreak */ \"./node_modules/css-line-break/dist/LineBreak.js\");\n\nObject.defineProperty(exports, 'LineBreaker', {\n  enumerable: true,\n  get: function get() {\n    return _LineBreak.LineBreaker;\n  }\n});\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/index.js?")},"./node_modules/css-line-break/dist/linebreak-trie.js":
/*!************************************************************!*\
  !*** ./node_modules/css-line-break/dist/linebreak-trie.js ***!
  \************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nmodule.exports = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\n\n//# sourceURL=webpack://html2canvas/./node_modules/css-line-break/dist/linebreak-trie.js?")},"./src/Angle.js":
/*!**********************!*\
  !*** ./src/Angle.js ***!
  \**********************/
/*! exports provided: parseAngle */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseAngle\", function() { return parseAngle; });\n\n\nvar ANGLE = /([+-]?\\d*\\.?\\d+)(deg|grad|rad|turn)/i;\nvar parseAngle = function parseAngle(angle) {\n  var match = angle.match(ANGLE);\n\n  if (match) {\n    var value = parseFloat(match[1]);\n\n    switch (match[2].toLowerCase()) {\n      case 'deg':\n        return Math.PI * value / 180;\n\n      case 'grad':\n        return Math.PI / 200 * value;\n\n      case 'rad':\n        return value;\n\n      case 'turn':\n        return Math.PI * 2 * value;\n    }\n  }\n\n  return null;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Angle.js?")},"./src/Bounds.js":
/*!***********************!*\
  !*** ./src/Bounds.js ***!
  \***********************/
/*! exports provided: Bounds, parseBounds, calculatePaddingBox, calculateContentBox, parseDocumentSize, parsePathForBorder, calculateBorderBoxPath, calculatePaddingBoxPath, parseBoundCurves */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bounds", function() { return Bounds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBounds", function() { return parseBounds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculatePaddingBox", function() { return calculatePaddingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateContentBox", function() { return calculateContentBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseDocumentSize", function() { return parseDocumentSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parsePathForBorder", function() { return parsePathForBorder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBorderBoxPath", function() { return calculateBorderBoxPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculatePaddingBoxPath", function() { return calculatePaddingBoxPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBoundCurves", function() { return parseBoundCurves; });\n/* harmony import */ var _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./drawing/Vector */ "./src/drawing/Vector.js");\n/* harmony import */ var _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./drawing/BezierCurve */ "./src/drawing/BezierCurve.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar TOP = 0;\nvar RIGHT = 1;\nvar BOTTOM = 2;\nvar LEFT = 3;\nvar H = 0;\nvar V = 1;\nvar Bounds =\n/*#__PURE__*/\nfunction () {\n  function Bounds(x, y, w, h) {\n    _classCallCheck(this, Bounds);\n\n    this.left = x;\n    this.top = y;\n    this.width = w;\n    this.height = h;\n  }\n\n  _createClass(Bounds, null, [{\n    key: "fromClientRect",\n    value: function fromClientRect(clientRect, scrollX, scrollY) {\n      return new Bounds(clientRect.left + scrollX, clientRect.top + scrollY, clientRect.width, clientRect.height);\n    }\n  }]);\n\n  return Bounds;\n}();\nvar parseBounds = function parseBounds(node, scrollX, scrollY) {\n  return Bounds.fromClientRect(node.getBoundingClientRect(), scrollX, scrollY);\n};\nvar calculatePaddingBox = function calculatePaddingBox(bounds, borders) {\n  return new Bounds(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth));\n};\nvar calculateContentBox = function calculateContentBox(bounds, padding, borders) {\n  // TODO support percentage paddings\n  var paddingTop = padding[TOP].value;\n  var paddingRight = padding[RIGHT].value;\n  var paddingBottom = padding[BOTTOM].value;\n  var paddingLeft = padding[LEFT].value;\n  return new Bounds(bounds.left + paddingLeft + borders[LEFT].borderWidth, bounds.top + paddingTop + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth + paddingLeft + paddingRight), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth + paddingTop + paddingBottom));\n};\nvar parseDocumentSize = function parseDocumentSize(document) {\n  var body = document.body;\n  var documentElement = document.documentElement;\n\n  if (!body || !documentElement) {\n    throw new Error( true ? "Unable to get document size" : undefined);\n  }\n\n  var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\n  var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\n  return new Bounds(0, 0, width, height);\n};\nvar parsePathForBorder = function parsePathForBorder(curves, borderSide) {\n  switch (borderSide) {\n    case TOP:\n      return createPathFromCurves(curves.topLeftOuter, curves.topLeftInner, curves.topRightOuter, curves.topRightInner);\n\n    case RIGHT:\n      return createPathFromCurves(curves.topRightOuter, curves.topRightInner, curves.bottomRightOuter, curves.bottomRightInner);\n\n    case BOTTOM:\n      return createPathFromCurves(curves.bottomRightOuter, curves.bottomRightInner, curves.bottomLeftOuter, curves.bottomLeftInner);\n\n    case LEFT:\n    default:\n      return createPathFromCurves(curves.bottomLeftOuter, curves.bottomLeftInner, curves.topLeftOuter, curves.topLeftInner);\n  }\n};\n\nvar createPathFromCurves = function createPathFromCurves(outer1, inner1, outer2, inner2) {\n  var path = [];\n\n  if (outer1 instanceof _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"]) {\n    path.push(outer1.subdivide(0.5, false));\n  } else {\n    path.push(outer1);\n  }\n\n  if (outer2 instanceof _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"]) {\n    path.push(outer2.subdivide(0.5, true));\n  } else {\n    path.push(outer2);\n  }\n\n  if (inner2 instanceof _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"]) {\n    path.push(inner2.subdivide(0.5, true).reverse());\n  } else {\n    path.push(inner2);\n  }\n\n  if (inner1 instanceof _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"]) {\n    path.push(inner1.subdivide(0.5, false).reverse());\n  } else {\n    path.push(inner1);\n  }\n\n  return path;\n};\n\nvar calculateBorderBoxPath = function calculateBorderBoxPath(curves) {\n  return [curves.topLeftOuter, curves.topRightOuter, curves.bottomRightOuter, curves.bottomLeftOuter];\n};\nvar calculatePaddingBoxPath = function calculatePaddingBoxPath(curves) {\n  return [curves.topLeftInner, curves.topRightInner, curves.bottomRightInner, curves.bottomLeftInner];\n};\nvar parseBoundCurves = function parseBoundCurves(bounds, borders, borderRadius) {\n  var tlh = borderRadius[CORNER.TOP_LEFT][H].getAbsoluteValue(bounds.width);\n  var tlv = borderRadius[CORNER.TOP_LEFT][V].getAbsoluteValue(bounds.height);\n  var trh = borderRadius[CORNER.TOP_RIGHT][H].getAbsoluteValue(bounds.width);\n  var trv = borderRadius[CORNER.TOP_RIGHT][V].getAbsoluteValue(bounds.height);\n  var brh = borderRadius[CORNER.BOTTOM_RIGHT][H].getAbsoluteValue(bounds.width);\n  var brv = borderRadius[CORNER.BOTTOM_RIGHT][V].getAbsoluteValue(bounds.height);\n  var blh = borderRadius[CORNER.BOTTOM_LEFT][H].getAbsoluteValue(bounds.width);\n  var blv = borderRadius[CORNER.BOTTOM_LEFT][V].getAbsoluteValue(bounds.height);\n  var factors = [];\n  factors.push((tlh + trh) / bounds.width);\n  factors.push((blh + brh) / bounds.width);\n  factors.push((tlv + blv) / bounds.height);\n  factors.push((trv + brv) / bounds.height);\n  var maxFactor = Math.max.apply(Math, factors);\n\n  if (maxFactor > 1) {\n    tlh /= maxFactor;\n    tlv /= maxFactor;\n    trh /= maxFactor;\n    trv /= maxFactor;\n    brh /= maxFactor;\n    brv /= maxFactor;\n    blh /= maxFactor;\n    blv /= maxFactor;\n  }\n\n  var topWidth = bounds.width - trh;\n  var rightHeight = bounds.height - brv;\n  var bottomWidth = bounds.width - brh;\n  var leftHeight = bounds.height - blv;\n  return {\n    topLeftOuter: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left, bounds.top),\n    topLeftInner: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, Math.max(0, tlh - borders[LEFT].borderWidth), Math.max(0, tlv - borders[TOP].borderWidth), CORNER.TOP_LEFT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth),\n    topRightOuter: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + bounds.width, bounds.top),\n    topRightInner: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borders[LEFT].borderWidth), bounds.top + borders[TOP].borderWidth, topWidth > bounds.width + borders[LEFT].borderWidth ? 0 : trh - borders[LEFT].borderWidth, trv - borders[TOP].borderWidth, CORNER.TOP_RIGHT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + borders[TOP].borderWidth),\n    bottomRightOuter: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + bounds.width, bounds.top + bounds.height),\n    bottomRightInner: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borders[LEFT].borderWidth), bounds.top + Math.min(rightHeight, bounds.height + borders[TOP].borderWidth), Math.max(0, brh - borders[RIGHT].borderWidth), brv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_RIGHT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth),\n    bottomLeftOuter: blh > 0 || blv > 0 ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left, bounds.top + bounds.height),\n    bottomLeftInner: blh > 0 || blv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + leftHeight, Math.max(0, blh - borders[LEFT].borderWidth), blv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_LEFT) : new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](bounds.left + borders[LEFT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth)\n  };\n};\nvar CORNER = {\n  TOP_LEFT: 0,\n  TOP_RIGHT: 1,\n  BOTTOM_RIGHT: 2,\n  BOTTOM_LEFT: 3\n};\n\nvar getCurvePoints = function getCurvePoints(x, y, r1, r2, position) {\n  var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n  var ox = r1 * kappa; // control point offset horizontal\n\n  var oy = r2 * kappa; // control point offset vertical\n\n  var xm = x + r1; // x-middle\n\n  var ym = y + r2; // y-middle\n\n  switch (position) {\n    case CORNER.TOP_LEFT:\n      return new _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"](new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, ym), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, ym - oy), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm - ox, y), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, y));\n\n    case CORNER.TOP_RIGHT:\n      return new _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"](new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, y), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x + ox, y), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, ym - oy), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, ym));\n\n    case CORNER.BOTTOM_RIGHT:\n      return new _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"](new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, y), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, y + oy), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x + ox, ym), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, ym));\n\n    case CORNER.BOTTOM_LEFT:\n    default:\n      return new _drawing_BezierCurve__WEBPACK_IMPORTED_MODULE_1__["default"](new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm, ym), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](xm - ox, ym), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, y + oy), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_0__["default"](x, y));\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/Bounds.js?')},"./src/Clone.js":
/*!**********************!*\
  !*** ./src/Clone.js ***!
  \**********************/
/*! exports provided: DocumentCloner, cloneWindow */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentCloner", function() { return DocumentCloner; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cloneWindow", function() { return cloneWindow; });\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _Proxy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proxy */ "./src/Proxy.js");\n/* harmony import */ var _ResourceLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResourceLoader */ "./src/ResourceLoader.js");\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Util */ "./src/Util.js");\n/* harmony import */ var _parsing_background__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsing/background */ "./src/parsing/background.js");\n/* harmony import */ var _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderer/CanvasRenderer */ "./src/renderer/CanvasRenderer.js");\n/* harmony import */ var _PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PseudoNodeContent */ "./src/PseudoNodeContent.js");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar IGNORE_ATTRIBUTE = \'data-html2canvas-ignore\';\nvar DocumentCloner =\n/*#__PURE__*/\nfunction () {\n  function DocumentCloner(element, options, logger, copyInline, renderer) {\n    _classCallCheck(this, DocumentCloner);\n\n    this.referenceElement = element;\n    this.scrolledElements = [];\n    this.copyStyles = copyInline;\n    this.inlineImages = copyInline;\n    this.logger = logger;\n    this.options = options;\n    this.renderer = renderer;\n    this.resourceLoader = new _ResourceLoader__WEBPACK_IMPORTED_MODULE_2__["default"](options, logger, window);\n    this.pseudoContentData = {\n      counters: {},\n      quoteDepth: 0\n    }; // $FlowFixMe\n\n    this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\n  }\n\n  _createClass(DocumentCloner, [{\n    key: "inlineAllImages",\n    value: function inlineAllImages(node) {\n      var _this = this;\n\n      if (this.inlineImages && node) {\n        var style = node.style;\n        Promise.all(Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["parseBackgroundImage"])(style.backgroundImage).map(function (backgroundImage) {\n          if (backgroundImage.method === \'url\') {\n            return _this.resourceLoader.inlineImage(backgroundImage.args[0]).then(function (img) {\n              return img && typeof img.src === \'string\' ? "url(\\"".concat(img.src, "\\")") : \'none\';\n            }).catch(function (e) {\n              if (true) {\n                _this.logger.log("Unable to load image", e);\n              }\n            });\n          }\n\n          return Promise.resolve("".concat(backgroundImage.prefix).concat(backgroundImage.method, "(").concat(backgroundImage.args.join(\',\'), ")"));\n        })).then(function (backgroundImages) {\n          if (backgroundImages.length > 1) {\n            // TODO Multiple backgrounds somehow broken in Chrome\n            style.backgroundColor = \'\';\n          }\n\n          style.backgroundImage = backgroundImages.join(\',\');\n        });\n\n        if (node instanceof HTMLImageElement) {\n          this.resourceLoader.inlineImage(node.src).then(function (img) {\n            if (img && node instanceof HTMLImageElement && node.parentNode) {\n              var parentNode = node.parentNode;\n              var clonedChild = Object(_Util__WEBPACK_IMPORTED_MODULE_3__["copyCSSStyles"])(node.style, img.cloneNode(false));\n              parentNode.replaceChild(clonedChild, node);\n            }\n          }).catch(function (e) {\n            if (true) {\n              _this.logger.log("Unable to load image", e);\n            }\n          });\n        }\n      }\n    }\n  }, {\n    key: "inlineFonts",\n    value: function inlineFonts(document) {\n      var _this2 = this;\n\n      return Promise.all(Array.from(document.styleSheets).map(function (sheet) {\n        if (sheet.href) {\n          return fetch(sheet.href).then(function (res) {\n            return res.text();\n          }).then(function (text) {\n            return createStyleSheetFontsFromText(text, sheet.href);\n          }).catch(function (e) {\n            if (true) {\n              _this2.logger.log("Unable to load stylesheet", e);\n            }\n\n            return [];\n          });\n        }\n\n        return getSheetFonts(sheet, document);\n      })).then(function (fonts) {\n        return fonts.reduce(function (acc, font) {\n          return acc.concat(font);\n        }, []);\n      }).then(function (fonts) {\n        return Promise.all(fonts.map(function (font) {\n          return fetch(font.formats[0].src).then(function (response) {\n            return response.blob();\n          }).then(function (blob) {\n            return new Promise(function (resolve, reject) {\n              var reader = new FileReader();\n              reader.onerror = reject;\n\n              reader.onload = function () {\n                // $FlowFixMe\n                var result = reader.result;\n                resolve(result);\n              };\n\n              reader.readAsDataURL(blob);\n            });\n          }).then(function (dataUri) {\n            font.fontFace.setProperty(\'src\', "url(\\"".concat(dataUri, "\\")"));\n            return "@font-face {".concat(font.fontFace.cssText, " ");\n          });\n        }));\n      }).then(function (fontCss) {\n        var style = document.createElement(\'style\');\n        style.textContent = fontCss.join(\'\\n\');\n\n        _this2.documentElement.appendChild(style);\n      });\n    }\n  }, {\n    key: "createElementClone",\n    value: function createElementClone(node) {\n      var _this3 = this;\n\n      if (this.copyStyles && node instanceof HTMLCanvasElement) {\n        var img = node.ownerDocument.createElement(\'img\');\n\n        try {\n          img.src = node.toDataURL();\n          return img;\n        } catch (e) {\n          if (true) {\n            this.logger.log("Unable to clone canvas contents, canvas is tainted");\n          }\n        }\n      }\n\n      if (node instanceof HTMLIFrameElement) {\n        var tempIframe = node.cloneNode(false);\n        var iframeKey = generateIframeKey();\n        tempIframe.setAttribute(\'data-html2canvas-internal-iframe-key\', iframeKey);\n\n        var _parseBounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["parseBounds"])(node, 0, 0),\n            width = _parseBounds.width,\n            height = _parseBounds.height;\n\n        this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(node, this.options).then(function (documentElement) {\n          return _this3.renderer(documentElement, {\n            allowTaint: _this3.options.allowTaint,\n            backgroundColor: \'#ffffff\',\n            canvas: null,\n            imageTimeout: _this3.options.imageTimeout,\n            logging: _this3.options.logging,\n            proxy: _this3.options.proxy,\n            removeContainer: _this3.options.removeContainer,\n            scale: _this3.options.scale,\n            foreignObjectRendering: _this3.options.foreignObjectRendering,\n            useCORS: _this3.options.useCORS,\n            target: new _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_5__["default"](),\n            width: width,\n            height: height,\n            x: 0,\n            y: 0,\n            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\n            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\n            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\n            scrollY: documentElement.ownerDocument.defaultView.pageYOffset\n          }, _this3.logger.child(iframeKey));\n        }).then(function (canvas) {\n          return new Promise(function (resolve, reject) {\n            var iframeCanvas = document.createElement(\'img\');\n\n            iframeCanvas.onload = function () {\n              return resolve(canvas);\n            };\n\n            iframeCanvas.onerror = function (event) {\n              // Empty iframes may result in empty "data:," URLs, which are invalid from the <img>\'s point of view\n              // and instead of `onload` cause `onerror` and unhandled rejection warnings\n              // https://github.com/niklasvh/html2canvas/issues/1502\n              iframeCanvas.src == \'data:,\' ? resolve(canvas) : reject(event);\n            };\n\n            iframeCanvas.src = canvas.toDataURL();\n\n            if (tempIframe.parentNode) {\n              tempIframe.parentNode.replaceChild(Object(_Util__WEBPACK_IMPORTED_MODULE_3__["copyCSSStyles"])(node.ownerDocument.defaultView.getComputedStyle(node), iframeCanvas), tempIframe);\n            }\n          });\n        });\n        return tempIframe;\n      }\n\n      try {\n        if (node instanceof HTMLStyleElement && node.sheet && node.sheet.cssRules) {\n          var css = [].slice.call(node.sheet.cssRules, 0).reduce(function (css, rule) {\n            if (rule && rule.cssText) {\n              return css + rule.cssText;\n            }\n\n            return css;\n          }, \'\');\n          var style = node.cloneNode(false);\n          style.textContent = css;\n          return style;\n        }\n      } catch (e) {\n        // accessing node.sheet.cssRules throws a DOMException\n        this.logger.log(\'Unable to access cssRules property\');\n\n        if (e.name !== \'SecurityError\') {\n          this.logger.log(e);\n          throw e;\n        }\n      }\n\n      return node.cloneNode(false);\n    }\n  }, {\n    key: "cloneNode",\n    value: function cloneNode(node) {\n      var clone = node.nodeType === Node.TEXT_NODE ? document.createTextNode(node.nodeValue) : this.createElementClone(node);\n      var window = node.ownerDocument.defaultView;\n      var style = node instanceof window.HTMLElement ? window.getComputedStyle(node) : null;\n      var styleBefore = node instanceof window.HTMLElement ? window.getComputedStyle(node, \':before\') : null;\n      var styleAfter = node instanceof window.HTMLElement ? window.getComputedStyle(node, \':after\') : null;\n\n      if (this.referenceElement === node && clone instanceof window.HTMLElement) {\n        this.clonedReferenceElement = clone;\n      }\n\n      if (clone instanceof window.HTMLBodyElement) {\n        createPseudoHideStyles(clone);\n      }\n\n      var counters = Object(_PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["parseCounterReset"])(style, this.pseudoContentData);\n      var contentBefore = Object(_PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["resolvePseudoContent"])(node, styleBefore, this.pseudoContentData);\n\n      for (var child = node.firstChild; child; child = child.nextSibling) {\n        if (child.nodeType !== Node.ELEMENT_NODE || child.nodeName !== \'SCRIPT\' && // $FlowFixMe\n        !child.hasAttribute(IGNORE_ATTRIBUTE) && (typeof this.options.ignoreElements !== \'function\' || // $FlowFixMe\n        !this.options.ignoreElements(child))) {\n          if (!this.copyStyles || child.nodeName !== \'STYLE\') {\n            clone.appendChild(this.cloneNode(child));\n          }\n        }\n      }\n\n      var contentAfter = Object(_PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["resolvePseudoContent"])(node, styleAfter, this.pseudoContentData);\n      Object(_PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["popCounters"])(counters, this.pseudoContentData);\n\n      if (node instanceof window.HTMLElement && clone instanceof window.HTMLElement) {\n        if (styleBefore) {\n          this.inlineAllImages(inlinePseudoElement(node, clone, styleBefore, contentBefore, PSEUDO_BEFORE));\n        }\n\n        if (styleAfter) {\n          this.inlineAllImages(inlinePseudoElement(node, clone, styleAfter, contentAfter, PSEUDO_AFTER));\n        }\n\n        if (style && this.copyStyles && !(node instanceof HTMLIFrameElement)) {\n          Object(_Util__WEBPACK_IMPORTED_MODULE_3__["copyCSSStyles"])(style, clone);\n        }\n\n        this.inlineAllImages(clone);\n\n        if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\n          this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\n        }\n\n        switch (node.nodeName) {\n          case \'CANVAS\':\n            if (!this.copyStyles) {\n              cloneCanvasContents(node, clone);\n            }\n\n            break;\n\n          case \'TEXTAREA\':\n          case \'SELECT\':\n            clone.value = node.value;\n            break;\n        }\n      }\n\n      return clone;\n    }\n  }]);\n\n  return DocumentCloner;\n}();\n\nvar getSheetFonts = function getSheetFonts(sheet, document) {\n  // $FlowFixMe\n  return (sheet.cssRules ? Array.from(sheet.cssRules) : []).filter(function (rule) {\n    return rule.type === CSSRule.FONT_FACE_RULE;\n  }).map(function (rule) {\n    var src = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["parseBackgroundImage"])(rule.style.getPropertyValue(\'src\'));\n    var formats = [];\n\n    for (var i = 0; i < src.length; i++) {\n      if (src[i].method === \'url\' && src[i + 1] && src[i + 1].method === \'format\') {\n        var a = document.createElement(\'a\');\n        a.href = src[i].args[0];\n\n        if (document.body) {\n          document.body.appendChild(a);\n        }\n\n        var font = {\n          src: a.href,\n          format: src[i + 1].args[0]\n        };\n        formats.push(font);\n      }\n    }\n\n    return {\n      // TODO select correct format for browser),\n      formats: formats.filter(function (font) {\n        return /^woff/i.test(font.format);\n      }),\n      fontFace: rule.style\n    };\n  }).filter(function (font) {\n    return font.formats.length;\n  });\n};\n\nvar createStyleSheetFontsFromText = function createStyleSheetFontsFromText(text, baseHref) {\n  var doc = document.implementation.createHTMLDocument(\'\');\n  var base = document.createElement(\'base\'); // $FlowFixMe\n\n  base.href = baseHref;\n  var style = document.createElement(\'style\');\n  style.textContent = text;\n\n  if (doc.head) {\n    doc.head.appendChild(base);\n  }\n\n  if (doc.body) {\n    doc.body.appendChild(style);\n  }\n\n  return style.sheet ? getSheetFonts(style.sheet, doc) : [];\n};\n\nvar restoreOwnerScroll = function restoreOwnerScroll(ownerDocument, x, y) {\n  if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n    ownerDocument.defaultView.scrollTo(x, y);\n  }\n};\n\nvar cloneCanvasContents = function cloneCanvasContents(canvas, clonedCanvas) {\n  try {\n    if (clonedCanvas) {\n      clonedCanvas.width = canvas.width;\n      clonedCanvas.height = canvas.height;\n      var ctx = canvas.getContext(\'2d\');\n      var clonedCtx = clonedCanvas.getContext(\'2d\');\n\n      if (ctx) {\n        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n      } else {\n        clonedCtx.drawImage(canvas, 0, 0);\n      }\n    }\n  } catch (e) {}\n};\n\nvar inlinePseudoElement = function inlinePseudoElement(node, clone, style, contentItems, pseudoElt) {\n  if (!style || !style.content || style.content === \'none\' || style.content === \'-moz-alt-content\' || style.display === \'none\') {\n    return;\n  }\n\n  var anonymousReplacedElement = clone.ownerDocument.createElement(\'html2canvaspseudoelement\');\n  Object(_Util__WEBPACK_IMPORTED_MODULE_3__["copyCSSStyles"])(style, anonymousReplacedElement);\n\n  if (contentItems) {\n    var len = contentItems.length;\n\n    for (var i = 0; i < len; i++) {\n      var item = contentItems[i];\n\n      switch (item.type) {\n        case _PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["PSEUDO_CONTENT_ITEM_TYPE"].IMAGE:\n          var img = clone.ownerDocument.createElement(\'img\');\n          img.src = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["parseBackgroundImage"])("url(".concat(item.value, ")"))[0].args[0];\n          img.style.opacity = \'1\';\n          anonymousReplacedElement.appendChild(img);\n          break;\n\n        case _PseudoNodeContent__WEBPACK_IMPORTED_MODULE_6__["PSEUDO_CONTENT_ITEM_TYPE"].TEXT:\n          anonymousReplacedElement.appendChild(clone.ownerDocument.createTextNode(item.value));\n          break;\n      }\n    }\n  }\n\n  anonymousReplacedElement.className = "".concat(PSEUDO_HIDE_ELEMENT_CLASS_BEFORE, " ").concat(PSEUDO_HIDE_ELEMENT_CLASS_AFTER);\n  clone.className += pseudoElt === PSEUDO_BEFORE ? " ".concat(PSEUDO_HIDE_ELEMENT_CLASS_BEFORE) : " ".concat(PSEUDO_HIDE_ELEMENT_CLASS_AFTER);\n\n  if (pseudoElt === PSEUDO_BEFORE) {\n    clone.insertBefore(anonymousReplacedElement, clone.firstChild);\n  } else {\n    clone.appendChild(anonymousReplacedElement);\n  }\n\n  return anonymousReplacedElement;\n};\n\nvar URL_REGEXP = /^url\\((.+)\\)$/i;\nvar PSEUDO_BEFORE = \':before\';\nvar PSEUDO_AFTER = \':after\';\nvar PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \'___html2canvas___pseudoelement_before\';\nvar PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \'___html2canvas___pseudoelement_after\';\nvar PSEUDO_HIDE_ELEMENT_STYLE = "{\\n    content: \\"\\" !important;\\n    display: none !important;\\n}";\n\nvar createPseudoHideStyles = function createPseudoHideStyles(body) {\n  createStyles(body, ".".concat(PSEUDO_HIDE_ELEMENT_CLASS_BEFORE).concat(PSEUDO_BEFORE).concat(PSEUDO_HIDE_ELEMENT_STYLE, "\\n         .").concat(PSEUDO_HIDE_ELEMENT_CLASS_AFTER).concat(PSEUDO_AFTER).concat(PSEUDO_HIDE_ELEMENT_STYLE));\n};\n\nvar createStyles = function createStyles(body, styles) {\n  var style = body.ownerDocument.createElement(\'style\');\n  style.innerHTML = styles;\n  body.appendChild(style);\n};\n\nvar initNode = function initNode(_ref) {\n  var _ref2 = _slicedToArray(_ref, 3),\n      element = _ref2[0],\n      x = _ref2[1],\n      y = _ref2[2];\n\n  element.scrollLeft = x;\n  element.scrollTop = y;\n};\n\nvar generateIframeKey = function generateIframeKey() {\n  return Math.ceil(Date.now() + Math.random() * 10000000).toString(16);\n};\n\nvar DATA_URI_REGEXP = /^data:text\\/(.+);(base64)?,(.*)$/i;\n\nvar getIframeDocumentElement = function getIframeDocumentElement(node, options) {\n  try {\n    return Promise.resolve(node.contentWindow.document.documentElement);\n  } catch (e) {\n    return options.proxy ? Object(_Proxy__WEBPACK_IMPORTED_MODULE_1__["Proxy"])(node.src, options).then(function (html) {\n      var match = html.match(DATA_URI_REGEXP);\n\n      if (!match) {\n        return Promise.reject();\n      }\n\n      return match[2] === \'base64\' ? window.atob(decodeURIComponent(match[3])) : decodeURIComponent(match[3]);\n    }).then(function (html) {\n      return createIframeContainer(node.ownerDocument, Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["parseBounds"])(node, 0, 0)).then(function (cloneIframeContainer) {\n        var cloneWindow = cloneIframeContainer.contentWindow;\n        var documentClone = cloneWindow.document;\n        documentClone.open();\n        documentClone.write(html);\n        var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {\n          return documentClone.documentElement;\n        });\n        documentClone.close();\n        return iframeLoad;\n      });\n    }) : Promise.reject();\n  }\n};\n\nvar createIframeContainer = function createIframeContainer(ownerDocument, bounds) {\n  var cloneIframeContainer = ownerDocument.createElement(\'iframe\');\n  cloneIframeContainer.className = \'html2canvas-container\';\n  cloneIframeContainer.style.visibility = \'hidden\';\n  cloneIframeContainer.style.position = \'fixed\';\n  cloneIframeContainer.style.left = \'-10000px\';\n  cloneIframeContainer.style.top = \'0px\';\n  cloneIframeContainer.style.border = \'0\';\n  cloneIframeContainer.width = bounds.width.toString();\n  cloneIframeContainer.height = bounds.height.toString();\n  cloneIframeContainer.scrolling = \'no\'; // ios won\'t scroll without it\n\n  cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, \'true\');\n\n  if (!ownerDocument.body) {\n    return Promise.reject( true ? "Body element not found in Document that is getting rendered" : undefined);\n  }\n\n  ownerDocument.body.appendChild(cloneIframeContainer);\n  return Promise.resolve(cloneIframeContainer);\n};\n\nvar iframeLoader = function iframeLoader(cloneIframeContainer) {\n  var cloneWindow = cloneIframeContainer.contentWindow;\n  var documentClone = cloneWindow.document;\n  return new Promise(function (resolve, reject) {\n    cloneWindow.onload = cloneIframeContainer.onload = documentClone.onreadystatechange = function () {\n      var interval = setInterval(function () {\n        if (documentClone.body.childNodes.length > 0 && documentClone.readyState === \'complete\') {\n          clearInterval(interval);\n          resolve(cloneIframeContainer);\n        }\n      }, 50);\n    };\n  });\n};\n\nvar cloneWindow = function cloneWindow(ownerDocument, bounds, referenceElement, options, logger, renderer) {\n  var cloner = new DocumentCloner(referenceElement, options, logger, false, renderer);\n  var scrollX = ownerDocument.defaultView.pageXOffset;\n  var scrollY = ownerDocument.defaultView.pageYOffset;\n  return createIframeContainer(ownerDocument, bounds).then(function (cloneIframeContainer) {\n    var cloneWindow = cloneIframeContainer.contentWindow;\n    var documentClone = cloneWindow.document;\n    /* Chrome doesn\'t detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n\n    var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {\n      cloner.scrolledElements.forEach(initNode);\n      cloneWindow.scrollTo(bounds.left, bounds.top);\n\n      if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (cloneWindow.scrollY !== bounds.top || cloneWindow.scrollX !== bounds.left)) {\n        documentClone.documentElement.style.top = -bounds.top + \'px\';\n        documentClone.documentElement.style.left = -bounds.left + \'px\';\n        documentClone.documentElement.style.position = \'absolute\';\n      }\n\n      var result = Promise.resolve([cloneIframeContainer, cloner.clonedReferenceElement, cloner.resourceLoader]);\n      var onclone = options.onclone;\n      return cloner.clonedReferenceElement instanceof cloneWindow.HTMLElement || cloner.clonedReferenceElement instanceof ownerDocument.defaultView.HTMLElement || cloner.clonedReferenceElement instanceof HTMLElement ? typeof onclone === \'function\' ? Promise.resolve().then(function () {\n        return onclone(documentClone);\n      }).then(function () {\n        return result;\n      }) : result : Promise.reject( true ? "Error finding the ".concat(referenceElement.nodeName, " in the cloned document") : undefined);\n    });\n    documentClone.open();\n    documentClone.write("".concat(serializeDoctype(document.doctype), "<html></html>")); // Chrome scrolls the parent document for some reason after the write to the cloned window???\n\n    restoreOwnerScroll(referenceElement.ownerDocument, scrollX, scrollY);\n    documentClone.replaceChild(documentClone.adoptNode(cloner.documentElement), documentClone.documentElement);\n    documentClone.close();\n    return iframeLoad;\n  });\n};\n\nvar serializeDoctype = function serializeDoctype(doctype) {\n  var str = \'\';\n\n  if (doctype) {\n    str += \'<!DOCTYPE \';\n\n    if (doctype.name) {\n      str += doctype.name;\n    }\n\n    if (doctype.internalSubset) {\n      str += doctype.internalSubset;\n    }\n\n    if (doctype.publicId) {\n      str += "\\"".concat(doctype.publicId, "\\"");\n    }\n\n    if (doctype.systemId) {\n      str += "\\"".concat(doctype.systemId, "\\"");\n    }\n\n    str += \'>\';\n  }\n\n  return str;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Clone.js?')},"./src/Color.js":
/*!**********************!*\
  !*** ./src/Color.js ***!
  \**********************/
/*! exports provided: default, TRANSPARENT */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRANSPARENT", function() { return TRANSPARENT; });\n // http://dev.w3.org/csswg/css-color/\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar HEX3 = /^#([a-f0-9]{3})$/i;\n\nvar hex3 = function hex3(value) {\n  var match = value.match(HEX3);\n\n  if (match) {\n    return [parseInt(match[1][0] + match[1][0], 16), parseInt(match[1][1] + match[1][1], 16), parseInt(match[1][2] + match[1][2], 16), null];\n  }\n\n  return false;\n};\n\nvar HEX6 = /^#([a-f0-9]{6})$/i;\n\nvar hex6 = function hex6(value) {\n  var match = value.match(HEX6);\n\n  if (match) {\n    return [parseInt(match[1].substring(0, 2), 16), parseInt(match[1].substring(2, 4), 16), parseInt(match[1].substring(4, 6), 16), null];\n  }\n\n  return false;\n};\n\nvar RGB = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\n\nvar rgb = function rgb(value) {\n  var match = value.match(RGB);\n\n  if (match) {\n    return [Number(match[1]), Number(match[2]), Number(match[3]), null];\n  }\n\n  return false;\n};\n\nvar RGBA = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\n\nvar rgba = function rgba(value) {\n  var match = value.match(RGBA);\n\n  if (match && match.length > 4) {\n    return [Number(match[1]), Number(match[2]), Number(match[3]), Number(match[4])];\n  }\n\n  return false;\n};\n\nvar fromArray = function fromArray(array) {\n  return [Math.min(array[0], 255), Math.min(array[1], 255), Math.min(array[2], 255), array.length > 3 ? array[3] : null];\n};\n\nvar namedColor = function namedColor(name) {\n  var color = NAMED_COLORS[name.toLowerCase()];\n  return color ? color : false;\n};\n\nvar Color =\n/*#__PURE__*/\nfunction () {\n  function Color(value) {\n    _classCallCheck(this, Color);\n\n    var _ref = Array.isArray(value) ? fromArray(value) : hex3(value) || rgb(value) || rgba(value) || namedColor(value) || hex6(value) || [0, 0, 0, null],\n        _ref2 = _slicedToArray(_ref, 4),\n        r = _ref2[0],\n        g = _ref2[1],\n        b = _ref2[2],\n        a = _ref2[3];\n\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.a = a;\n  }\n\n  _createClass(Color, [{\n    key: "isTransparent",\n    value: function isTransparent() {\n      return this.a === 0;\n    }\n  }, {\n    key: "toString",\n    value: function toString() {\n      return this.a !== null && this.a !== 1 ? "rgba(".concat(this.r, ",").concat(this.g, ",").concat(this.b, ",").concat(this.a, ")") : "rgb(".concat(this.r, ",").concat(this.g, ",").concat(this.b, ")");\n    }\n  }]);\n\n  return Color;\n}();\n\n\nvar NAMED_COLORS = {\n  transparent: [0, 0, 0, 0],\n  aliceblue: [240, 248, 255, null],\n  antiquewhite: [250, 235, 215, null],\n  aqua: [0, 255, 255, null],\n  aquamarine: [127, 255, 212, null],\n  azure: [240, 255, 255, null],\n  beige: [245, 245, 220, null],\n  bisque: [255, 228, 196, null],\n  black: [0, 0, 0, null],\n  blanchedalmond: [255, 235, 205, null],\n  blue: [0, 0, 255, null],\n  blueviolet: [138, 43, 226, null],\n  brown: [165, 42, 42, null],\n  burlywood: [222, 184, 135, null],\n  cadetblue: [95, 158, 160, null],\n  chartreuse: [127, 255, 0, null],\n  chocolate: [210, 105, 30, null],\n  coral: [255, 127, 80, null],\n  cornflowerblue: [100, 149, 237, null],\n  cornsilk: [255, 248, 220, null],\n  crimson: [220, 20, 60, null],\n  cyan: [0, 255, 255, null],\n  darkblue: [0, 0, 139, null],\n  darkcyan: [0, 139, 139, null],\n  darkgoldenrod: [184, 134, 11, null],\n  darkgray: [169, 169, 169, null],\n  darkgreen: [0, 100, 0, null],\n  darkgrey: [169, 169, 169, null],\n  darkkhaki: [189, 183, 107, null],\n  darkmagenta: [139, 0, 139, null],\n  darkolivegreen: [85, 107, 47, null],\n  darkorange: [255, 140, 0, null],\n  darkorchid: [153, 50, 204, null],\n  darkred: [139, 0, 0, null],\n  darksalmon: [233, 150, 122, null],\n  darkseagreen: [143, 188, 143, null],\n  darkslateblue: [72, 61, 139, null],\n  darkslategray: [47, 79, 79, null],\n  darkslategrey: [47, 79, 79, null],\n  darkturquoise: [0, 206, 209, null],\n  darkviolet: [148, 0, 211, null],\n  deeppink: [255, 20, 147, null],\n  deepskyblue: [0, 191, 255, null],\n  dimgray: [105, 105, 105, null],\n  dimgrey: [105, 105, 105, null],\n  dodgerblue: [30, 144, 255, null],\n  firebrick: [178, 34, 34, null],\n  floralwhite: [255, 250, 240, null],\n  forestgreen: [34, 139, 34, null],\n  fuchsia: [255, 0, 255, null],\n  gainsboro: [220, 220, 220, null],\n  ghostwhite: [248, 248, 255, null],\n  gold: [255, 215, 0, null],\n  goldenrod: [218, 165, 32, null],\n  gray: [128, 128, 128, null],\n  green: [0, 128, 0, null],\n  greenyellow: [173, 255, 47, null],\n  grey: [128, 128, 128, null],\n  honeydew: [240, 255, 240, null],\n  hotpink: [255, 105, 180, null],\n  indianred: [205, 92, 92, null],\n  indigo: [75, 0, 130, null],\n  ivory: [255, 255, 240, null],\n  khaki: [240, 230, 140, null],\n  lavender: [230, 230, 250, null],\n  lavenderblush: [255, 240, 245, null],\n  lawngreen: [124, 252, 0, null],\n  lemonchiffon: [255, 250, 205, null],\n  lightblue: [173, 216, 230, null],\n  lightcoral: [240, 128, 128, null],\n  lightcyan: [224, 255, 255, null],\n  lightgoldenrodyellow: [250, 250, 210, null],\n  lightgray: [211, 211, 211, null],\n  lightgreen: [144, 238, 144, null],\n  lightgrey: [211, 211, 211, null],\n  lightpink: [255, 182, 193, null],\n  lightsalmon: [255, 160, 122, null],\n  lightseagreen: [32, 178, 170, null],\n  lightskyblue: [135, 206, 250, null],\n  lightslategray: [119, 136, 153, null],\n  lightslategrey: [119, 136, 153, null],\n  lightsteelblue: [176, 196, 222, null],\n  lightyellow: [255, 255, 224, null],\n  lime: [0, 255, 0, null],\n  limegreen: [50, 205, 50, null],\n  linen: [250, 240, 230, null],\n  magenta: [255, 0, 255, null],\n  maroon: [128, 0, 0, null],\n  mediumaquamarine: [102, 205, 170, null],\n  mediumblue: [0, 0, 205, null],\n  mediumorchid: [186, 85, 211, null],\n  mediumpurple: [147, 112, 219, null],\n  mediumseagreen: [60, 179, 113, null],\n  mediumslateblue: [123, 104, 238, null],\n  mediumspringgreen: [0, 250, 154, null],\n  mediumturquoise: [72, 209, 204, null],\n  mediumvioletred: [199, 21, 133, null],\n  midnightblue: [25, 25, 112, null],\n  mintcream: [245, 255, 250, null],\n  mistyrose: [255, 228, 225, null],\n  moccasin: [255, 228, 181, null],\n  navajowhite: [255, 222, 173, null],\n  navy: [0, 0, 128, null],\n  oldlace: [253, 245, 230, null],\n  olive: [128, 128, 0, null],\n  olivedrab: [107, 142, 35, null],\n  orange: [255, 165, 0, null],\n  orangered: [255, 69, 0, null],\n  orchid: [218, 112, 214, null],\n  palegoldenrod: [238, 232, 170, null],\n  palegreen: [152, 251, 152, null],\n  paleturquoise: [175, 238, 238, null],\n  palevioletred: [219, 112, 147, null],\n  papayawhip: [255, 239, 213, null],\n  peachpuff: [255, 218, 185, null],\n  peru: [205, 133, 63, null],\n  pink: [255, 192, 203, null],\n  plum: [221, 160, 221, null],\n  powderblue: [176, 224, 230, null],\n  purple: [128, 0, 128, null],\n  rebeccapurple: [102, 51, 153, null],\n  red: [255, 0, 0, null],\n  rosybrown: [188, 143, 143, null],\n  royalblue: [65, 105, 225, null],\n  saddlebrown: [139, 69, 19, null],\n  salmon: [250, 128, 114, null],\n  sandybrown: [244, 164, 96, null],\n  seagreen: [46, 139, 87, null],\n  seashell: [255, 245, 238, null],\n  sienna: [160, 82, 45, null],\n  silver: [192, 192, 192, null],\n  skyblue: [135, 206, 235, null],\n  slateblue: [106, 90, 205, null],\n  slategray: [112, 128, 144, null],\n  slategrey: [112, 128, 144, null],\n  snow: [255, 250, 250, null],\n  springgreen: [0, 255, 127, null],\n  steelblue: [70, 130, 180, null],\n  tan: [210, 180, 140, null],\n  teal: [0, 128, 128, null],\n  thistle: [216, 191, 216, null],\n  tomato: [255, 99, 71, null],\n  turquoise: [64, 224, 208, null],\n  violet: [238, 130, 238, null],\n  wheat: [245, 222, 179, null],\n  white: [255, 255, 255, null],\n  whitesmoke: [245, 245, 245, null],\n  yellow: [255, 255, 0, null],\n  yellowgreen: [154, 205, 50, null]\n};\nvar TRANSPARENT = new Color([0, 0, 0, 0]);\n\n//# sourceURL=webpack://html2canvas/./src/Color.js?')},"./src/Feature.js":
/*!************************!*\
  !*** ./src/Feature.js ***!
  \************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer/ForeignObjectRenderer */ \"./src/renderer/ForeignObjectRenderer.js\");\n\n\n\n\nvar testRangeBounds = function testRangeBounds(document) {\n  var TEST_HEIGHT = 123;\n\n  if (document.createRange) {\n    var range = document.createRange();\n\n    if (range.getBoundingClientRect) {\n      var testElement = document.createElement('boundtest');\n      testElement.style.height = \"\".concat(TEST_HEIGHT, \"px\");\n      testElement.style.display = 'block';\n      document.body.appendChild(testElement);\n      range.selectNode(testElement);\n      var rangeBounds = range.getBoundingClientRect();\n      var rangeHeight = Math.round(rangeBounds.height);\n      document.body.removeChild(testElement);\n\n      if (rangeHeight === TEST_HEIGHT) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\nvar testCORS = function testCORS() {\n  return typeof new Image().crossOrigin !== 'undefined';\n};\n\nvar testResponseType = function testResponseType() {\n  return typeof new XMLHttpRequest().responseType === 'string';\n};\n\nvar testSVG = function testSVG(document) {\n  var img = new Image();\n  var canvas = document.createElement('canvas');\n  var ctx = canvas.getContext('2d');\n  img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\n\n  try {\n    ctx.drawImage(img, 0, 0);\n    canvas.toDataURL();\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isGreenPixel = function isGreenPixel(data) {\n  return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\n};\n\nvar testForeignObject = function testForeignObject(document) {\n  var canvas = document.createElement('canvas');\n  var size = 100;\n  canvas.width = size;\n  canvas.height = size;\n  var ctx = canvas.getContext('2d');\n  ctx.fillStyle = 'rgb(0, 255, 0)';\n  ctx.fillRect(0, 0, size, size);\n  var img = new Image();\n  var greenImageSrc = canvas.toDataURL();\n  img.src = greenImageSrc;\n  var svg = Object(_renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__[\"createForeignObjectSVG\"])(size, size, 0, 0, img);\n  ctx.fillStyle = 'red';\n  ctx.fillRect(0, 0, size, size);\n  return Object(_renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__[\"loadSerializedSVG\"])(svg).then(function (img) {\n    ctx.drawImage(img, 0, 0);\n    var data = ctx.getImageData(0, 0, size, size).data;\n    ctx.fillStyle = 'red';\n    ctx.fillRect(0, 0, size, size);\n    var node = document.createElement('div');\n    node.style.backgroundImage = \"url(\".concat(greenImageSrc, \")\");\n    node.style.height = \"\".concat(size, \"px\"); // Firefox 55 does not render inline <img /> tags\n\n    return isGreenPixel(data) ? Object(_renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__[\"loadSerializedSVG\"])(Object(_renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_0__[\"createForeignObjectSVG\"])(size, size, 0, 0, node)) : Promise.reject(false);\n  }).then(function (img) {\n    ctx.drawImage(img, 0, 0); // Edge does not render background-images\n\n    return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\n  }).catch(function (e) {\n    return false;\n  });\n};\n\nvar FEATURES = {\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_RANGE_BOUNDS() {\n    'use strict';\n\n    var value = testRangeBounds(document);\n    Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_SVG_DRAWING() {\n    'use strict';\n\n    var value = testSVG(document);\n    Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_FOREIGNOBJECT_DRAWING() {\n    'use strict';\n\n    var value = typeof Array.from === 'function' && typeof window.fetch === 'function' ? testForeignObject(document) : Promise.resolve(false);\n    Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_CORS_IMAGES() {\n    'use strict';\n\n    var value = testCORS();\n    Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_RESPONSE_TYPE() {\n    'use strict';\n\n    var value = testResponseType();\n    Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', {\n      value: value\n    });\n    return value;\n  },\n\n  // $FlowFixMe - get/set properties not yet supported\n  get SUPPORT_CORS_XHR() {\n    'use strict';\n\n    var value = 'withCredentials' in new XMLHttpRequest();\n    Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', {\n      value: value\n    });\n    return value;\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (FEATURES);\n\n//# sourceURL=webpack://html2canvas/./src/Feature.js?")},"./src/Font.js":
/*!*********************!*\
  !*** ./src/Font.js ***!
  \*********************/
/*! exports provided: FontMetrics */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontMetrics\", function() { return FontMetrics; });\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SAMPLE_TEXT = 'Hidden Text';\n\nvar FontMetrics =\n/*#__PURE__*/\nfunction () {\n  function FontMetrics(document) {\n    _classCallCheck(this, FontMetrics);\n\n    this._data = {};\n    this._document = document;\n  }\n\n  _createClass(FontMetrics, [{\n    key: \"_parseMetrics\",\n    value: function _parseMetrics(font) {\n      var container = this._document.createElement('div');\n\n      var img = this._document.createElement('img');\n\n      var span = this._document.createElement('span');\n\n      var body = this._document.body;\n\n      if (!body) {\n        throw new Error( true ? 'No document found for font metrics' : undefined);\n      }\n\n      container.style.visibility = 'hidden';\n      container.style.fontFamily = font.fontFamily;\n      container.style.fontSize = font.fontSize;\n      container.style.margin = '0';\n      container.style.padding = '0';\n      body.appendChild(container);\n      img.src = _Util__WEBPACK_IMPORTED_MODULE_0__[\"SMALL_IMAGE\"];\n      img.width = 1;\n      img.height = 1;\n      img.style.margin = '0';\n      img.style.padding = '0';\n      img.style.verticalAlign = 'baseline';\n      span.style.fontFamily = font.fontFamily;\n      span.style.fontSize = font.fontSize;\n      span.style.margin = '0';\n      span.style.padding = '0';\n      span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n      container.appendChild(span);\n      container.appendChild(img);\n      var baseline = img.offsetTop - span.offsetTop + 2;\n      container.removeChild(span);\n      container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\n      container.style.lineHeight = 'normal';\n      img.style.verticalAlign = 'super';\n      var middle = img.offsetTop - container.offsetTop + 2;\n      body.removeChild(container);\n      return {\n        baseline: baseline,\n        middle: middle\n      };\n    }\n  }, {\n    key: \"getMetrics\",\n    value: function getMetrics(font) {\n      var key = \"\".concat(font.fontFamily, \" \").concat(font.fontSize);\n\n      if (this._data[key] === undefined) {\n        this._data[key] = this._parseMetrics(font);\n      }\n\n      return this._data[key];\n    }\n  }]);\n\n  return FontMetrics;\n}();\n\n//# sourceURL=webpack://html2canvas/./src/Font.js?")},"./src/Gradient.js":
/*!*************************!*\
  !*** ./src/Gradient.js ***!
  \*************************/
/*! exports provided: GRADIENT_TYPE, RADIAL_GRADIENT_SHAPE, LinearGradient, RadialGradient, parseGradient, transformWebkitRadialGradientArgs */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GRADIENT_TYPE\", function() { return GRADIENT_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RADIAL_GRADIENT_SHAPE\", function() { return RADIAL_GRADIENT_SHAPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LinearGradient\", function() { return LinearGradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RadialGradient\", function() { return RadialGradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseGradient\", function() { return parseGradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transformWebkitRadialGradientArgs\", function() { return transformWebkitRadialGradientArgs; });\n/* harmony import */ var _NodeContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NodeContainer */ \"./src/NodeContainer.js\");\n/* harmony import */ var _Angle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Angle */ \"./src/Angle.js\");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Color */ \"./src/Color.js\");\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Length */ \"./src/Length.js\");\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar SIDE_OR_CORNER = /^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i;\nvar PERCENTAGE_ANGLES = /^([+-]?\\d*\\.?\\d+)% ([+-]?\\d*\\.?\\d+)%$/i;\nvar ENDS_WITH_LENGTH = /(px)|%|( 0)$/i;\nvar FROM_TO_COLORSTOP = /^(from|to|color-stop)\\((?:([\\d.]+)(%)?,\\s*)?(.+?)\\)$/i;\nvar RADIAL_SHAPE_DEFINITION = /^\\s*(circle|ellipse)?\\s*((?:([\\d.]+)(px|r?em|%)\\s*(?:([\\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\\s*(?:at\\s*(?:(left|center|right)|([\\d.]+)(px|r?em|%))\\s+(?:(top|center|bottom)|([\\d.]+)(px|r?em|%)))?(?:\\s|$)/i;\nvar GRADIENT_TYPE = {\n  LINEAR_GRADIENT: 0,\n  RADIAL_GRADIENT: 1\n};\nvar RADIAL_GRADIENT_SHAPE = {\n  CIRCLE: 0,\n  ELLIPSE: 1\n};\nvar LENGTH_FOR_POSITION = {\n  left: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('0%'),\n  top: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('0%'),\n  center: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('50%'),\n  right: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('100%'),\n  bottom: new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('100%')\n};\nvar LinearGradient = function LinearGradient(colorStops, direction) {\n  _classCallCheck(this, LinearGradient);\n\n  this.type = GRADIENT_TYPE.LINEAR_GRADIENT;\n  this.colorStops = colorStops;\n  this.direction = direction;\n};\nvar RadialGradient = function RadialGradient(colorStops, shape, center, radius) {\n  _classCallCheck(this, RadialGradient);\n\n  this.type = GRADIENT_TYPE.RADIAL_GRADIENT;\n  this.colorStops = colorStops;\n  this.shape = shape;\n  this.center = center;\n  this.radius = radius;\n};\nvar parseGradient = function parseGradient(container, _ref, bounds) {\n  var args = _ref.args,\n      method = _ref.method,\n      prefix = _ref.prefix;\n\n  if (method === 'linear-gradient') {\n    return parseLinearGradient(args, bounds, !!prefix);\n  } else if (method === 'gradient' && args[0] === 'linear') {\n    // TODO handle correct angle\n    return parseLinearGradient(['to bottom'].concat(transformObsoleteColorStops(args.slice(3))), bounds, !!prefix);\n  } else if (method === 'radial-gradient') {\n    return parseRadialGradient(container, prefix === '-webkit-' ? transformWebkitRadialGradientArgs(args) : args, bounds);\n  } else if (method === 'gradient' && args[0] === 'radial') {\n    return parseRadialGradient(container, transformObsoleteColorStops(transformWebkitRadialGradientArgs(args.slice(1))), bounds);\n  }\n};\n\nvar parseColorStops = function parseColorStops(args, firstColorStopIndex, lineLength) {\n  var colorStops = [];\n\n  for (var i = firstColorStopIndex; i < args.length; i++) {\n    var value = args[i];\n    var HAS_LENGTH = ENDS_WITH_LENGTH.test(value);\n    var lastSpaceIndex = value.lastIndexOf(' ');\n    var color = new _Color__WEBPACK_IMPORTED_MODULE_2__[\"default\"](HAS_LENGTH ? value.substring(0, lastSpaceIndex) : value);\n    var stop = HAS_LENGTH ? new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"](value.substring(lastSpaceIndex + 1)) : i === firstColorStopIndex ? new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('0%') : i === args.length - 1 ? new _Length__WEBPACK_IMPORTED_MODULE_3__[\"default\"]('100%') : null;\n    colorStops.push({\n      color: color,\n      stop: stop\n    });\n  }\n\n  var absoluteValuedColorStops = colorStops.map(function (_ref2) {\n    var color = _ref2.color,\n        stop = _ref2.stop;\n    var absoluteStop = lineLength === 0 ? 0 : stop ? stop.getAbsoluteValue(lineLength) / lineLength : null;\n    return {\n      color: color,\n      // $FlowFixMe\n      stop: absoluteStop\n    };\n  });\n  var previousColorStop = absoluteValuedColorStops[0].stop;\n\n  for (var _i = 0; _i < absoluteValuedColorStops.length; _i++) {\n    if (previousColorStop !== null) {\n      var _stop = absoluteValuedColorStops[_i].stop;\n\n      if (_stop === null) {\n        var n = _i;\n\n        while (absoluteValuedColorStops[n].stop === null) {\n          n++;\n        }\n\n        var steps = n - _i + 1;\n        var nextColorStep = absoluteValuedColorStops[n].stop;\n        var stepSize = (nextColorStep - previousColorStop) / steps;\n\n        for (; _i < n; _i++) {\n          previousColorStop = absoluteValuedColorStops[_i].stop = previousColorStop + stepSize;\n        }\n      } else {\n        previousColorStop = _stop;\n      }\n    }\n  }\n\n  return absoluteValuedColorStops;\n};\n\nvar parseLinearGradient = function parseLinearGradient(args, bounds, hasPrefix) {\n  var angle = Object(_Angle__WEBPACK_IMPORTED_MODULE_1__[\"parseAngle\"])(args[0]);\n  var HAS_SIDE_OR_CORNER = SIDE_OR_CORNER.test(args[0]);\n  var HAS_DIRECTION = HAS_SIDE_OR_CORNER || angle !== null || PERCENTAGE_ANGLES.test(args[0]);\n  var direction = HAS_DIRECTION ? angle !== null ? calculateGradientDirection( // if there is a prefix, the 0° angle points due East (instead of North per W3C)\n  hasPrefix ? angle - Math.PI * 0.5 : angle, bounds) : HAS_SIDE_OR_CORNER ? parseSideOrCorner(args[0], bounds) : parsePercentageAngle(args[0], bounds) : calculateGradientDirection(Math.PI, bounds);\n  var firstColorStopIndex = HAS_DIRECTION ? 1 : 0; // TODO: Fix some inaccuracy with color stops with px values\n\n  var lineLength = Math.min(Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(Math.abs(direction.x0) + Math.abs(direction.x1), Math.abs(direction.y0) + Math.abs(direction.y1)), bounds.width * 2, bounds.height * 2);\n  return new LinearGradient(parseColorStops(args, firstColorStopIndex, lineLength), direction);\n};\n\nvar parseRadialGradient = function parseRadialGradient(container, args, bounds) {\n  var m = args[0].match(RADIAL_SHAPE_DEFINITION);\n  var shape = m && (m[1] === 'circle' || // explicit shape specification\n  m[3] !== undefined && m[5] === undefined) // only one radius coordinate\n  ? RADIAL_GRADIENT_SHAPE.CIRCLE : RADIAL_GRADIENT_SHAPE.ELLIPSE;\n  var radius = {};\n  var center = {};\n\n  if (m) {\n    // Radius\n    if (m[3] !== undefined) {\n      radius.x = Object(_Length__WEBPACK_IMPORTED_MODULE_3__[\"calculateLengthFromValueWithUnit\"])(container, m[3], m[4]).getAbsoluteValue(bounds.width);\n    }\n\n    if (m[5] !== undefined) {\n      radius.y = Object(_Length__WEBPACK_IMPORTED_MODULE_3__[\"calculateLengthFromValueWithUnit\"])(container, m[5], m[6]).getAbsoluteValue(bounds.height);\n    } // Position\n\n\n    if (m[7]) {\n      center.x = LENGTH_FOR_POSITION[m[7].toLowerCase()];\n    } else if (m[8] !== undefined) {\n      center.x = Object(_Length__WEBPACK_IMPORTED_MODULE_3__[\"calculateLengthFromValueWithUnit\"])(container, m[8], m[9]);\n    }\n\n    if (m[10]) {\n      center.y = LENGTH_FOR_POSITION[m[10].toLowerCase()];\n    } else if (m[11] !== undefined) {\n      center.y = Object(_Length__WEBPACK_IMPORTED_MODULE_3__[\"calculateLengthFromValueWithUnit\"])(container, m[11], m[12]);\n    }\n  }\n\n  var gradientCenter = {\n    x: center.x === undefined ? bounds.width / 2 : center.x.getAbsoluteValue(bounds.width),\n    y: center.y === undefined ? bounds.height / 2 : center.y.getAbsoluteValue(bounds.height)\n  };\n  var gradientRadius = calculateRadius(m && m[2] || 'farthest-corner', shape, gradientCenter, radius, bounds);\n  return new RadialGradient(parseColorStops(args, m ? 1 : 0, Math.min(gradientRadius.x, gradientRadius.y)), shape, gradientCenter, gradientRadius);\n};\n\nvar calculateGradientDirection = function calculateGradientDirection(radian, bounds) {\n  var width = bounds.width;\n  var height = bounds.height;\n  var HALF_WIDTH = width * 0.5;\n  var HALF_HEIGHT = height * 0.5;\n  var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\n  var HALF_LINE_LENGTH = lineLength / 2;\n  var x0 = HALF_WIDTH + Math.sin(radian) * HALF_LINE_LENGTH;\n  var y0 = HALF_HEIGHT - Math.cos(radian) * HALF_LINE_LENGTH;\n  var x1 = width - x0;\n  var y1 = height - y0;\n  return {\n    x0: x0,\n    x1: x1,\n    y0: y0,\n    y1: y1\n  };\n};\n\nvar parseTopRight = function parseTopRight(bounds) {\n  return Math.acos(bounds.width / 2 / (Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(bounds.width, bounds.height) / 2));\n};\n\nvar parseSideOrCorner = function parseSideOrCorner(side, bounds) {\n  switch (side) {\n    case 'bottom':\n    case 'to top':\n      return calculateGradientDirection(0, bounds);\n\n    case 'left':\n    case 'to right':\n      return calculateGradientDirection(Math.PI / 2, bounds);\n\n    case 'right':\n    case 'to left':\n      return calculateGradientDirection(3 * Math.PI / 2, bounds);\n\n    case 'top right':\n    case 'right top':\n    case 'to bottom left':\n    case 'to left bottom':\n      return calculateGradientDirection(Math.PI + parseTopRight(bounds), bounds);\n\n    case 'top left':\n    case 'left top':\n    case 'to bottom right':\n    case 'to right bottom':\n      return calculateGradientDirection(Math.PI - parseTopRight(bounds), bounds);\n\n    case 'bottom left':\n    case 'left bottom':\n    case 'to top right':\n    case 'to right top':\n      return calculateGradientDirection(parseTopRight(bounds), bounds);\n\n    case 'bottom right':\n    case 'right bottom':\n    case 'to top left':\n    case 'to left top':\n      return calculateGradientDirection(2 * Math.PI - parseTopRight(bounds), bounds);\n\n    case 'top':\n    case 'to bottom':\n    default:\n      return calculateGradientDirection(Math.PI, bounds);\n  }\n};\n\nvar parsePercentageAngle = function parsePercentageAngle(angle, bounds) {\n  var _angle$split$map = angle.split(' ').map(parseFloat),\n      _angle$split$map2 = _slicedToArray(_angle$split$map, 2),\n      left = _angle$split$map2[0],\n      top = _angle$split$map2[1];\n\n  var ratio = left / 100 * bounds.width / (top / 100 * bounds.height);\n  return calculateGradientDirection(Math.atan(isNaN(ratio) ? 1 : ratio) + Math.PI / 2, bounds);\n};\n\nvar findCorner = function findCorner(bounds, x, y, closest) {\n  var corners = [{\n    x: 0,\n    y: 0\n  }, {\n    x: 0,\n    y: bounds.height\n  }, {\n    x: bounds.width,\n    y: 0\n  }, {\n    x: bounds.width,\n    y: bounds.height\n  }]; // $FlowFixMe\n\n  return corners.reduce(function (stat, corner) {\n    var d = Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - corner.x, y - corner.y);\n\n    if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\n      return {\n        optimumCorner: corner,\n        optimumDistance: d\n      };\n    }\n\n    return stat;\n  }, {\n    optimumDistance: closest ? Infinity : -Infinity,\n    optimumCorner: null\n  }).optimumCorner;\n};\n\nvar calculateRadius = function calculateRadius(extent, shape, center, radius, bounds) {\n  var x = center.x;\n  var y = center.y;\n  var rx = 0;\n  var ry = 0;\n\n  switch (extent) {\n    case 'closest-side':\n      // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradient’s center.\n      // If the shape is an ellipse, it exactly meets the closest side in each dimension.\n      if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n        rx = ry = Math.min(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));\n      } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n        rx = Math.min(Math.abs(x), Math.abs(x - bounds.width));\n        ry = Math.min(Math.abs(y), Math.abs(y - bounds.height));\n      }\n\n      break;\n\n    case 'closest-corner':\n      // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradient’s center.\n      // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\n      if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n        rx = ry = Math.min(Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x, y), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x, y - bounds.height), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - bounds.width, y), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - bounds.width, y - bounds.height));\n      } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n        // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\n        var c = Math.min(Math.abs(y), Math.abs(y - bounds.height)) / Math.min(Math.abs(x), Math.abs(x - bounds.width));\n        var corner = findCorner(bounds, x, y, true);\n        rx = Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(corner.x - x, (corner.y - y) / c);\n        ry = c * rx;\n      }\n\n      break;\n\n    case 'farthest-side':\n      // Same as closest-side, except the ending shape is sized based on the farthest side(s)\n      if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n        rx = ry = Math.max(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));\n      } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n        rx = Math.max(Math.abs(x), Math.abs(x - bounds.width));\n        ry = Math.max(Math.abs(y), Math.abs(y - bounds.height));\n      }\n\n      break;\n\n    case 'farthest-corner':\n      // Same as closest-corner, except the ending shape is sized based on the farthest corner.\n      // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\n      if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {\n        rx = ry = Math.max(Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x, y), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x, y - bounds.height), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - bounds.width, y), Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(x - bounds.width, y - bounds.height));\n      } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {\n        // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\n        var _c = Math.max(Math.abs(y), Math.abs(y - bounds.height)) / Math.max(Math.abs(x), Math.abs(x - bounds.width));\n\n        var _corner = findCorner(bounds, x, y, false);\n\n        rx = Object(_Util__WEBPACK_IMPORTED_MODULE_4__[\"distance\"])(_corner.x - x, (_corner.y - y) / _c);\n        ry = _c * rx;\n      }\n\n      break;\n\n    default:\n      // pixel or percentage values\n      rx = radius.x || 0;\n      ry = radius.y !== undefined ? radius.y : rx;\n      break;\n  }\n\n  return {\n    x: rx,\n    y: ry\n  };\n};\n\nvar transformWebkitRadialGradientArgs = function transformWebkitRadialGradientArgs(args) {\n  var shape = '';\n  var radius = '';\n  var extent = '';\n  var position = '';\n  var idx = 0;\n  var POSITION = /^(left|center|right|\\d+(?:px|r?em|%)?)(?:\\s+(top|center|bottom|\\d+(?:px|r?em|%)?))?$/i;\n  var SHAPE_AND_EXTENT = /^(circle|ellipse)?\\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i;\n  var RADIUS = /^\\d+(px|r?em|%)?(?:\\s+\\d+(px|r?em|%)?)?$/i;\n  var matchStartPosition = args[idx].match(POSITION);\n\n  if (matchStartPosition) {\n    idx++;\n  }\n\n  var matchShapeExtent = args[idx].match(SHAPE_AND_EXTENT);\n\n  if (matchShapeExtent) {\n    shape = matchShapeExtent[1] || '';\n    extent = matchShapeExtent[2] || '';\n\n    if (extent === 'contain') {\n      extent = 'closest-side';\n    } else if (extent === 'cover') {\n      extent = 'farthest-corner';\n    }\n\n    idx++;\n  }\n\n  var matchStartRadius = args[idx].match(RADIUS);\n\n  if (matchStartRadius) {\n    idx++;\n  }\n\n  var matchEndPosition = args[idx].match(POSITION);\n\n  if (matchEndPosition) {\n    idx++;\n  }\n\n  var matchEndRadius = args[idx].match(RADIUS);\n\n  if (matchEndRadius) {\n    idx++;\n  }\n\n  var matchPosition = matchEndPosition || matchStartPosition;\n\n  if (matchPosition && matchPosition[1]) {\n    position = matchPosition[1] + (/^\\d+$/.test(matchPosition[1]) ? 'px' : '');\n\n    if (matchPosition[2]) {\n      position += ' ' + matchPosition[2] + (/^\\d+$/.test(matchPosition[2]) ? 'px' : '');\n    }\n  }\n\n  var matchRadius = matchEndRadius || matchStartRadius;\n\n  if (matchRadius) {\n    radius = matchRadius[0];\n\n    if (!matchRadius[1]) {\n      radius += 'px';\n    }\n  }\n\n  if (position && !shape && !radius && !extent) {\n    radius = position;\n    position = '';\n  }\n\n  if (position) {\n    position = \"at \".concat(position);\n  }\n\n  return [[shape, extent, radius, position].filter(function (s) {\n    return !!s;\n  }).join(' ')].concat(args.slice(idx));\n};\n\nvar transformObsoleteColorStops = function transformObsoleteColorStops(args) {\n  return args.map(function (color) {\n    return color.match(FROM_TO_COLORSTOP);\n  }) // $FlowFixMe\n  .map(function (v, index) {\n    if (!v) {\n      return args[index];\n    }\n\n    switch (v[1]) {\n      case 'from':\n        return \"\".concat(v[4], \" 0%\");\n\n      case 'to':\n        return \"\".concat(v[4], \" 100%\");\n\n      case 'color-stop':\n        if (v[3] === '%') {\n          return \"\".concat(v[4], \" \").concat(v[2]);\n        }\n\n        return \"\".concat(v[4], \" \").concat(parseFloat(v[2]) * 100, \"%\");\n    }\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/Gradient.js?")},"./src/Input.js":
/*!**********************!*\
  !*** ./src/Input.js ***!
  \**********************/
/*! exports provided: INPUT_COLOR, INPUT_BORDERS, INPUT_BACKGROUND, getInputBorderRadius, inlineInputElement, inlineTextAreaElement, inlineSelectElement, reformatInputBounds */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INPUT_COLOR", function() { return INPUT_COLOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INPUT_BORDERS", function() { return INPUT_BORDERS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INPUT_BACKGROUND", function() { return INPUT_BACKGROUND; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInputBorderRadius", function() { return getInputBorderRadius; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inlineInputElement", function() { return inlineInputElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inlineTextAreaElement", function() { return inlineTextAreaElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inlineSelectElement", function() { return inlineSelectElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reformatInputBounds", function() { return reformatInputBounds; });\n/* harmony import */ var _TextContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextContainer */ "./src/TextContainer.js");\n/* harmony import */ var _parsing_background__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/background */ "./src/parsing/background.js");\n/* harmony import */ var _parsing_border__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsing/border */ "./src/parsing/border.js");\n/* harmony import */ var _drawing_Circle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./drawing/Circle */ "./src/drawing/Circle.js");\n/* harmony import */ var _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./drawing/Vector */ "./src/drawing/Vector.js");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Color */ "./src/Color.js");\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Length */ "./src/Length.js");\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _TextBounds__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TextBounds */ "./src/TextBounds.js");\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Util */ "./src/Util.js");\n\n\n\n\n\n\n\n\n\n\n\n\nvar INPUT_COLOR = new _Color__WEBPACK_IMPORTED_MODULE_5__["default"]([42, 42, 42]);\nvar INPUT_BORDER_COLOR = new _Color__WEBPACK_IMPORTED_MODULE_5__["default"]([165, 165, 165]);\nvar INPUT_BACKGROUND_COLOR = new _Color__WEBPACK_IMPORTED_MODULE_5__["default"]([222, 222, 222]);\nvar INPUT_BORDER = {\n  borderWidth: 1,\n  borderColor: INPUT_BORDER_COLOR,\n  borderStyle: _parsing_border__WEBPACK_IMPORTED_MODULE_2__["BORDER_STYLE"].SOLID\n};\nvar INPUT_BORDERS = [INPUT_BORDER, INPUT_BORDER, INPUT_BORDER, INPUT_BORDER];\nvar INPUT_BACKGROUND = {\n  backgroundColor: INPUT_BACKGROUND_COLOR,\n  backgroundImage: [],\n  backgroundClip: _parsing_background__WEBPACK_IMPORTED_MODULE_1__["BACKGROUND_CLIP"].PADDING_BOX,\n  backgroundOrigin: _parsing_background__WEBPACK_IMPORTED_MODULE_1__["BACKGROUND_ORIGIN"].PADDING_BOX\n};\nvar RADIO_BORDER_RADIUS = new _Length__WEBPACK_IMPORTED_MODULE_6__["default"](\'50%\');\nvar RADIO_BORDER_RADIUS_TUPLE = [RADIO_BORDER_RADIUS, RADIO_BORDER_RADIUS];\nvar INPUT_RADIO_BORDER_RADIUS = [RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE];\nvar CHECKBOX_BORDER_RADIUS = new _Length__WEBPACK_IMPORTED_MODULE_6__["default"](\'3px\');\nvar CHECKBOX_BORDER_RADIUS_TUPLE = [CHECKBOX_BORDER_RADIUS, CHECKBOX_BORDER_RADIUS];\nvar INPUT_CHECKBOX_BORDER_RADIUS = [CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE];\nvar getInputBorderRadius = function getInputBorderRadius(node) {\n  return node.type === \'radio\' ? INPUT_RADIO_BORDER_RADIUS : INPUT_CHECKBOX_BORDER_RADIUS;\n};\nvar inlineInputElement = function inlineInputElement(node, container) {\n  if (node.type === \'radio\' || node.type === \'checkbox\') {\n    if (node.checked) {\n      var size = Math.min(container.bounds.width, container.bounds.height);\n      container.childNodes.push(node.type === \'checkbox\' ? [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_4__["default"](container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)] : new _drawing_Circle__WEBPACK_IMPORTED_MODULE_3__["default"](container.bounds.left + size / 4, container.bounds.top + size / 4, size / 4));\n    }\n  } else {\n    inlineFormElement(getInputValue(node), node, container, false);\n  }\n};\nvar inlineTextAreaElement = function inlineTextAreaElement(node, container) {\n  inlineFormElement(node.value, node, container, true);\n};\nvar inlineSelectElement = function inlineSelectElement(node, container) {\n  var option = node.options[node.selectedIndex || 0];\n  inlineFormElement(option ? option.text || \'\' : \'\', node, container, false);\n};\nvar reformatInputBounds = function reformatInputBounds(bounds) {\n  if (bounds.width > bounds.height) {\n    bounds.left += (bounds.width - bounds.height) / 2;\n    bounds.width = bounds.height;\n  } else if (bounds.width < bounds.height) {\n    bounds.top += (bounds.height - bounds.width) / 2;\n    bounds.height = bounds.width;\n  }\n\n  return bounds;\n};\n\nvar inlineFormElement = function inlineFormElement(value, node, container, allowLinebreak) {\n  var body = node.ownerDocument.body;\n\n  if (value.length > 0 && body) {\n    var wrapper = node.ownerDocument.createElement(\'html2canvaswrapper\');\n    Object(_Util__WEBPACK_IMPORTED_MODULE_9__["copyCSSStyles"])(node.ownerDocument.defaultView.getComputedStyle(node, null), wrapper);\n    wrapper.style.position = \'absolute\';\n    wrapper.style.left = "".concat(container.bounds.left, "px");\n    wrapper.style.top = "".concat(container.bounds.top, "px");\n\n    if (!allowLinebreak) {\n      wrapper.style.whiteSpace = \'nowrap\';\n    }\n\n    var text = node.ownerDocument.createTextNode(value);\n    wrapper.appendChild(text);\n    body.appendChild(wrapper);\n    container.childNodes.push(_TextContainer__WEBPACK_IMPORTED_MODULE_0__["default"].fromTextNode(text, container));\n    body.removeChild(wrapper);\n  }\n};\n\nvar getInputValue = function getInputValue(node) {\n  var value = node.type === \'password\' ? new Array(node.value.length + 1).join("\\u2022") : node.value;\n  return value.length === 0 ? node.placeholder || \'\' : value;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Input.js?')},"./src/Length.js":
/*!***********************!*\
  !*** ./src/Length.js ***!
  \***********************/
/*! exports provided: LENGTH_TYPE, default, calculateLengthFromValueWithUnit */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LENGTH_TYPE", function() { return LENGTH_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Length; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateLengthFromValueWithUnit", function() { return calculateLengthFromValueWithUnit; });\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar LENGTH_WITH_UNIT = /([\\d.]+)(px|r?em|%)/i;\nvar LENGTH_TYPE = {\n  PX: 0,\n  PERCENTAGE: 1\n};\n\nvar Length =\n/*#__PURE__*/\nfunction () {\n  function Length(value) {\n    _classCallCheck(this, Length);\n\n    this.type = value.substr(value.length - 1) === \'%\' ? LENGTH_TYPE.PERCENTAGE : LENGTH_TYPE.PX;\n    var parsedValue = parseFloat(value);\n\n    if ( true && isNaN(parsedValue)) {\n      console.error("Invalid value given for Length: \\"".concat(value, "\\""));\n    }\n\n    this.value = isNaN(parsedValue) ? 0 : parsedValue;\n  }\n\n  _createClass(Length, [{\n    key: "isPercentage",\n    value: function isPercentage() {\n      return this.type === LENGTH_TYPE.PERCENTAGE;\n    }\n  }, {\n    key: "getAbsoluteValue",\n    value: function getAbsoluteValue(parentLength) {\n      return this.isPercentage() ? parentLength * (this.value / 100) : this.value;\n    }\n  }], [{\n    key: "create",\n    value: function create(v) {\n      return new Length(v);\n    }\n  }]);\n\n  return Length;\n}();\n\n\n\nvar getRootFontSize = function getRootFontSize(container) {\n  var parent = container.parent;\n  return parent ? getRootFontSize(parent) : parseFloat(container.style.font.fontSize);\n};\n\nvar calculateLengthFromValueWithUnit = function calculateLengthFromValueWithUnit(container, value, unit) {\n  switch (unit) {\n    case \'px\':\n    case \'%\':\n      return new Length(value + unit);\n\n    case \'em\':\n    case \'rem\':\n      var length = new Length(value);\n      length.value *= unit === \'em\' ? parseFloat(container.style.font.fontSize) : getRootFontSize(container);\n      return length;\n\n    default:\n      // TODO: handle correctly if unknown unit is used\n      return new Length(\'0\');\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/Length.js?')},"./src/ListItem.js":
/*!*************************!*\
  !*** ./src/ListItem.js ***!
  \*************************/
/*! exports provided: getListOwner, inlineListItemElement, createCounterText */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getListOwner\", function() { return getListOwner; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inlineListItemElement\", function() { return inlineListItemElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCounterText\", function() { return createCounterText; });\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Util */ \"./src/Util.js\");\n/* harmony import */ var _NodeContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NodeContainer */ \"./src/NodeContainer.js\");\n/* harmony import */ var _TextContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextContainer */ \"./src/TextContainer.js\");\n/* harmony import */ var _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parsing/listStyle */ \"./src/parsing/listStyle.js\");\n/* harmony import */ var _Unicode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Unicode */ \"./src/Unicode.js\");\n\n\n\n\n\n\n // Margin between the enumeration and the list item content\n\nvar MARGIN_RIGHT = 7;\nvar ancestorTypes = ['OL', 'UL', 'MENU'];\nvar getListOwner = function getListOwner(container) {\n  var parent = container.parent;\n\n  if (!parent) {\n    return null;\n  }\n\n  do {\n    var isAncestor = ancestorTypes.indexOf(parent.tagName) !== -1;\n\n    if (isAncestor) {\n      return parent;\n    }\n\n    parent = parent.parent;\n  } while (parent);\n\n  return container.parent;\n};\nvar inlineListItemElement = function inlineListItemElement(node, container, resourceLoader) {\n  var listStyle = container.style.listStyle;\n\n  if (!listStyle) {\n    return;\n  }\n\n  var style = node.ownerDocument.defaultView.getComputedStyle(node, null);\n  var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n  Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"copyCSSStyles\"])(style, wrapper);\n  wrapper.style.position = 'absolute';\n  wrapper.style.bottom = 'auto';\n  wrapper.style.display = 'block';\n  wrapper.style.letterSpacing = 'normal';\n\n  switch (listStyle.listStylePosition) {\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_POSITION\"].OUTSIDE:\n      wrapper.style.left = 'auto';\n      wrapper.style.right = \"\".concat(node.ownerDocument.defaultView.innerWidth - container.bounds.left - container.style.margin[1].getAbsoluteValue(container.bounds.width) + MARGIN_RIGHT, \"px\");\n      wrapper.style.textAlign = 'right';\n      break;\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_POSITION\"].INSIDE:\n      wrapper.style.left = \"\".concat(container.bounds.left - container.style.margin[3].getAbsoluteValue(container.bounds.width), \"px\");\n      wrapper.style.right = 'auto';\n      wrapper.style.textAlign = 'left';\n      break;\n  }\n\n  var text;\n  var MARGIN_TOP = container.style.margin[0].getAbsoluteValue(container.bounds.width);\n  var styleImage = listStyle.listStyleImage;\n\n  if (styleImage) {\n    if (styleImage.method === 'url') {\n      var image = node.ownerDocument.createElement('img');\n      image.src = styleImage.args[0];\n      wrapper.style.top = \"\".concat(container.bounds.top - MARGIN_TOP, \"px\");\n      wrapper.style.width = 'auto';\n      wrapper.style.height = 'auto';\n      wrapper.appendChild(image);\n    } else {\n      var size = parseFloat(container.style.font.fontSize) * 0.5;\n      wrapper.style.top = \"\".concat(container.bounds.top - MARGIN_TOP + container.bounds.height - 1.5 * size, \"px\");\n      wrapper.style.width = \"\".concat(size, \"px\");\n      wrapper.style.height = \"\".concat(size, \"px\");\n      wrapper.style.backgroundImage = style.listStyleImage;\n    }\n  } else if (typeof container.listIndex === 'number') {\n    text = node.ownerDocument.createTextNode(createCounterText(container.listIndex, listStyle.listStyleType, true));\n    wrapper.appendChild(text);\n    wrapper.style.top = \"\".concat(container.bounds.top - MARGIN_TOP, \"px\");\n  } // $FlowFixMe\n\n\n  var body = node.ownerDocument.body;\n  body.appendChild(wrapper);\n\n  if (text) {\n    container.childNodes.push(_TextContainer__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromTextNode(text, container));\n    body.removeChild(wrapper);\n  } else {\n    // $FlowFixMe\n    container.childNodes.push(new _NodeContainer__WEBPACK_IMPORTED_MODULE_1__[\"default\"](wrapper, container, resourceLoader, 0));\n  }\n};\nvar ROMAN_UPPER = {\n  integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\n  values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\n};\nvar ARMENIAN = {\n  integers: [9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n  values: ['Ք', 'Փ', 'Ւ', 'Ց', 'Ր', 'Տ', 'Վ', 'Ս', 'Ռ', 'Ջ', 'Պ', 'Չ', 'Ո', 'Շ', 'Ն', 'Յ', 'Մ', 'Ճ', 'Ղ', 'Ձ', 'Հ', 'Կ', 'Ծ', 'Խ', 'Լ', 'Ի', 'Ժ', 'Թ', 'Ը', 'Է', 'Զ', 'Ե', 'Դ', 'Գ', 'Բ', 'Ա']\n};\nvar HEBREW = {\n  integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n  values: ['י׳', 'ט׳', 'ח׳', 'ז׳', 'ו׳', 'ה׳', 'ד׳', 'ג׳', 'ב׳', 'א׳', 'ת', 'ש', 'ר', 'ק', 'צ', 'פ', 'ע', 'ס', 'נ', 'מ', 'ל', 'כ', 'יט', 'יח', 'יז', 'טז', 'טו', 'י', 'ט', 'ח', 'ז', 'ו', 'ה', 'ד', 'ג', 'ב', 'א']\n};\nvar GEORGIAN = {\n  integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],\n  values: ['ჵ', 'ჰ', 'ჯ', 'ჴ', 'ხ', 'ჭ', 'წ', 'ძ', 'ც', 'ჩ', 'შ', 'ყ', 'ღ', 'ქ', 'ფ', 'ჳ', 'ტ', 'ს', 'რ', 'ჟ', 'პ', 'ო', 'ჲ', 'ნ', 'მ', 'ლ', 'კ', 'ი', 'თ', 'ჱ', 'ზ', 'ვ', 'ე', 'დ', 'გ', 'ბ', 'ა']\n};\n\nvar createAdditiveCounter = function createAdditiveCounter(value, min, max, symbols, fallback, suffix) {\n  if (value < min || value > max) {\n    return createCounterText(value, fallback, suffix.length > 0);\n  }\n\n  return symbols.integers.reduce(function (string, integer, index) {\n    while (value >= integer) {\n      value -= integer;\n      string += symbols.values[index];\n    }\n\n    return string;\n  }, '') + suffix;\n};\n\nvar createCounterStyleWithSymbolResolver = function createCounterStyleWithSymbolResolver(value, codePointRangeLength, isNumeric, resolver) {\n  var string = '';\n\n  do {\n    if (!isNumeric) {\n      value--;\n    }\n\n    string = resolver(value) + string;\n    value /= codePointRangeLength;\n  } while (value * codePointRangeLength >= codePointRangeLength);\n\n  return string;\n};\n\nvar createCounterStyleFromRange = function createCounterStyleFromRange(value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\n  var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\n  return (value < 0 ? '-' : '') + (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\n    return Object(_Unicode__WEBPACK_IMPORTED_MODULE_4__[\"fromCodePoint\"])(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\n  }) + suffix);\n};\n\nvar createCounterStyleFromSymbols = function createCounterStyleFromSymbols(value, symbols) {\n  var suffix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '. ';\n  var codePointRangeLength = symbols.length;\n  return createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) {\n    return symbols[Math.floor(codePoint % codePointRangeLength)];\n  }) + suffix;\n};\n\nvar CJK_ZEROS = 1 << 0;\nvar CJK_TEN_COEFFICIENTS = 1 << 1;\nvar CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\nvar CJK_HUNDRED_COEFFICIENTS = 1 << 3;\n\nvar createCJKCounter = function createCJKCounter(value, numbers, multipliers, negativeSign, suffix, flags) {\n  if (value < -9999 || value > 9999) {\n    return createCounterText(value, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_DECIMAL, suffix.length > 0);\n  }\n\n  var tmp = Math.abs(value);\n  var string = suffix;\n\n  if (tmp === 0) {\n    return numbers[0] + string;\n  }\n\n  for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\n    var coefficient = tmp % 10;\n\n    if (coefficient === 0 && Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"contains\"])(flags, CJK_ZEROS) && string !== '') {\n      string = numbers[coefficient] + string;\n    } else if (coefficient > 1 || coefficient === 1 && digit === 0 || coefficient === 1 && digit === 1 && Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"contains\"])(flags, CJK_TEN_COEFFICIENTS) || coefficient === 1 && digit === 1 && Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"contains\"])(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100 || coefficient === 1 && digit > 1 && Object(_Util__WEBPACK_IMPORTED_MODULE_0__[\"contains\"])(flags, CJK_HUNDRED_COEFFICIENTS)) {\n      string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\n    } else if (coefficient === 1 && digit > 0) {\n      string = multipliers[digit - 1] + string;\n    }\n\n    tmp = Math.floor(tmp / 10);\n  }\n\n  return (value < 0 ? negativeSign : '') + string;\n};\n\nvar CHINESE_INFORMAL_MULTIPLIERS = '十百千萬';\nvar CHINESE_FORMAL_MULTIPLIERS = '拾佰仟萬';\nvar JAPANESE_NEGATIVE = 'マイナス';\nvar KOREAN_NEGATIVE = '마이너스';\nvar createCounterText = function createCounterText(value, type, appendSuffix) {\n  var defaultSuffix = appendSuffix ? '. ' : '';\n  var cjkSuffix = appendSuffix ? '、' : '';\n  var koreanSuffix = appendSuffix ? ', ' : '';\n\n  switch (type) {\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DISC:\n      return '•';\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CIRCLE:\n      return '◦';\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].SQUARE:\n      return '◾';\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL_LEADING_ZERO:\n      var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n      return string.length < 4 ? \"0\".concat(string) : string;\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_DECIMAL:\n      return createCounterStyleFromSymbols(value, '〇一二三四五六七八九', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LOWER_ROMAN:\n      return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix).toLowerCase();\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].UPPER_ROMAN:\n      return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LOWER_GREEK:\n      return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LOWER_ALPHA:\n      return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].UPPER_ALPHA:\n      return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].ARABIC_INDIC:\n      return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].ARMENIAN:\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].UPPER_ARMENIAN:\n      return createAdditiveCounter(value, 1, 9999, ARMENIAN, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LOWER_ARMENIAN:\n      return createAdditiveCounter(value, 1, 9999, ARMENIAN, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix).toLowerCase();\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].BENGALI:\n      return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CAMBODIAN:\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KHMER:\n      return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_EARTHLY_BRANCH:\n      return createCounterStyleFromSymbols(value, '子丑寅卯辰巳午未申酉戌亥', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_HEAVENLY_STEM:\n      return createCounterStyleFromSymbols(value, '甲乙丙丁戊己庚辛壬癸', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].CJK_IDEOGRAPHIC:\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TRAD_CHINESE_INFORMAL:\n      return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TRAD_CHINESE_FORMAL:\n      return createCJKCounter(value, '零壹貳參肆伍陸柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].SIMP_CHINESE_INFORMAL:\n      return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].SIMP_CHINESE_FORMAL:\n      return createCJKCounter(value, '零壹贰叁肆伍陆柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].JAPANESE_INFORMAL:\n      return createCJKCounter(value, '〇一二三四五六七八九', '十百千万', JAPANESE_NEGATIVE, cjkSuffix, 0);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].JAPANESE_FORMAL:\n      return createCJKCounter(value, '零壱弐参四伍六七八九', '拾百千万', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KOREAN_HANGUL_FORMAL:\n      return createCJKCounter(value, '영일이삼사오육칠팔구', '십백천만', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KOREAN_HANJA_INFORMAL:\n      return createCJKCounter(value, '零一二三四五六七八九', '十百千萬', KOREAN_NEGATIVE, koreanSuffix, 0);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KOREAN_HANJA_FORMAL:\n      return createCJKCounter(value, '零壹貳參四五六七八九', '拾百千', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DEVANAGARI:\n      return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].GEORGIAN:\n      return createAdditiveCounter(value, 1, 19999, GEORGIAN, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].GUJARATI:\n      return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].GURMUKHI:\n      return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].HEBREW:\n      return createAdditiveCounter(value, 1, 10999, HEBREW, _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].HIRAGANA:\n      return createCounterStyleFromSymbols(value, 'あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん');\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].HIRAGANA_IROHA:\n      return createCounterStyleFromSymbols(value, 'いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす');\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KANNADA:\n      return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KATAKANA:\n      return createCounterStyleFromSymbols(value, 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].KATAKANA_IROHA:\n      return createCounterStyleFromSymbols(value, 'イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス', cjkSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].LAO:\n      return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].MONGOLIAN:\n      return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].MYANMAR:\n      return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].ORIYA:\n      return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].PERSIAN:\n      return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TAMIL:\n      return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TELUGU:\n      return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].THAI:\n      return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].TIBETAN:\n      return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\n\n    case _parsing_listStyle__WEBPACK_IMPORTED_MODULE_3__[\"LIST_STYLE_TYPE\"].DECIMAL:\n    default:\n      return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/ListItem.js?")},"./src/Logger.js":
/*!***********************!*\
  !*** ./src/Logger.js ***!
  \***********************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Logger; });\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Logger =\n/*#__PURE__*/\nfunction () {\n  function Logger(enabled, id, start) {\n    _classCallCheck(this, Logger);\n\n    this.enabled = typeof window !== \'undefined\' && enabled;\n    this.start = start ? start : Date.now();\n    this.id = id;\n  }\n\n  _createClass(Logger, [{\n    key: "child",\n    value: function child(id) {\n      return new Logger(this.enabled, id, this.start);\n    } // eslint-disable-next-line flowtype/no-weak-types\n\n  }, {\n    key: "log",\n    value: function log() {\n      if (this.enabled && window.console && window.console.log) {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        Function.prototype.bind.call(window.console.log, window.console).apply(window.console, [Date.now() - this.start + \'ms\', this.id ? "html2canvas (".concat(this.id, "):") : \'html2canvas:\'].concat([].slice.call(args, 0)));\n      }\n    } // eslint-disable-next-line flowtype/no-weak-types\n\n  }, {\n    key: "error",\n    value: function error() {\n      if (this.enabled && window.console && window.console.error) {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        Function.prototype.bind.call(window.console.error, window.console).apply(window.console, [Date.now() - this.start + \'ms\', this.id ? "html2canvas (".concat(this.id, "):") : \'html2canvas:\'].concat([].slice.call(args, 0)));\n      }\n    }\n  }]);\n\n  return Logger;\n}();\n\n\n\n//# sourceURL=webpack://html2canvas/./src/Logger.js?')},"./src/NodeContainer.js":
/*!******************************!*\
  !*** ./src/NodeContainer.js ***!
  \******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NodeContainer; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Color */ "./src/Color.js");\n/* harmony import */ var _Util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Util */ "./src/Util.js");\n/* harmony import */ var _parsing_background__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parsing/background */ "./src/parsing/background.js");\n/* harmony import */ var _parsing_border__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parsing/border */ "./src/parsing/border.js");\n/* harmony import */ var _parsing_borderRadius__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsing/borderRadius */ "./src/parsing/borderRadius.js");\n/* harmony import */ var _parsing_display__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsing/display */ "./src/parsing/display.js");\n/* harmony import */ var _parsing_float__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parsing/float */ "./src/parsing/float.js");\n/* harmony import */ var _parsing_font__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parsing/font */ "./src/parsing/font.js");\n/* harmony import */ var _parsing_letterSpacing__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parsing/letterSpacing */ "./src/parsing/letterSpacing.js");\n/* harmony import */ var _parsing_lineBreak__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parsing/lineBreak */ "./src/parsing/lineBreak.js");\n/* harmony import */ var _parsing_listStyle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parsing/listStyle */ "./src/parsing/listStyle.js");\n/* harmony import */ var _parsing_margin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parsing/margin */ "./src/parsing/margin.js");\n/* harmony import */ var _parsing_overflow__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./parsing/overflow */ "./src/parsing/overflow.js");\n/* harmony import */ var _parsing_overflowWrap__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./parsing/overflowWrap */ "./src/parsing/overflowWrap.js");\n/* harmony import */ var _parsing_padding__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./parsing/padding */ "./src/parsing/padding.js");\n/* harmony import */ var _parsing_position__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./parsing/position */ "./src/parsing/position.js");\n/* harmony import */ var _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./parsing/textDecoration */ "./src/parsing/textDecoration.js");\n/* harmony import */ var _parsing_textShadow__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./parsing/textShadow */ "./src/parsing/textShadow.js");\n/* harmony import */ var _parsing_textTransform__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./parsing/textTransform */ "./src/parsing/textTransform.js");\n/* harmony import */ var _parsing_transform__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./parsing/transform */ "./src/parsing/transform.js");\n/* harmony import */ var _parsing_visibility__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./parsing/visibility */ "./src/parsing/visibility.js");\n/* harmony import */ var _parsing_word_break__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./parsing/word-break */ "./src/parsing/word-break.js");\n/* harmony import */ var _parsing_zIndex__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./parsing/zIndex */ "./src/parsing/zIndex.js");\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Input */ "./src/Input.js");\n/* harmony import */ var _ListItem__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ListItem */ "./src/ListItem.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar INPUT_TAGS = [\'INPUT\', \'TEXTAREA\', \'SELECT\'];\n\nvar NodeContainer =\n/*#__PURE__*/\nfunction () {\n  function NodeContainer(node, parent, resourceLoader, index) {\n    var _this = this;\n\n    _classCallCheck(this, NodeContainer);\n\n    this.parent = parent;\n    this.tagName = node.tagName;\n    this.index = index;\n    this.childNodes = [];\n    this.listItems = [];\n\n    if (typeof node.start === \'number\') {\n      this.listStart = node.start;\n    }\n\n    var defaultView = node.ownerDocument.defaultView;\n    var scrollX = defaultView.pageXOffset;\n    var scrollY = defaultView.pageYOffset;\n    var style = defaultView.getComputedStyle(node, null);\n    var display = Object(_parsing_display__WEBPACK_IMPORTED_MODULE_5__["parseDisplay"])(style.display);\n    var IS_INPUT = node.type === \'radio\' || node.type === \'checkbox\';\n    var position = Object(_parsing_position__WEBPACK_IMPORTED_MODULE_15__["parsePosition"])(style.position);\n    this.style = {\n      background: IS_INPUT ? _Input__WEBPACK_IMPORTED_MODULE_24__["INPUT_BACKGROUND"] : Object(_parsing_background__WEBPACK_IMPORTED_MODULE_2__["parseBackground"])(style, resourceLoader),\n      border: IS_INPUT ? _Input__WEBPACK_IMPORTED_MODULE_24__["INPUT_BORDERS"] : Object(_parsing_border__WEBPACK_IMPORTED_MODULE_3__["parseBorder"])(style),\n      borderRadius: (node instanceof defaultView.HTMLInputElement || node instanceof HTMLInputElement) && IS_INPUT ? Object(_Input__WEBPACK_IMPORTED_MODULE_24__["getInputBorderRadius"])(node) : Object(_parsing_borderRadius__WEBPACK_IMPORTED_MODULE_4__["parseBorderRadius"])(style),\n      color: IS_INPUT ? _Input__WEBPACK_IMPORTED_MODULE_24__["INPUT_COLOR"] : new _Color__WEBPACK_IMPORTED_MODULE_0__["default"](style.color),\n      display: display,\n      float: Object(_parsing_float__WEBPACK_IMPORTED_MODULE_6__["parseCSSFloat"])(style.float),\n      font: Object(_parsing_font__WEBPACK_IMPORTED_MODULE_7__["parseFont"])(style),\n      letterSpacing: Object(_parsing_letterSpacing__WEBPACK_IMPORTED_MODULE_8__["parseLetterSpacing"])(style.letterSpacing),\n      listStyle: display === _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].LIST_ITEM ? Object(_parsing_listStyle__WEBPACK_IMPORTED_MODULE_10__["parseListStyle"])(style) : null,\n      lineBreak: Object(_parsing_lineBreak__WEBPACK_IMPORTED_MODULE_9__["parseLineBreak"])(style.lineBreak),\n      margin: Object(_parsing_margin__WEBPACK_IMPORTED_MODULE_11__["parseMargin"])(style),\n      opacity: parseFloat(style.opacity),\n      overflow: INPUT_TAGS.indexOf(node.tagName) === -1 ? Object(_parsing_overflow__WEBPACK_IMPORTED_MODULE_12__["parseOverflow"])(style.overflow) : _parsing_overflow__WEBPACK_IMPORTED_MODULE_12__["OVERFLOW"].HIDDEN,\n      overflowWrap: Object(_parsing_overflowWrap__WEBPACK_IMPORTED_MODULE_13__["parseOverflowWrap"])(style.overflowWrap ? style.overflowWrap : style.wordWrap),\n      padding: Object(_parsing_padding__WEBPACK_IMPORTED_MODULE_14__["parsePadding"])(style),\n      position: position,\n      textDecoration: Object(_parsing_textDecoration__WEBPACK_IMPORTED_MODULE_16__["parseTextDecoration"])(style),\n      textShadow: Object(_parsing_textShadow__WEBPACK_IMPORTED_MODULE_17__["parseTextShadow"])(style.textShadow),\n      textTransform: Object(_parsing_textTransform__WEBPACK_IMPORTED_MODULE_18__["parseTextTransform"])(style.textTransform),\n      transform: Object(_parsing_transform__WEBPACK_IMPORTED_MODULE_19__["parseTransform"])(style),\n      visibility: Object(_parsing_visibility__WEBPACK_IMPORTED_MODULE_20__["parseVisibility"])(style.visibility),\n      wordBreak: Object(_parsing_word_break__WEBPACK_IMPORTED_MODULE_21__["parseWordBreak"])(style.wordBreak),\n      zIndex: Object(_parsing_zIndex__WEBPACK_IMPORTED_MODULE_22__["parseZIndex"])(position !== _parsing_position__WEBPACK_IMPORTED_MODULE_15__["POSITION"].STATIC ? style.zIndex : \'auto\')\n    };\n\n    if (this.isTransformed()) {\n      // getBoundingClientRect provides values post-transform, we want them without the transformation\n      node.style.transform = \'matrix(1,0,0,1,0,0)\';\n    }\n\n    if (display === _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].LIST_ITEM) {\n      var listOwner = Object(_ListItem__WEBPACK_IMPORTED_MODULE_25__["getListOwner"])(this);\n\n      if (listOwner) {\n        var listIndex = listOwner.listItems.length;\n        listOwner.listItems.push(this);\n        this.listIndex = node.hasAttribute(\'value\') && typeof node.value === \'number\' ? node.value : listIndex === 0 ? typeof listOwner.listStart === \'number\' ? listOwner.listStart : 1 : listOwner.listItems[listIndex - 1].listIndex + 1;\n      }\n    } // TODO move bound retrieval for all nodes to a later stage?\n\n\n    if (node.tagName === \'IMG\') {\n      node.addEventListener(\'load\', function () {\n        _this.bounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBounds"])(node, scrollX, scrollY);\n        _this.curvedBounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBoundCurves"])(_this.bounds, _this.style.border, _this.style.borderRadius);\n      });\n    }\n\n    this.image = getImage(node, resourceLoader);\n    this.bounds = IS_INPUT ? Object(_Input__WEBPACK_IMPORTED_MODULE_24__["reformatInputBounds"])(Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBounds"])(node, scrollX, scrollY)) : Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBounds"])(node, scrollX, scrollY);\n    this.curvedBounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["parseBoundCurves"])(this.bounds, this.style.border, this.style.borderRadius);\n\n    if (true) {\n      this.name = "".concat(node.tagName.toLowerCase()).concat(node.id ? "#".concat(node.id) : \'\').concat(node.className.toString().split(\' \').map(function (s) {\n        return s.length ? ".".concat(s) : \'\';\n      }).join(\'\'));\n    }\n  }\n\n  _createClass(NodeContainer, [{\n    key: "getClipPaths",\n    value: function getClipPaths() {\n      var parentClips = this.parent ? this.parent.getClipPaths() : [];\n      var isClipped = this.style.overflow !== _parsing_overflow__WEBPACK_IMPORTED_MODULE_12__["OVERFLOW"].VISIBLE;\n      return isClipped ? parentClips.concat([Object(_Bounds__WEBPACK_IMPORTED_MODULE_23__["calculatePaddingBoxPath"])(this.curvedBounds)]) : parentClips;\n    }\n  }, {\n    key: "isInFlow",\n    value: function isInFlow() {\n      return this.isRootElement() && !this.isFloating() && !this.isAbsolutelyPositioned();\n    }\n  }, {\n    key: "isVisible",\n    value: function isVisible() {\n      return !Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].NONE) && this.style.opacity > 0 && this.style.visibility === _parsing_visibility__WEBPACK_IMPORTED_MODULE_20__["VISIBILITY"].VISIBLE;\n    }\n  }, {\n    key: "isAbsolutelyPositioned",\n    value: function isAbsolutelyPositioned() {\n      return this.style.position !== _parsing_position__WEBPACK_IMPORTED_MODULE_15__["POSITION"].STATIC && this.style.position !== _parsing_position__WEBPACK_IMPORTED_MODULE_15__["POSITION"].RELATIVE;\n    }\n  }, {\n    key: "isPositioned",\n    value: function isPositioned() {\n      return this.style.position !== _parsing_position__WEBPACK_IMPORTED_MODULE_15__["POSITION"].STATIC;\n    }\n  }, {\n    key: "isFloating",\n    value: function isFloating() {\n      return this.style.float !== _parsing_float__WEBPACK_IMPORTED_MODULE_6__["FLOAT"].NONE;\n    }\n  }, {\n    key: "isRootElement",\n    value: function isRootElement() {\n      return this.parent === null;\n    }\n  }, {\n    key: "isTransformed",\n    value: function isTransformed() {\n      return this.style.transform !== null;\n    }\n  }, {\n    key: "isPositionedWithZIndex",\n    value: function isPositionedWithZIndex() {\n      return this.isPositioned() && !this.style.zIndex.auto;\n    }\n  }, {\n    key: "isInlineLevel",\n    value: function isInlineLevel() {\n      return Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_BLOCK) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_FLEX) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_GRID) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_LIST_ITEM) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_TABLE);\n    }\n  }, {\n    key: "isInlineBlockOrInlineTable",\n    value: function isInlineBlockOrInlineTable() {\n      return Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_BLOCK) || Object(_Util__WEBPACK_IMPORTED_MODULE_1__["contains"])(this.style.display, _parsing_display__WEBPACK_IMPORTED_MODULE_5__["DISPLAY"].INLINE_TABLE);\n    }\n  }]);\n\n  return NodeContainer;\n}();\n\n\n\nvar getImage = function getImage(node, resourceLoader) {\n  if (node instanceof node.ownerDocument.defaultView.SVGSVGElement || node instanceof SVGSVGElement) {\n    var s = new XMLSerializer();\n    return resourceLoader.loadImage("data:image/svg+xml,".concat(encodeURIComponent(s.serializeToString(node))));\n  }\n\n  switch (node.tagName) {\n    case \'IMG\':\n      // $FlowFixMe\n      var img = node;\n      return resourceLoader.loadImage(img.currentSrc || img.src);\n\n    case \'CANVAS\':\n      // $FlowFixMe\n      var canvas = node;\n      return resourceLoader.loadCanvas(canvas);\n\n    case \'IFRAME\':\n      var iframeKey = node.getAttribute(\'data-html2canvas-internal-iframe-key\');\n\n      if (iframeKey) {\n        return iframeKey;\n      }\n\n      break;\n  }\n\n  return null;\n};\n\n//# sourceURL=webpack://html2canvas/./src/NodeContainer.js?')},"./src/NodeParser.js":
/*!***************************!*\
  !*** ./src/NodeParser.js ***!
  \***************************/
/*! exports provided: NodeParser */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NodeParser", function() { return NodeParser; });\n/* harmony import */ var _StackingContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StackingContext */ "./src/StackingContext.js");\n/* harmony import */ var _NodeContainer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NodeContainer */ "./src/NodeContainer.js");\n/* harmony import */ var _TextContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextContainer */ "./src/TextContainer.js");\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Input */ "./src/Input.js");\n/* harmony import */ var _ListItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ListItem */ "./src/ListItem.js");\n/* harmony import */ var _parsing_listStyle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsing/listStyle */ "./src/parsing/listStyle.js");\n\n\n\n\n\n\n\n\nvar NodeParser = function NodeParser(node, resourceLoader, logger) {\n  if (true) {\n    logger.log("Starting node parsing");\n  }\n\n  var index = 0;\n  var container = new _NodeContainer__WEBPACK_IMPORTED_MODULE_1__["default"](node, null, resourceLoader, index++);\n  var stack = new _StackingContext__WEBPACK_IMPORTED_MODULE_0__["default"](container, null, true);\n  parseNodeTree(node, container, stack, resourceLoader, index);\n\n  if (true) {\n    logger.log("Finished parsing node tree");\n  }\n\n  return stack;\n};\nvar IGNORED_NODE_NAMES = [\'SCRIPT\', \'HEAD\', \'TITLE\', \'OBJECT\', \'BR\', \'OPTION\'];\n\nvar parseNodeTree = function parseNodeTree(node, parent, stack, resourceLoader, index) {\n  if ( true && index > 50000) {\n    throw new Error("Recursion error while parsing node tree");\n  }\n\n  for (var childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {\n    nextNode = childNode.nextSibling;\n    var defaultView = childNode.ownerDocument.defaultView;\n\n    if (childNode instanceof defaultView.Text || childNode instanceof Text || defaultView.parent && childNode instanceof defaultView.parent.Text) {\n      if (childNode.data.trim().length > 0) {\n        parent.childNodes.push(_TextContainer__WEBPACK_IMPORTED_MODULE_2__["default"].fromTextNode(childNode, parent));\n      }\n    } else if (childNode instanceof defaultView.HTMLElement || childNode instanceof HTMLElement || defaultView.parent && childNode instanceof defaultView.parent.HTMLElement) {\n      if (IGNORED_NODE_NAMES.indexOf(childNode.nodeName) === -1) {\n        var container = new _NodeContainer__WEBPACK_IMPORTED_MODULE_1__["default"](childNode, parent, resourceLoader, index++);\n\n        if (container.isVisible()) {\n          if (childNode.tagName === \'INPUT\') {\n            // $FlowFixMe\n            Object(_Input__WEBPACK_IMPORTED_MODULE_3__["inlineInputElement"])(childNode, container);\n          } else if (childNode.tagName === \'TEXTAREA\') {\n            // $FlowFixMe\n            Object(_Input__WEBPACK_IMPORTED_MODULE_3__["inlineTextAreaElement"])(childNode, container);\n          } else if (childNode.tagName === \'SELECT\') {\n            // $FlowFixMe\n            Object(_Input__WEBPACK_IMPORTED_MODULE_3__["inlineSelectElement"])(childNode, container);\n          } else if (container.style.listStyle && container.style.listStyle.listStyleType !== _parsing_listStyle__WEBPACK_IMPORTED_MODULE_5__["LIST_STYLE_TYPE"].NONE) {\n            Object(_ListItem__WEBPACK_IMPORTED_MODULE_4__["inlineListItemElement"])(childNode, container, resourceLoader);\n          }\n\n          var SHOULD_TRAVERSE_CHILDREN = childNode.tagName !== \'TEXTAREA\';\n          var treatAsRealStackingContext = createsRealStackingContext(container, childNode);\n\n          if (treatAsRealStackingContext || createsStackingContext(container)) {\n            // for treatAsRealStackingContext:false, any positioned descendants and descendants\n            // which actually create a new stacking context should be considered part of the parent stacking context\n            var parentStack = treatAsRealStackingContext || container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n            var childStack = new _StackingContext__WEBPACK_IMPORTED_MODULE_0__["default"](container, parentStack, treatAsRealStackingContext);\n            parentStack.contexts.push(childStack);\n\n            if (SHOULD_TRAVERSE_CHILDREN) {\n              parseNodeTree(childNode, container, childStack, resourceLoader, index);\n            }\n          } else {\n            stack.children.push(container);\n\n            if (SHOULD_TRAVERSE_CHILDREN) {\n              parseNodeTree(childNode, container, stack, resourceLoader, index);\n            }\n          }\n        }\n      }\n    } else if (childNode instanceof defaultView.SVGSVGElement || childNode instanceof SVGSVGElement || defaultView.parent && childNode instanceof defaultView.parent.SVGSVGElement) {\n      var _container = new _NodeContainer__WEBPACK_IMPORTED_MODULE_1__["default"](childNode, parent, resourceLoader, index++);\n\n      var _treatAsRealStackingContext = createsRealStackingContext(_container, childNode);\n\n      if (_treatAsRealStackingContext || createsStackingContext(_container)) {\n        // for treatAsRealStackingContext:false, any positioned descendants and descendants\n        // which actually create a new stacking context should be considered part of the parent stacking context\n        var _parentStack = _treatAsRealStackingContext || _container.isPositioned() ? stack.getRealParentStackingContext() : stack;\n\n        var _childStack = new _StackingContext__WEBPACK_IMPORTED_MODULE_0__["default"](_container, _parentStack, _treatAsRealStackingContext);\n\n        _parentStack.contexts.push(_childStack);\n      } else {\n        stack.children.push(_container);\n      }\n    }\n  }\n};\n\nvar createsRealStackingContext = function createsRealStackingContext(container, node) {\n  return container.isRootElement() || container.isPositionedWithZIndex() || container.style.opacity < 1 || container.isTransformed() || isBodyWithTransparentRoot(container, node);\n};\n\nvar createsStackingContext = function createsStackingContext(container) {\n  return container.isPositioned() || container.isFloating();\n};\n\nvar isBodyWithTransparentRoot = function isBodyWithTransparentRoot(container, node) {\n  return node.nodeName === \'BODY\' && container.parent instanceof _NodeContainer__WEBPACK_IMPORTED_MODULE_1__["default"] && container.parent.style.background.backgroundColor.isTransparent();\n};\n\n//# sourceURL=webpack://html2canvas/./src/NodeParser.js?')},"./src/Proxy.js":
/*!**********************!*\
  !*** ./src/Proxy.js ***!
  \**********************/
/*! exports provided: Proxy */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Proxy", function() { return Proxy; });\n/* harmony import */ var _Feature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Feature */ "./src/Feature.js");\n\n\n\nvar Proxy = function Proxy(src, options) {\n  if (!options.proxy) {\n    return Promise.reject( true ? \'No proxy defined\' : undefined);\n  }\n\n  var proxy = options.proxy;\n  return new Promise(function (resolve, reject) {\n    var responseType = _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_CORS_XHR && _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_RESPONSE_TYPE ? \'blob\' : \'text\';\n    var xhr = _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_CORS_XHR ? new XMLHttpRequest() : new XDomainRequest();\n\n    xhr.onload = function () {\n      if (xhr instanceof XMLHttpRequest) {\n        if (xhr.status === 200) {\n          if (responseType === \'text\') {\n            resolve(xhr.response);\n          } else {\n            var reader = new FileReader(); // $FlowFixMe\n\n            reader.addEventListener(\'load\', function () {\n              return resolve(reader.result);\n            }, false); // $FlowFixMe\n\n            reader.addEventListener(\'error\', function (e) {\n              return reject(e);\n            }, false);\n            reader.readAsDataURL(xhr.response);\n          }\n        } else {\n          reject( true ? "Failed to proxy resource ".concat(src.substring(0, 256), " with status code ").concat(xhr.status) : undefined);\n        }\n      } else {\n        resolve(xhr.responseText);\n      }\n    };\n\n    xhr.onerror = reject;\n    xhr.open(\'GET\', "".concat(proxy, "?url=").concat(encodeURIComponent(src), "&responseType=").concat(responseType));\n\n    if (responseType !== \'text\' && xhr instanceof XMLHttpRequest) {\n      xhr.responseType = responseType;\n    }\n\n    if (options.imageTimeout) {\n      var timeout = options.imageTimeout;\n      xhr.timeout = timeout;\n\n      xhr.ontimeout = function () {\n        return reject( true ? "Timed out (".concat(timeout, "ms) proxying ").concat(src.substring(0, 256)) : undefined);\n      };\n    }\n\n    xhr.send();\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/Proxy.js?')},"./src/PseudoNodeContent.js":
/*!**********************************!*\
  !*** ./src/PseudoNodeContent.js ***!
  \**********************************/
/*! exports provided: PSEUDO_CONTENT_ITEM_TYPE, TOKEN_TYPE, parseCounterReset, popCounters, resolvePseudoContent, parseContent */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PSEUDO_CONTENT_ITEM_TYPE\", function() { return PSEUDO_CONTENT_ITEM_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TOKEN_TYPE\", function() { return TOKEN_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseCounterReset\", function() { return parseCounterReset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"popCounters\", function() { return popCounters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolvePseudoContent\", function() { return resolvePseudoContent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseContent\", function() { return parseContent; });\n/* harmony import */ var _ListItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ListItem */ \"./src/ListItem.js\");\n/* harmony import */ var _parsing_listStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/listStyle */ \"./src/parsing/listStyle.js\");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nvar PSEUDO_CONTENT_ITEM_TYPE = {\n  TEXT: 0,\n  IMAGE: 1\n};\nvar TOKEN_TYPE = {\n  STRING: 0,\n  ATTRIBUTE: 1,\n  URL: 2,\n  COUNTER: 3,\n  COUNTERS: 4,\n  OPENQUOTE: 5,\n  CLOSEQUOTE: 6\n};\nvar parseCounterReset = function parseCounterReset(style, data) {\n  if (!style || !style.counterReset || style.counterReset === 'none') {\n    return [];\n  }\n\n  var counterNames = [];\n  var counterResets = style.counterReset.split(/\\s*,\\s*/);\n  var lenCounterResets = counterResets.length;\n\n  for (var i = 0; i < lenCounterResets; i++) {\n    var _counterResets$i$spli = counterResets[i].split(/\\s+/),\n        _counterResets$i$spli2 = _slicedToArray(_counterResets$i$spli, 2),\n        counterName = _counterResets$i$spli2[0],\n        initialValue = _counterResets$i$spli2[1];\n\n    counterNames.push(counterName);\n    var counter = data.counters[counterName];\n\n    if (!counter) {\n      counter = data.counters[counterName] = [];\n    }\n\n    counter.push(parseInt(initialValue || 0, 10));\n  }\n\n  return counterNames;\n};\nvar popCounters = function popCounters(counterNames, data) {\n  var lenCounters = counterNames.length;\n\n  for (var i = 0; i < lenCounters; i++) {\n    data.counters[counterNames[i]].pop();\n  }\n};\nvar resolvePseudoContent = function resolvePseudoContent(node, style, data) {\n  if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {\n    return null;\n  }\n\n  var tokens = parseContent(style.content);\n  var len = tokens.length;\n  var contentItems = [];\n  var s = ''; // increment the counter (if there is a \"counter-increment\" declaration)\n\n  var counterIncrement = style.counterIncrement;\n\n  if (counterIncrement && counterIncrement !== 'none') {\n    var _counterIncrement$spl = counterIncrement.split(/\\s+/),\n        _counterIncrement$spl2 = _slicedToArray(_counterIncrement$spl, 2),\n        counterName = _counterIncrement$spl2[0],\n        incrementValue = _counterIncrement$spl2[1];\n\n    var counter = data.counters[counterName];\n\n    if (counter) {\n      counter[counter.length - 1] += incrementValue === undefined ? 1 : parseInt(incrementValue, 10);\n    }\n  } // build the content string\n\n\n  for (var i = 0; i < len; i++) {\n    var token = tokens[i];\n\n    switch (token.type) {\n      case TOKEN_TYPE.STRING:\n        s += token.value || '';\n        break;\n\n      case TOKEN_TYPE.ATTRIBUTE:\n        if (node instanceof HTMLElement && token.value) {\n          s += node.getAttribute(token.value) || '';\n        }\n\n        break;\n\n      case TOKEN_TYPE.COUNTER:\n        var _counter = data.counters[token.name || ''];\n\n        if (_counter) {\n          s += formatCounterValue([_counter[_counter.length - 1]], '', token.format);\n        }\n\n        break;\n\n      case TOKEN_TYPE.COUNTERS:\n        var counters = data.counters[token.name || ''];\n\n        if (counters) {\n          s += formatCounterValue(counters, token.glue, token.format);\n        }\n\n        break;\n\n      case TOKEN_TYPE.OPENQUOTE:\n        s += getQuote(style, true, data.quoteDepth);\n        data.quoteDepth++;\n        break;\n\n      case TOKEN_TYPE.CLOSEQUOTE:\n        data.quoteDepth--;\n        s += getQuote(style, false, data.quoteDepth);\n        break;\n\n      case TOKEN_TYPE.URL:\n        if (s) {\n          contentItems.push({\n            type: PSEUDO_CONTENT_ITEM_TYPE.TEXT,\n            value: s\n          });\n          s = '';\n        }\n\n        contentItems.push({\n          type: PSEUDO_CONTENT_ITEM_TYPE.IMAGE,\n          value: token.value || ''\n        });\n        break;\n    }\n  }\n\n  if (s) {\n    contentItems.push({\n      type: PSEUDO_CONTENT_ITEM_TYPE.TEXT,\n      value: s\n    });\n  }\n\n  return contentItems;\n};\nvar parseContent = function parseContent(content, cache) {\n  if (cache && cache[content]) {\n    return cache[content];\n  }\n\n  var tokens = [];\n  var len = content.length;\n  var isString = false;\n  var isEscaped = false;\n  var isFunction = false;\n  var str = '';\n  var functionName = '';\n  var args = [];\n\n  for (var i = 0; i < len; i++) {\n    var c = content.charAt(i);\n\n    switch (c) {\n      case \"'\":\n      case '\"':\n        if (isEscaped) {\n          str += c;\n        } else {\n          isString = !isString;\n\n          if (!isFunction && !isString) {\n            tokens.push({\n              type: TOKEN_TYPE.STRING,\n              value: str\n            });\n            str = '';\n          }\n        }\n\n        break;\n\n      case '\\\\':\n        if (isEscaped) {\n          str += c;\n          isEscaped = false;\n        } else {\n          isEscaped = true;\n        }\n\n        break;\n\n      case '(':\n        if (isString) {\n          str += c;\n        } else {\n          isFunction = true;\n          functionName = str;\n          str = '';\n          args = [];\n        }\n\n        break;\n\n      case ')':\n        if (isString) {\n          str += c;\n        } else if (isFunction) {\n          if (str) {\n            args.push(str);\n          }\n\n          switch (functionName) {\n            case 'attr':\n              if (args.length > 0) {\n                tokens.push({\n                  type: TOKEN_TYPE.ATTRIBUTE,\n                  value: args[0]\n                });\n              }\n\n              break;\n\n            case 'counter':\n              if (args.length > 0) {\n                var counter = {\n                  type: TOKEN_TYPE.COUNTER,\n                  name: args[0]\n                };\n\n                if (args.length > 1) {\n                  counter.format = args[1];\n                }\n\n                tokens.push(counter);\n              }\n\n              break;\n\n            case 'counters':\n              if (args.length > 0) {\n                var counters = {\n                  type: TOKEN_TYPE.COUNTERS,\n                  name: args[0]\n                };\n\n                if (args.length > 1) {\n                  counters.glue = args[1];\n                }\n\n                if (args.length > 2) {\n                  counters.format = args[2];\n                }\n\n                tokens.push(counters);\n              }\n\n              break;\n\n            case 'url':\n              if (args.length > 0) {\n                tokens.push({\n                  type: TOKEN_TYPE.URL,\n                  value: args[0]\n                });\n              }\n\n              break;\n          }\n\n          isFunction = false;\n          str = '';\n        }\n\n        break;\n\n      case ',':\n        if (isString) {\n          str += c;\n        } else if (isFunction) {\n          args.push(str);\n          str = '';\n        }\n\n        break;\n\n      case ' ':\n      case '\\t':\n        if (isString) {\n          str += c;\n        } else if (str) {\n          addOtherToken(tokens, str);\n          str = '';\n        }\n\n        break;\n\n      default:\n        str += c;\n    }\n\n    if (c !== '\\\\') {\n      isEscaped = false;\n    }\n  }\n\n  if (str) {\n    addOtherToken(tokens, str);\n  }\n\n  if (cache) {\n    cache[content] = tokens;\n  }\n\n  return tokens;\n};\n\nvar addOtherToken = function addOtherToken(tokens, identifier) {\n  switch (identifier) {\n    case 'open-quote':\n      tokens.push({\n        type: TOKEN_TYPE.OPENQUOTE\n      });\n      break;\n\n    case 'close-quote':\n      tokens.push({\n        type: TOKEN_TYPE.CLOSEQUOTE\n      });\n      break;\n  }\n};\n\nvar getQuote = function getQuote(style, isOpening, quoteDepth) {\n  var quotes = style.quotes ? style.quotes.split(/\\s+/) : [\"'\\\"'\", \"'\\\"'\"];\n  var idx = quoteDepth * 2;\n\n  if (idx >= quotes.length) {\n    idx = quotes.length - 2;\n  }\n\n  if (!isOpening) {\n    ++idx;\n  }\n\n  return quotes[idx].replace(/^[\"']|[\"']$/g, '');\n};\n\nvar formatCounterValue = function formatCounterValue(counter, glue, format) {\n  var len = counter.length;\n  var result = '';\n\n  for (var i = 0; i < len; i++) {\n    if (i > 0) {\n      result += glue || '';\n    }\n\n    result += Object(_ListItem__WEBPACK_IMPORTED_MODULE_0__[\"createCounterText\"])(counter[i], Object(_parsing_listStyle__WEBPACK_IMPORTED_MODULE_1__[\"parseListStyleType\"])(format || 'decimal'), false);\n  }\n\n  return result;\n};\n\n//# sourceURL=webpack://html2canvas/./src/PseudoNodeContent.js?")},"./src/Renderer.js":
/*!*************************!*\
  !*** ./src/Renderer.js ***!
  \*************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Renderer; });\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _Font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Font */ "./src/Font.js");\n/* harmony import */ var _Gradient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Gradient */ "./src/Gradient.js");\n/* harmony import */ var _TextContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextContainer */ "./src/TextContainer.js");\n/* harmony import */ var _parsing_background__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parsing/background */ "./src/parsing/background.js");\n/* harmony import */ var _parsing_border__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parsing/border */ "./src/parsing/border.js");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\nvar Renderer =\n/*#__PURE__*/\nfunction () {\n  function Renderer(target, options) {\n    _classCallCheck(this, Renderer);\n\n    this.target = target;\n    this.options = options;\n    target.render(options);\n  }\n\n  _createClass(Renderer, [{\n    key: "renderNode",\n    value: function renderNode(container) {\n      if (container.isVisible()) {\n        this.renderNodeBackgroundAndBorders(container);\n        this.renderNodeContent(container);\n      }\n    }\n  }, {\n    key: "renderNodeContent",\n    value: function renderNodeContent(container) {\n      var _this = this;\n\n      var callback = function callback() {\n        if (container.childNodes.length) {\n          container.childNodes.forEach(function (child) {\n            if (child instanceof _TextContainer__WEBPACK_IMPORTED_MODULE_3__["default"]) {\n              var style = child.parent.style;\n\n              _this.target.renderTextNode(child.bounds, style.color, style.font, style.textDecoration, style.textShadow);\n            } else {\n              _this.target.drawShape(child, container.style.color);\n            }\n          });\n        }\n\n        if (container.image) {\n          var _image = _this.options.imageStore.get(container.image);\n\n          if (_image) {\n            var contentBox = Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["calculateContentBox"])(container.bounds, container.style.padding, container.style.border);\n\n            var _width = typeof _image.width === \'number\' && _image.width > 0 ? _image.width : contentBox.width;\n\n            var _height = typeof _image.height === \'number\' && _image.height > 0 ? _image.height : contentBox.height;\n\n            if (_width > 0 && _height > 0) {\n              _this.target.clip([Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["calculatePaddingBoxPath"])(container.curvedBounds)], function () {\n                _this.target.drawImage(_image, new _Bounds__WEBPACK_IMPORTED_MODULE_0__["Bounds"](0, 0, _width, _height), contentBox);\n              });\n            }\n          }\n        }\n      };\n\n      var paths = container.getClipPaths();\n\n      if (paths.length) {\n        this.target.clip(paths, callback);\n      } else {\n        callback();\n      }\n    }\n  }, {\n    key: "renderNodeBackgroundAndBorders",\n    value: function renderNodeBackgroundAndBorders(container) {\n      var _this2 = this;\n\n      var HAS_BACKGROUND = !container.style.background.backgroundColor.isTransparent() || container.style.background.backgroundImage.length;\n      var hasRenderableBorders = container.style.border.some(function (border) {\n        return border.borderStyle !== _parsing_border__WEBPACK_IMPORTED_MODULE_5__["BORDER_STYLE"].NONE && !border.borderColor.isTransparent();\n      });\n\n      var callback = function callback() {\n        var backgroundPaintingArea = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroungPaintingArea"])(container.curvedBounds, container.style.background.backgroundClip);\n\n        if (HAS_BACKGROUND) {\n          _this2.target.clip([backgroundPaintingArea], function () {\n            if (!container.style.background.backgroundColor.isTransparent()) {\n              _this2.target.fill(container.style.background.backgroundColor);\n            }\n\n            _this2.renderBackgroundImage(container);\n          });\n        }\n\n        container.style.border.forEach(function (border, side) {\n          if (border.borderStyle !== _parsing_border__WEBPACK_IMPORTED_MODULE_5__["BORDER_STYLE"].NONE && !border.borderColor.isTransparent()) {\n            _this2.renderBorder(border, side, container.curvedBounds);\n          }\n        });\n      };\n\n      if (HAS_BACKGROUND || hasRenderableBorders) {\n        var paths = container.parent ? container.parent.getClipPaths() : [];\n\n        if (paths.length) {\n          this.target.clip(paths, callback);\n        } else {\n          callback();\n        }\n      }\n    }\n  }, {\n    key: "renderBackgroundImage",\n    value: function renderBackgroundImage(container) {\n      var _this3 = this;\n\n      container.style.background.backgroundImage.slice(0).reverse().forEach(function (backgroundImage) {\n        if (backgroundImage.source.method === \'url\' && backgroundImage.source.args.length) {\n          _this3.renderBackgroundRepeat(container, backgroundImage);\n        } else if (/gradient/i.test(backgroundImage.source.method)) {\n          _this3.renderBackgroundGradient(container, backgroundImage);\n        }\n      });\n    }\n  }, {\n    key: "renderBackgroundRepeat",\n    value: function renderBackgroundRepeat(container, background) {\n      var image = this.options.imageStore.get(background.source.args[0]);\n\n      if (image) {\n        var backgroundPositioningArea = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroungPositioningArea"])(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n        var backgroundImageSize = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroundSize"])(background, image, backgroundPositioningArea);\n        var position = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroundPosition"])(background.position, backgroundImageSize, backgroundPositioningArea);\n\n        var _path = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroundRepeatPath"])(background, position, backgroundImageSize, backgroundPositioningArea, container.bounds);\n\n        var _offsetX = Math.round(backgroundPositioningArea.left + position.x);\n\n        var _offsetY = Math.round(backgroundPositioningArea.top + position.y);\n\n        this.target.renderRepeat(_path, image, backgroundImageSize, _offsetX, _offsetY);\n      }\n    }\n  }, {\n    key: "renderBackgroundGradient",\n    value: function renderBackgroundGradient(container, background) {\n      var backgroundPositioningArea = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroungPositioningArea"])(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);\n      var backgroundImageSize = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateGradientBackgroundSize"])(background, backgroundPositioningArea);\n      var position = Object(_parsing_background__WEBPACK_IMPORTED_MODULE_4__["calculateBackgroundPosition"])(background.position, backgroundImageSize, backgroundPositioningArea);\n      var gradientBounds = new _Bounds__WEBPACK_IMPORTED_MODULE_0__["Bounds"](Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y), backgroundImageSize.width, backgroundImageSize.height);\n      var gradient = Object(_Gradient__WEBPACK_IMPORTED_MODULE_2__["parseGradient"])(container, background.source, gradientBounds);\n\n      if (gradient) {\n        switch (gradient.type) {\n          case _Gradient__WEBPACK_IMPORTED_MODULE_2__["GRADIENT_TYPE"].LINEAR_GRADIENT:\n            // $FlowFixMe\n            this.target.renderLinearGradient(gradientBounds, gradient);\n            break;\n\n          case _Gradient__WEBPACK_IMPORTED_MODULE_2__["GRADIENT_TYPE"].RADIAL_GRADIENT:\n            // $FlowFixMe\n            this.target.renderRadialGradient(gradientBounds, gradient);\n            break;\n        }\n      }\n    }\n  }, {\n    key: "renderBorder",\n    value: function renderBorder(border, side, curvePoints) {\n      this.target.drawShape(Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["parsePathForBorder"])(curvePoints, side), border.borderColor);\n    }\n  }, {\n    key: "renderStack",\n    value: function renderStack(stack) {\n      var _this4 = this;\n\n      if (stack.container.isVisible()) {\n        var _opacity = stack.getOpacity();\n\n        if (_opacity !== this._opacity) {\n          this.target.setOpacity(stack.getOpacity());\n          this._opacity = _opacity;\n        }\n\n        var transform = stack.container.style.transform;\n\n        if (transform !== null) {\n          this.target.transform(stack.container.bounds.left + transform.transformOrigin[0].value, stack.container.bounds.top + transform.transformOrigin[1].value, transform.transform, function () {\n            return _this4.renderStackContent(stack);\n          });\n        } else {\n          this.renderStackContent(stack);\n        }\n      }\n    }\n  }, {\n    key: "renderStackContent",\n    value: function renderStackContent(stack) {\n      var _splitStackingContext = splitStackingContexts(stack),\n          _splitStackingContext2 = _slicedToArray(_splitStackingContext, 5),\n          negativeZIndex = _splitStackingContext2[0],\n          zeroOrAutoZIndexOrTransformedOrOpacity = _splitStackingContext2[1],\n          positiveZIndex = _splitStackingContext2[2],\n          nonPositionedFloats = _splitStackingContext2[3],\n          nonPositionedInlineLevel = _splitStackingContext2[4];\n\n      var _splitDescendants = splitDescendants(stack),\n          _splitDescendants2 = _slicedToArray(_splitDescendants, 2),\n          inlineLevel = _splitDescendants2[0],\n          nonInlineLevel = _splitDescendants2[1]; // https://www.w3.org/TR/css-position-3/#painting-order\n      // 1. the background and borders of the element forming the stacking context.\n\n\n      this.renderNodeBackgroundAndBorders(stack.container); // 2. the child stacking contexts with negative stack levels (most negative first).\n\n      negativeZIndex.sort(sortByZIndex).forEach(this.renderStack, this); // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\n\n      this.renderNodeContent(stack.container);\n      nonInlineLevel.forEach(this.renderNode, this); // 4. All non-positioned floating descendants, in tree order. For each one of these,\n      // treat the element as if it created a new stacking context, but any positioned descendants and descendants\n      // which actually create a new stacking context should be considered part of the parent stacking context,\n      // not this new one.\n\n      nonPositionedFloats.forEach(this.renderStack, this); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n\n      nonPositionedInlineLevel.forEach(this.renderStack, this);\n      inlineLevel.forEach(this.renderNode, this); // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:\n      //  All positioned descendants with \'z-index: auto\' or \'z-index: 0\', in tree order.\n      //  For those with \'z-index: auto\', treat the element as if it created a new stacking context,\n      //  but any positioned descendants and descendants which actually create a new stacking context should be\n      //  considered part of the parent stacking context, not this new one. For those with \'z-index: 0\',\n      //  treat the stacking context generated atomically.\n      //\n      //  All opacity descendants with opacity less than 1\n      //\n      //  All transform descendants with transform other than none\n\n      zeroOrAutoZIndexOrTransformedOrOpacity.forEach(this.renderStack, this); // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index\n      // order (smallest first) then tree order.\n\n      positiveZIndex.sort(sortByZIndex).forEach(this.renderStack, this);\n    }\n  }, {\n    key: "render",\n    value: function render(stack) {\n      var _this5 = this;\n\n      if (this.options.backgroundColor) {\n        this.target.rectangle(this.options.x, this.options.y, this.options.width, this.options.height, this.options.backgroundColor);\n      }\n\n      this.renderStack(stack);\n      var target = this.target.getTarget();\n\n      if (true) {\n        return target.then(function (output) {\n          _this5.options.logger.log("Render completed");\n\n          return output;\n        });\n      }\n\n      return target;\n    }\n  }]);\n\n  return Renderer;\n}();\n\n\n\nvar splitDescendants = function splitDescendants(stack) {\n  var inlineLevel = [];\n  var nonInlineLevel = [];\n  var length = stack.children.length;\n\n  for (var i = 0; i < length; i++) {\n    var child = stack.children[i];\n\n    if (child.isInlineLevel()) {\n      inlineLevel.push(child);\n    } else {\n      nonInlineLevel.push(child);\n    }\n  }\n\n  return [inlineLevel, nonInlineLevel];\n};\n\nvar splitStackingContexts = function splitStackingContexts(stack) {\n  var negativeZIndex = [];\n  var zeroOrAutoZIndexOrTransformedOrOpacity = [];\n  var positiveZIndex = [];\n  var nonPositionedFloats = [];\n  var nonPositionedInlineLevel = [];\n  var length = stack.contexts.length;\n\n  for (var i = 0; i < length; i++) {\n    var child = stack.contexts[i];\n\n    if (child.container.isPositioned() || child.container.style.opacity < 1 || child.container.isTransformed()) {\n      if (child.container.style.zIndex.order < 0) {\n        negativeZIndex.push(child);\n      } else if (child.container.style.zIndex.order > 0) {\n        positiveZIndex.push(child);\n      } else {\n        zeroOrAutoZIndexOrTransformedOrOpacity.push(child);\n      }\n    } else {\n      if (child.container.isFloating()) {\n        nonPositionedFloats.push(child);\n      } else {\n        nonPositionedInlineLevel.push(child);\n      }\n    }\n  }\n\n  return [negativeZIndex, zeroOrAutoZIndexOrTransformedOrOpacity, positiveZIndex, nonPositionedFloats, nonPositionedInlineLevel];\n};\n\nvar sortByZIndex = function sortByZIndex(a, b) {\n  if (a.container.style.zIndex.order > b.container.style.zIndex.order) {\n    return 1;\n  } else if (a.container.style.zIndex.order < b.container.style.zIndex.order) {\n    return -1;\n  }\n\n  return a.container.index > b.container.index ? 1 : -1;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Renderer.js?')},"./src/ResourceLoader.js":
/*!*******************************!*\
  !*** ./src/ResourceLoader.js ***!
  \*******************************/
/*! exports provided: default, ResourceStore */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ResourceLoader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResourceStore", function() { return ResourceStore; });\n/* harmony import */ var _Feature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Feature */ "./src/Feature.js");\n/* harmony import */ var _Proxy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proxy */ "./src/Proxy.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar ResourceLoader =\n/*#__PURE__*/\nfunction () {\n  function ResourceLoader(options, logger, window) {\n    _classCallCheck(this, ResourceLoader);\n\n    this.options = options;\n    this._window = window;\n    this.origin = this.getOrigin(window.location.href);\n    this.cache = {};\n    this.logger = logger;\n    this._index = 0;\n  }\n\n  _createClass(ResourceLoader, [{\n    key: "loadImage",\n    value: function loadImage(src) {\n      var _this = this;\n\n      if (this.hasResourceInCache(src)) {\n        return src;\n      }\n\n      if (isBlobImage(src)) {\n        this.cache[src] = _loadImage(src, this.options.imageTimeout || 0);\n        return src;\n      }\n\n      if (!isSVG(src) || _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_SVG_DRAWING) {\n        if (this.options.allowTaint === true || isInlineImage(src) || this.isSameOrigin(src)) {\n          return this.addImage(src, src, false);\n        } else if (!this.isSameOrigin(src)) {\n          if (typeof this.options.proxy === \'string\') {\n            this.cache[src] = Object(_Proxy__WEBPACK_IMPORTED_MODULE_1__["Proxy"])(src, this.options).then(function (src) {\n              return _loadImage(src, _this.options.imageTimeout || 0);\n            });\n            return src;\n          } else if (this.options.useCORS === true && _Feature__WEBPACK_IMPORTED_MODULE_0__["default"].SUPPORT_CORS_IMAGES) {\n            return this.addImage(src, src, true);\n          }\n        }\n      }\n    }\n  }, {\n    key: "inlineImage",\n    value: function inlineImage(src) {\n      var _this2 = this;\n\n      if (isInlineImage(src)) {\n        return _loadImage(src, this.options.imageTimeout || 0);\n      }\n\n      if (this.hasResourceInCache(src)) {\n        return this.cache[src];\n      }\n\n      if (!this.isSameOrigin(src) && typeof this.options.proxy === \'string\') {\n        return this.cache[src] = Object(_Proxy__WEBPACK_IMPORTED_MODULE_1__["Proxy"])(src, this.options).then(function (src) {\n          return _loadImage(src, _this2.options.imageTimeout || 0);\n        });\n      }\n\n      return this.xhrImage(src);\n    }\n  }, {\n    key: "xhrImage",\n    value: function xhrImage(src) {\n      var _this3 = this;\n\n      this.cache[src] = new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            if (xhr.status !== 200) {\n              reject("Failed to fetch image ".concat(src.substring(0, 256), " with status code ").concat(xhr.status));\n            } else {\n              var reader = new FileReader();\n              reader.addEventListener(\'load\', function () {\n                // $FlowFixMe\n                var result = reader.result;\n                resolve(result);\n              }, false);\n              reader.addEventListener(\'error\', function (e) {\n                return reject(e);\n              }, false);\n              reader.readAsDataURL(xhr.response);\n            }\n          }\n        };\n\n        xhr.responseType = \'blob\';\n\n        if (_this3.options.imageTimeout) {\n          var timeout = _this3.options.imageTimeout;\n          xhr.timeout = timeout;\n\n          xhr.ontimeout = function () {\n            return reject( true ? "Timed out (".concat(timeout, "ms) fetching ").concat(src.substring(0, 256)) : undefined);\n          };\n        }\n\n        xhr.open(\'GET\', src, true);\n        xhr.send();\n      }).then(function (src) {\n        return _loadImage(src, _this3.options.imageTimeout || 0);\n      });\n      return this.cache[src];\n    }\n  }, {\n    key: "loadCanvas",\n    value: function loadCanvas(node) {\n      var key = String(this._index++);\n      this.cache[key] = Promise.resolve(node);\n      return key;\n    }\n  }, {\n    key: "hasResourceInCache",\n    value: function hasResourceInCache(key) {\n      return typeof this.cache[key] !== \'undefined\';\n    }\n  }, {\n    key: "addImage",\n    value: function addImage(key, src, useCORS) {\n      var _this4 = this;\n\n      if (true) {\n        this.logger.log("Added image ".concat(key.substring(0, 256)));\n      }\n\n      this.cache[key] = new Promise(function (resolve, reject) {\n        var img = new Image();\n\n        img.onload = function () {\n          return resolve(img);\n        }; //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\n\n\n        if (isInlineBase64Image(src) || useCORS) {\n          img.crossOrigin = \'anonymous\';\n        }\n\n        img.onerror = reject;\n        img.src = src;\n\n        if (img.complete === true) {\n          // Inline XML images may fail to parse, throwing an Error later on\n          setTimeout(function () {\n            resolve(img);\n          }, 500);\n        }\n\n        if (_this4.options.imageTimeout) {\n          var timeout = _this4.options.imageTimeout;\n          setTimeout(function () {\n            return reject( true ? "Timed out (".concat(timeout, "ms) fetching ").concat(src.substring(0, 256)) : undefined);\n          }, timeout);\n        }\n      });\n      return key;\n    }\n  }, {\n    key: "isSameOrigin",\n    value: function isSameOrigin(url) {\n      return this.getOrigin(url) === this.origin;\n    }\n  }, {\n    key: "getOrigin",\n    value: function getOrigin(url) {\n      var link = this._link || (this._link = this._window.document.createElement(\'a\'));\n\n      link.href = url;\n      link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n\n      return link.protocol + link.hostname + link.port;\n    }\n  }, {\n    key: "ready",\n    value: function ready() {\n      var _this5 = this;\n\n      var keys = Object.keys(this.cache);\n      var values = keys.map(function (str) {\n        return _this5.cache[str].catch(function (e) {\n          if (true) {\n            _this5.logger.log("Unable to load image", e);\n          }\n\n          return null;\n        });\n      });\n      return Promise.all(values).then(function (images) {\n        if (true) {\n          _this5.logger.log("Finished loading ".concat(images.length, " images"), images);\n        }\n\n        return new ResourceStore(keys, images);\n      });\n    }\n  }]);\n\n  return ResourceLoader;\n}();\n\n\nvar ResourceStore =\n/*#__PURE__*/\nfunction () {\n  function ResourceStore(keys, resources) {\n    _classCallCheck(this, ResourceStore);\n\n    this._keys = keys;\n    this._resources = resources;\n  }\n\n  _createClass(ResourceStore, [{\n    key: "get",\n    value: function get(key) {\n      var index = this._keys.indexOf(key);\n\n      return index === -1 ? null : this._resources[index];\n    }\n  }]);\n\n  return ResourceStore;\n}();\nvar INLINE_SVG = /^data:image\\/svg\\+xml/i;\nvar INLINE_BASE64 = /^data:image\\/.*;base64,/i;\nvar INLINE_IMG = /^data:image\\/.*/i;\n\nvar isInlineImage = function isInlineImage(src) {\n  return INLINE_IMG.test(src);\n};\n\nvar isInlineBase64Image = function isInlineBase64Image(src) {\n  return INLINE_BASE64.test(src);\n};\n\nvar isBlobImage = function isBlobImage(src) {\n  return src.substr(0, 4) === \'blob\';\n};\n\nvar isSVG = function isSVG(src) {\n  return src.substr(-3).toLowerCase() === \'svg\' || INLINE_SVG.test(src);\n};\n\nvar _loadImage = function _loadImage(src, timeout) {\n  return new Promise(function (resolve, reject) {\n    var img = new Image();\n\n    img.onload = function () {\n      return resolve(img);\n    };\n\n    img.onerror = reject;\n    img.src = src;\n\n    if (img.complete === true) {\n      // Inline XML images may fail to parse, throwing an Error later on\n      setTimeout(function () {\n        resolve(img);\n      }, 500);\n    }\n\n    if (timeout) {\n      setTimeout(function () {\n        return reject( true ? "Timed out (".concat(timeout, "ms) loading image") : undefined);\n      }, timeout);\n    }\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/ResourceLoader.js?')},"./src/StackingContext.js":
/*!********************************!*\
  !*** ./src/StackingContext.js ***!
  \********************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StackingContext; });\n/* harmony import */ var _NodeContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NodeContainer */ "./src/NodeContainer.js");\n/* harmony import */ var _parsing_position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/position */ "./src/parsing/position.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar StackingContext =\n/*#__PURE__*/\nfunction () {\n  function StackingContext(container, parent, treatAsRealStackingContext) {\n    _classCallCheck(this, StackingContext);\n\n    this.container = container;\n    this.parent = parent;\n    this.contexts = [];\n    this.children = [];\n    this.treatAsRealStackingContext = treatAsRealStackingContext;\n  }\n\n  _createClass(StackingContext, [{\n    key: "getOpacity",\n    value: function getOpacity() {\n      return this.parent ? this.container.style.opacity * this.parent.getOpacity() : this.container.style.opacity;\n    }\n  }, {\n    key: "getRealParentStackingContext",\n    value: function getRealParentStackingContext() {\n      return !this.parent || this.treatAsRealStackingContext ? this : this.parent.getRealParentStackingContext();\n    }\n  }]);\n\n  return StackingContext;\n}();\n\n\n\n//# sourceURL=webpack://html2canvas/./src/StackingContext.js?')},"./src/TextBounds.js":
/*!***************************!*\
  !*** ./src/TextBounds.js ***!
  \***************************/
/*! exports provided: TextBounds, parseTextBounds */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextBounds", function() { return TextBounds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseTextBounds", function() { return parseTextBounds; });\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/textDecoration */ "./src/parsing/textDecoration.js");\n/* harmony import */ var _Feature__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Feature */ "./src/Feature.js");\n/* harmony import */ var _Unicode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Unicode */ "./src/Unicode.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\n\n\nvar TextBounds = function TextBounds(text, bounds) {\n  _classCallCheck(this, TextBounds);\n\n  this.text = text;\n  this.bounds = bounds;\n};\nvar parseTextBounds = function parseTextBounds(value, parent, node) {\n  var letterRendering = parent.style.letterSpacing !== 0;\n  var textList = letterRendering ? Object(_Unicode__WEBPACK_IMPORTED_MODULE_3__["toCodePoints"])(value).map(function (i) {\n    return Object(_Unicode__WEBPACK_IMPORTED_MODULE_3__["fromCodePoint"])(i);\n  }) : Object(_Unicode__WEBPACK_IMPORTED_MODULE_3__["breakWords"])(value, parent);\n  var length = textList.length;\n  var defaultView = node.parentNode ? node.parentNode.ownerDocument.defaultView : null;\n  var scrollX = defaultView ? defaultView.pageXOffset : 0;\n  var scrollY = defaultView ? defaultView.pageYOffset : 0;\n  var textBounds = [];\n  var offset = 0;\n\n  for (var i = 0; i < length; i++) {\n    var text = textList[i];\n\n    if (parent.style.textDecoration !== _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__["TEXT_DECORATION"].NONE || text.trim().length > 0) {\n      if (_Feature__WEBPACK_IMPORTED_MODULE_2__["default"].SUPPORT_RANGE_BOUNDS) {\n        textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length, scrollX, scrollY)));\n      } else {\n        var replacementNode = node.splitText(text.length);\n        textBounds.push(new TextBounds(text, getWrapperBounds(node, scrollX, scrollY)));\n        node = replacementNode;\n      }\n    } else if (!_Feature__WEBPACK_IMPORTED_MODULE_2__["default"].SUPPORT_RANGE_BOUNDS) {\n      node = node.splitText(text.length);\n    }\n\n    offset += text.length;\n  }\n\n  return textBounds;\n};\n\nvar getWrapperBounds = function getWrapperBounds(node, scrollX, scrollY) {\n  var wrapper = node.ownerDocument.createElement(\'html2canvaswrapper\');\n  wrapper.appendChild(node.cloneNode(true));\n  var parentNode = node.parentNode;\n\n  if (parentNode) {\n    parentNode.replaceChild(wrapper, node);\n    var bounds = Object(_Bounds__WEBPACK_IMPORTED_MODULE_0__["parseBounds"])(wrapper, scrollX, scrollY);\n\n    if (wrapper.firstChild) {\n      parentNode.replaceChild(wrapper.firstChild, wrapper);\n    }\n\n    return bounds;\n  }\n\n  return new _Bounds__WEBPACK_IMPORTED_MODULE_0__["Bounds"](0, 0, 0, 0);\n};\n\nvar getRangeBounds = function getRangeBounds(node, offset, length, scrollX, scrollY) {\n  var range = node.ownerDocument.createRange();\n  range.setStart(node, offset);\n  range.setEnd(node, offset + length);\n  return _Bounds__WEBPACK_IMPORTED_MODULE_0__["Bounds"].fromClientRect(range.getBoundingClientRect(), scrollX, scrollY);\n};\n\n//# sourceURL=webpack://html2canvas/./src/TextBounds.js?')},"./src/TextContainer.js":
/*!******************************!*\
  !*** ./src/TextContainer.js ***!
  \******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TextContainer; });\n/* harmony import */ var _parsing_textTransform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsing/textTransform */ "./src/parsing/textTransform.js");\n/* harmony import */ var _TextBounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextBounds */ "./src/TextBounds.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar TextContainer =\n/*#__PURE__*/\nfunction () {\n  function TextContainer(text, parent, bounds) {\n    _classCallCheck(this, TextContainer);\n\n    this.text = text;\n    this.parent = parent;\n    this.bounds = bounds;\n  }\n\n  _createClass(TextContainer, null, [{\n    key: "fromTextNode",\n    value: function fromTextNode(node, parent) {\n      var text = transform(node.data, parent.style.textTransform);\n      return new TextContainer(text, parent, Object(_TextBounds__WEBPACK_IMPORTED_MODULE_1__["parseTextBounds"])(text, parent, node));\n    }\n  }]);\n\n  return TextContainer;\n}();\n\n\nvar CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\n\nvar transform = function transform(text, _transform) {\n  switch (_transform) {\n    case _parsing_textTransform__WEBPACK_IMPORTED_MODULE_0__["TEXT_TRANSFORM"].LOWERCASE:\n      return text.toLowerCase();\n\n    case _parsing_textTransform__WEBPACK_IMPORTED_MODULE_0__["TEXT_TRANSFORM"].CAPITALIZE:\n      return text.replace(CAPITALIZE, capitalize);\n\n    case _parsing_textTransform__WEBPACK_IMPORTED_MODULE_0__["TEXT_TRANSFORM"].UPPERCASE:\n      return text.toUpperCase();\n\n    default:\n      return text;\n  }\n};\n\nfunction capitalize(m, p1, p2) {\n  if (m.length > 0) {\n    return p1 + p2.toUpperCase();\n  }\n\n  return m;\n}\n\n//# sourceURL=webpack://html2canvas/./src/TextContainer.js?')},"./src/Unicode.js":
/*!************************!*\
  !*** ./src/Unicode.js ***!
  \************************/
/*! exports provided: toCodePoints, fromCodePoint, breakWords */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "breakWords", function() { return breakWords; });\n/* harmony import */ var css_line_break__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! css-line-break */ "./node_modules/css-line-break/dist/index.js");\n/* harmony import */ var css_line_break__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(css_line_break__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _parsing_overflowWrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsing/overflowWrap */ "./src/parsing/overflowWrap.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "toCodePoints", function() { return css_line_break__WEBPACK_IMPORTED_MODULE_0__["toCodePoints"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "fromCodePoint", function() { return css_line_break__WEBPACK_IMPORTED_MODULE_0__["fromCodePoint"]; });\n\n\n\n\n\n\nvar breakWords = function breakWords(str, parent) {\n  var breaker = Object(css_line_break__WEBPACK_IMPORTED_MODULE_0__["LineBreaker"])(str, {\n    lineBreak: parent.style.lineBreak,\n    wordBreak: parent.style.overflowWrap === _parsing_overflowWrap__WEBPACK_IMPORTED_MODULE_1__["OVERFLOW_WRAP"].BREAK_WORD ? \'break-word\' : parent.style.wordBreak\n  });\n  var words = [];\n  var bk;\n\n  while (!(bk = breaker.next()).done) {\n    words.push(bk.value.slice());\n  }\n\n  return words;\n};\n\n//# sourceURL=webpack://html2canvas/./src/Unicode.js?')},"./src/Util.js":
/*!*********************!*\
  !*** ./src/Util.js ***!
  \*********************/
/*! exports provided: contains, distance, copyCSSStyles, SMALL_IMAGE */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "contains", function() { return contains; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distance", function() { return distance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "copyCSSStyles", function() { return copyCSSStyles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SMALL_IMAGE", function() { return SMALL_IMAGE; });\n\n\nvar contains = function contains(bit, value) {\n  return (bit & value) !== 0;\n};\nvar distance = function distance(a, b) {\n  return Math.sqrt(a * a + b * b);\n};\nvar copyCSSStyles = function copyCSSStyles(style, target) {\n  // Edge does not provide value for cssText\n  for (var i = style.length - 1; i >= 0; i--) {\n    var property = style.item(i); // Safari shows pseudoelements if content is set\n\n    if (property !== \'content\') {\n      target.style.setProperty(property, style.getPropertyValue(property));\n    }\n  }\n\n  return target;\n};\nvar SMALL_IMAGE = \'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\';\n\n//# sourceURL=webpack://html2canvas/./src/Util.js?')},"./src/Window.js":
/*!***********************!*\
  !*** ./src/Window.js ***!
  \***********************/
/*! exports provided: renderElement */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderElement", function() { return renderElement; });\n/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Logger */ "./src/Logger.js");\n/* harmony import */ var _NodeParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NodeParser */ "./src/NodeParser.js");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Renderer */ "./src/Renderer.js");\n/* harmony import */ var _renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./renderer/ForeignObjectRenderer */ "./src/renderer/ForeignObjectRenderer.js");\n/* harmony import */ var _Feature__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Feature */ "./src/Feature.js");\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Bounds */ "./src/Bounds.js");\n/* harmony import */ var _Clone__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Clone */ "./src/Clone.js");\n/* harmony import */ var _Font__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Font */ "./src/Font.js");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Color */ "./src/Color.js");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\n\n\n\n\n\n\n\nvar renderElement = function renderElement(element, options, logger) {\n  var ownerDocument = element.ownerDocument;\n  var windowBounds = new _Bounds__WEBPACK_IMPORTED_MODULE_5__["Bounds"](options.scrollX, options.scrollY, options.windowWidth, options.windowHeight); // http://www.w3.org/TR/css3-background/#special-backgrounds\n\n  var documentBackgroundColor = ownerDocument.documentElement ? new _Color__WEBPACK_IMPORTED_MODULE_8__["default"](getComputedStyle(ownerDocument.documentElement).backgroundColor) : _Color__WEBPACK_IMPORTED_MODULE_8__["TRANSPARENT"];\n  var bodyBackgroundColor = ownerDocument.body ? new _Color__WEBPACK_IMPORTED_MODULE_8__["default"](getComputedStyle(ownerDocument.body).backgroundColor) : _Color__WEBPACK_IMPORTED_MODULE_8__["TRANSPARENT"];\n  var backgroundColor = element === ownerDocument.documentElement ? documentBackgroundColor.isTransparent() ? bodyBackgroundColor.isTransparent() ? options.backgroundColor ? new _Color__WEBPACK_IMPORTED_MODULE_8__["default"](options.backgroundColor) : null : bodyBackgroundColor : documentBackgroundColor : options.backgroundColor ? new _Color__WEBPACK_IMPORTED_MODULE_8__["default"](options.backgroundColor) : null;\n  return (options.foreignObjectRendering ? // $FlowFixMe\n  _Feature__WEBPACK_IMPORTED_MODULE_4__["default"].SUPPORT_FOREIGNOBJECT_DRAWING : Promise.resolve(false)).then(function (supportForeignObject) {\n    return supportForeignObject ? function (cloner) {\n      if (true) {\n        logger.log("Document cloned, using foreignObject rendering");\n      }\n\n      return cloner.inlineFonts(ownerDocument).then(function () {\n        return cloner.resourceLoader.ready();\n      }).then(function () {\n        var renderer = new _renderer_ForeignObjectRenderer__WEBPACK_IMPORTED_MODULE_3__["default"](cloner.documentElement);\n        var defaultView = ownerDocument.defaultView;\n        var scrollX = defaultView.pageXOffset;\n        var scrollY = defaultView.pageYOffset;\n        var isDocument = element.tagName === \'HTML\' || element.tagName === \'BODY\';\n\n        var _ref = isDocument ? Object(_Bounds__WEBPACK_IMPORTED_MODULE_5__["parseDocumentSize"])(ownerDocument) : Object(_Bounds__WEBPACK_IMPORTED_MODULE_5__["parseBounds"])(element, scrollX, scrollY),\n            width = _ref.width,\n            height = _ref.height,\n            left = _ref.left,\n            top = _ref.top;\n\n        return renderer.render({\n          backgroundColor: backgroundColor,\n          logger: logger,\n          scale: options.scale,\n          x: typeof options.x === \'number\' ? options.x : left,\n          y: typeof options.y === \'number\' ? options.y : top,\n          width: typeof options.width === \'number\' ? options.width : Math.ceil(width),\n          height: typeof options.height === \'number\' ? options.height : Math.ceil(height),\n          windowWidth: options.windowWidth,\n          windowHeight: options.windowHeight,\n          scrollX: options.scrollX,\n          scrollY: options.scrollY\n        });\n      });\n    }(new _Clone__WEBPACK_IMPORTED_MODULE_6__["DocumentCloner"](element, options, logger, true, renderElement)) : Object(_Clone__WEBPACK_IMPORTED_MODULE_6__["cloneWindow"])(ownerDocument, windowBounds, element, options, logger, renderElement).then(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 3),\n          container = _ref3[0],\n          clonedElement = _ref3[1],\n          resourceLoader = _ref3[2];\n\n      if (true) {\n        logger.log("Document cloned, using computed rendering");\n      }\n\n      var stack = Object(_NodeParser__WEBPACK_IMPORTED_MODULE_1__["NodeParser"])(clonedElement, resourceLoader, logger);\n      var clonedDocument = clonedElement.ownerDocument;\n\n      if (backgroundColor === stack.container.style.background.backgroundColor) {\n        stack.container.style.background.backgroundColor = _Color__WEBPACK_IMPORTED_MODULE_8__["TRANSPARENT"];\n      }\n\n      return resourceLoader.ready().then(function (imageStore) {\n        var fontMetrics = new _Font__WEBPACK_IMPORTED_MODULE_7__["FontMetrics"](clonedDocument);\n\n        if (true) {\n          logger.log("Starting renderer");\n        }\n\n        var defaultView = clonedDocument.defaultView;\n        var scrollX = defaultView.pageXOffset;\n        var scrollY = defaultView.pageYOffset;\n        var isDocument = clonedElement.tagName === \'HTML\' || clonedElement.tagName === \'BODY\';\n\n        var _ref4 = isDocument ? Object(_Bounds__WEBPACK_IMPORTED_MODULE_5__["parseDocumentSize"])(ownerDocument) : Object(_Bounds__WEBPACK_IMPORTED_MODULE_5__["parseBounds"])(clonedElement, scrollX, scrollY),\n            width = _ref4.width,\n            height = _ref4.height,\n            left = _ref4.left,\n            top = _ref4.top;\n\n        var renderOptions = {\n          backgroundColor: backgroundColor,\n          fontMetrics: fontMetrics,\n          imageStore: imageStore,\n          logger: logger,\n          scale: options.scale,\n          x: typeof options.x === \'number\' ? options.x : left,\n          y: typeof options.y === \'number\' ? options.y : top,\n          width: typeof options.width === \'number\' ? options.width : Math.ceil(width),\n          height: typeof options.height === \'number\' ? options.height : Math.ceil(height)\n        };\n\n        if (Array.isArray(options.target)) {\n          return Promise.all(options.target.map(function (target) {\n            var renderer = new _Renderer__WEBPACK_IMPORTED_MODULE_2__["default"](target, renderOptions);\n            return renderer.render(stack);\n          }));\n        } else {\n          var renderer = new _Renderer__WEBPACK_IMPORTED_MODULE_2__["default"](options.target, renderOptions);\n          var canvas = renderer.render(stack);\n\n          if (options.removeContainer === true) {\n            if (container.parentNode) {\n              container.parentNode.removeChild(container);\n            } else if (true) {\n              logger.log("Cannot detach cloned iframe as it is not in the DOM anymore");\n            }\n          }\n\n          return canvas;\n        }\n      });\n    });\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/Window.js?')},"./src/drawing/BezierCurve.js":
/*!************************************!*\
  !*** ./src/drawing/BezierCurve.js ***!
  \************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BezierCurve; });\n/* harmony import */ var _Path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Path */ "./src/drawing/Path.js");\n/* harmony import */ var _Vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vector */ "./src/drawing/Vector.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar lerp = function lerp(a, b, t) {\n  return new _Vector__WEBPACK_IMPORTED_MODULE_1__["default"](a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\n};\n\nvar BezierCurve =\n/*#__PURE__*/\nfunction () {\n  function BezierCurve(start, startControl, endControl, end) {\n    _classCallCheck(this, BezierCurve);\n\n    this.type = _Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].BEZIER_CURVE;\n    this.start = start;\n    this.startControl = startControl;\n    this.endControl = endControl;\n    this.end = end;\n  }\n\n  _createClass(BezierCurve, [{\n    key: "subdivide",\n    value: function subdivide(t, firstHalf) {\n      var ab = lerp(this.start, this.startControl, t);\n      var bc = lerp(this.startControl, this.endControl, t);\n      var cd = lerp(this.endControl, this.end, t);\n      var abbc = lerp(ab, bc, t);\n      var bccd = lerp(bc, cd, t);\n      var dest = lerp(abbc, bccd, t);\n      return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\n    }\n  }, {\n    key: "reverse",\n    value: function reverse() {\n      return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\n    }\n  }]);\n\n  return BezierCurve;\n}();\n\n\n\n//# sourceURL=webpack://html2canvas/./src/drawing/BezierCurve.js?')},"./src/drawing/Circle.js":
/*!*******************************!*\
  !*** ./src/drawing/Circle.js ***!
  \*******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Circle; });\n/* harmony import */ var _Path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Path */ "./src/drawing/Path.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\nvar Circle = function Circle(x, y, radius) {\n  _classCallCheck(this, Circle);\n\n  this.type = _Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].CIRCLE;\n  this.x = x;\n  this.y = y;\n  this.radius = radius;\n\n  if (true) {\n    if (isNaN(x)) {\n      console.error("Invalid x value given for Circle");\n    }\n\n    if (isNaN(y)) {\n      console.error("Invalid y value given for Circle");\n    }\n\n    if (isNaN(radius)) {\n      console.error("Invalid radius value given for Circle");\n    }\n  }\n};\n\n\n\n//# sourceURL=webpack://html2canvas/./src/drawing/Circle.js?')},"./src/drawing/Path.js":
/*!*****************************!*\
  !*** ./src/drawing/Path.js ***!
  \*****************************/
/*! exports provided: PATH */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PATH", function() { return PATH; });\n\n\nvar PATH = {\n  VECTOR: 0,\n  BEZIER_CURVE: 1,\n  CIRCLE: 2\n};\n\n//# sourceURL=webpack://html2canvas/./src/drawing/Path.js?')},"./src/drawing/Size.js":
/*!*****************************!*\
  !*** ./src/drawing/Size.js ***!
  \*****************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Size; });\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Size = function Size(width, height) {\n  _classCallCheck(this, Size);\n\n  this.width = width;\n  this.height = height;\n};\n\n\n\n//# sourceURL=webpack://html2canvas/./src/drawing/Size.js?')},"./src/drawing/Vector.js":
/*!*******************************!*\
  !*** ./src/drawing/Vector.js ***!
  \*******************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Vector; });\n/* harmony import */ var _Path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Path */ "./src/drawing/Path.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\nvar Vector = function Vector(x, y) {\n  _classCallCheck(this, Vector);\n\n  this.type = _Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].VECTOR;\n  this.x = x;\n  this.y = y;\n\n  if (true) {\n    if (isNaN(x)) {\n      console.error("Invalid x value given for Vector");\n    }\n\n    if (isNaN(y)) {\n      console.error("Invalid y value given for Vector");\n    }\n  }\n};\n\n\n\n//# sourceURL=webpack://html2canvas/./src/drawing/Vector.js?')},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer/CanvasRenderer */ "./src/renderer/CanvasRenderer.js");\n/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Logger */ "./src/Logger.js");\n/* harmony import */ var _Window__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Window */ "./src/Window.js");\n\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar html2canvas = function html2canvas(element, conf) {\n  var config = conf || {};\n  var logger = new _Logger__WEBPACK_IMPORTED_MODULE_1__["default"](typeof config.logging === \'boolean\' ? config.logging : true);\n  logger.log("html2canvas ".concat("1.0.0-rc.1"));\n\n  if ( true && typeof config.onrendered === \'function\') {\n    logger.error("onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value");\n  }\n\n  var ownerDocument = element.ownerDocument;\n\n  if (!ownerDocument) {\n    return Promise.reject("Provided element is not within a Document");\n  }\n\n  var defaultView = ownerDocument.defaultView;\n  var defaultOptions = {\n    allowTaint: false,\n    backgroundColor: \'#ffffff\',\n    imageTimeout: 15000,\n    logging: true,\n    proxy: null,\n    removeContainer: true,\n    foreignObjectRendering: false,\n    scale: defaultView.devicePixelRatio || 1,\n    target: new _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_0__["default"](config.canvas),\n    useCORS: false,\n    windowWidth: defaultView.innerWidth,\n    windowHeight: defaultView.innerHeight,\n    scrollX: defaultView.pageXOffset,\n    scrollY: defaultView.pageYOffset\n  };\n  var result = Object(_Window__WEBPACK_IMPORTED_MODULE_2__["renderElement"])(element, _objectSpread({}, defaultOptions, config), logger);\n\n  if (true) {\n    return result.catch(function (e) {\n      logger.error(e);\n      throw e;\n    });\n  }\n\n  return result;\n};\n\nhtml2canvas.CanvasRenderer = _renderer_CanvasRenderer__WEBPACK_IMPORTED_MODULE_0__["default"];\n/* harmony default export */ __webpack_exports__["default"] = (html2canvas);\n\n//# sourceURL=webpack://html2canvas/./src/index.js?')},"./src/parsing/background.js":
/*!***********************************!*\
  !*** ./src/parsing/background.js ***!
  \***********************************/
/*! exports provided: BACKGROUND_REPEAT, BACKGROUND_SIZE, BACKGROUND_CLIP, BACKGROUND_ORIGIN, calculateBackgroundSize, calculateGradientBackgroundSize, calculateBackgroungPaintingArea, calculateBackgroungPositioningArea, calculateBackgroundPosition, calculateBackgroundRepeatPath, parseBackground, parseBackgroundImage */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_REPEAT", function() { return BACKGROUND_REPEAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_SIZE", function() { return BACKGROUND_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_CLIP", function() { return BACKGROUND_CLIP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BACKGROUND_ORIGIN", function() { return BACKGROUND_ORIGIN; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroundSize", function() { return calculateBackgroundSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateGradientBackgroundSize", function() { return calculateGradientBackgroundSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroungPaintingArea", function() { return calculateBackgroungPaintingArea; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroungPositioningArea", function() { return calculateBackgroungPositioningArea; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroundPosition", function() { return calculateBackgroundPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBackgroundRepeatPath", function() { return calculateBackgroundRepeatPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBackground", function() { return parseBackground; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBackgroundImage", function() { return parseBackgroundImage; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ "./src/Color.js");\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Length */ "./src/Length.js");\n/* harmony import */ var _drawing_Size__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../drawing/Size */ "./src/drawing/Size.js");\n/* harmony import */ var _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../drawing/Vector */ "./src/drawing/Vector.js");\n/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Bounds */ "./src/Bounds.js");\n/* harmony import */ var _padding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./padding */ "./src/parsing/padding.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n\n\n\n\n\n\nvar BACKGROUND_REPEAT = {\n  REPEAT: 0,\n  NO_REPEAT: 1,\n  REPEAT_X: 2,\n  REPEAT_Y: 3\n};\nvar BACKGROUND_SIZE = {\n  AUTO: 0,\n  CONTAIN: 1,\n  COVER: 2,\n  LENGTH: 3\n};\nvar BACKGROUND_CLIP = {\n  BORDER_BOX: 0,\n  PADDING_BOX: 1,\n  CONTENT_BOX: 2\n};\nvar BACKGROUND_ORIGIN = BACKGROUND_CLIP;\nvar AUTO = \'auto\';\n\nvar BackgroundSize = function BackgroundSize(size) {\n  _classCallCheck(this, BackgroundSize);\n\n  switch (size) {\n    case \'contain\':\n      this.size = BACKGROUND_SIZE.CONTAIN;\n      break;\n\n    case \'cover\':\n      this.size = BACKGROUND_SIZE.COVER;\n      break;\n\n    case \'auto\':\n      this.size = BACKGROUND_SIZE.AUTO;\n      break;\n\n    default:\n      this.value = new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](size);\n  }\n};\n\nvar calculateBackgroundSize = function calculateBackgroundSize(backgroundImage, image, bounds) {\n  var width = 0;\n  var height = 0;\n  var size = backgroundImage.size;\n\n  if (size[0].size === BACKGROUND_SIZE.CONTAIN || size[0].size === BACKGROUND_SIZE.COVER) {\n    var targetRatio = bounds.width / bounds.height;\n    var currentRatio = image.width / image.height;\n    return targetRatio < currentRatio !== (size[0].size === BACKGROUND_SIZE.COVER) ? new _drawing_Size__WEBPACK_IMPORTED_MODULE_2__["default"](bounds.width, bounds.width / currentRatio) : new _drawing_Size__WEBPACK_IMPORTED_MODULE_2__["default"](bounds.height * currentRatio, bounds.height);\n  }\n\n  if (size[0].value) {\n    width = size[0].value.getAbsoluteValue(bounds.width);\n  }\n\n  if (size[0].size === BACKGROUND_SIZE.AUTO && size[1].size === BACKGROUND_SIZE.AUTO) {\n    height = image.height;\n  } else if (size[1].size === BACKGROUND_SIZE.AUTO) {\n    height = width / image.width * image.height;\n  } else if (size[1].value) {\n    height = size[1].value.getAbsoluteValue(bounds.height);\n  }\n\n  if (size[0].size === BACKGROUND_SIZE.AUTO) {\n    width = height / image.height * image.width;\n  }\n\n  return new _drawing_Size__WEBPACK_IMPORTED_MODULE_2__["default"](width, height);\n};\nvar calculateGradientBackgroundSize = function calculateGradientBackgroundSize(backgroundImage, bounds) {\n  var size = backgroundImage.size;\n  var width = size[0].value ? size[0].value.getAbsoluteValue(bounds.width) : bounds.width;\n  var height = size[1].value ? size[1].value.getAbsoluteValue(bounds.height) : size[0].value ? width : bounds.height;\n  return new _drawing_Size__WEBPACK_IMPORTED_MODULE_2__["default"](width, height);\n};\nvar AUTO_SIZE = new BackgroundSize(AUTO);\nvar calculateBackgroungPaintingArea = function calculateBackgroungPaintingArea(curves, clip) {\n  switch (clip) {\n    case BACKGROUND_CLIP.BORDER_BOX:\n      return Object(_Bounds__WEBPACK_IMPORTED_MODULE_4__["calculateBorderBoxPath"])(curves);\n\n    case BACKGROUND_CLIP.PADDING_BOX:\n    default:\n      return Object(_Bounds__WEBPACK_IMPORTED_MODULE_4__["calculatePaddingBoxPath"])(curves);\n  }\n};\nvar calculateBackgroungPositioningArea = function calculateBackgroungPositioningArea(backgroundOrigin, bounds, padding, border) {\n  var paddingBox = Object(_Bounds__WEBPACK_IMPORTED_MODULE_4__["calculatePaddingBox"])(bounds, border);\n\n  switch (backgroundOrigin) {\n    case BACKGROUND_ORIGIN.BORDER_BOX:\n      return bounds;\n\n    case BACKGROUND_ORIGIN.CONTENT_BOX:\n      var paddingLeft = padding[_padding__WEBPACK_IMPORTED_MODULE_5__["PADDING_SIDES"].LEFT].getAbsoluteValue(bounds.width);\n      var paddingRight = padding[_padding__WEBPACK_IMPORTED_MODULE_5__["PADDING_SIDES"].RIGHT].getAbsoluteValue(bounds.width);\n      var paddingTop = padding[_padding__WEBPACK_IMPORTED_MODULE_5__["PADDING_SIDES"].TOP].getAbsoluteValue(bounds.width);\n      var paddingBottom = padding[_padding__WEBPACK_IMPORTED_MODULE_5__["PADDING_SIDES"].BOTTOM].getAbsoluteValue(bounds.width);\n      return new _Bounds__WEBPACK_IMPORTED_MODULE_4__["Bounds"](paddingBox.left + paddingLeft, paddingBox.top + paddingTop, paddingBox.width - paddingLeft - paddingRight, paddingBox.height - paddingTop - paddingBottom);\n\n    case BACKGROUND_ORIGIN.PADDING_BOX:\n    default:\n      return paddingBox;\n  }\n};\nvar calculateBackgroundPosition = function calculateBackgroundPosition(position, size, bounds) {\n  return new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](position[0].getAbsoluteValue(bounds.width - size.width), position[1].getAbsoluteValue(bounds.height - size.height));\n};\nvar calculateBackgroundRepeatPath = function calculateBackgroundRepeatPath(background, position, size, backgroundPositioningArea, bounds) {\n  var repeat = background.repeat;\n\n  switch (repeat) {\n    case BACKGROUND_REPEAT.REPEAT_X:\n      return [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left), Math.round(backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left + bounds.width), Math.round(backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left + bounds.width), Math.round(size.height + backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left), Math.round(size.height + backgroundPositioningArea.top + position.y))];\n\n    case BACKGROUND_REPEAT.REPEAT_Y:\n      return [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.height + bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.height + bounds.top))];\n\n    case BACKGROUND_REPEAT.NO_REPEAT:\n      return [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y + size.height)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y + size.height))];\n\n    default:\n      return [new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left), Math.round(bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left + bounds.width), Math.round(bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left + bounds.width), Math.round(bounds.height + bounds.top)), new _drawing_Vector__WEBPACK_IMPORTED_MODULE_3__["default"](Math.round(bounds.left), Math.round(bounds.height + bounds.top))];\n  }\n};\nvar parseBackground = function parseBackground(style, resourceLoader) {\n  return {\n    backgroundColor: new _Color__WEBPACK_IMPORTED_MODULE_0__["default"](style.backgroundColor),\n    backgroundImage: parseBackgroundImages(style, resourceLoader),\n    backgroundClip: parseBackgroundClip(style.backgroundClip),\n    backgroundOrigin: parseBackgroundOrigin(style.backgroundOrigin)\n  };\n};\n\nvar parseBackgroundClip = function parseBackgroundClip(backgroundClip) {\n  switch (backgroundClip) {\n    case \'padding-box\':\n      return BACKGROUND_CLIP.PADDING_BOX;\n\n    case \'content-box\':\n      return BACKGROUND_CLIP.CONTENT_BOX;\n  }\n\n  return BACKGROUND_CLIP.BORDER_BOX;\n};\n\nvar parseBackgroundOrigin = function parseBackgroundOrigin(backgroundOrigin) {\n  switch (backgroundOrigin) {\n    case \'padding-box\':\n      return BACKGROUND_ORIGIN.PADDING_BOX;\n\n    case \'content-box\':\n      return BACKGROUND_ORIGIN.CONTENT_BOX;\n  }\n\n  return BACKGROUND_ORIGIN.BORDER_BOX;\n};\n\nvar parseBackgroundRepeat = function parseBackgroundRepeat(backgroundRepeat) {\n  switch (backgroundRepeat.trim()) {\n    case \'no-repeat\':\n      return BACKGROUND_REPEAT.NO_REPEAT;\n\n    case \'repeat-x\':\n    case \'repeat no-repeat\':\n      return BACKGROUND_REPEAT.REPEAT_X;\n\n    case \'repeat-y\':\n    case \'no-repeat repeat\':\n      return BACKGROUND_REPEAT.REPEAT_Y;\n\n    case \'repeat\':\n      return BACKGROUND_REPEAT.REPEAT;\n  }\n\n  if (true) {\n    console.error("Invalid background-repeat value \\"".concat(backgroundRepeat, "\\""));\n  }\n\n  return BACKGROUND_REPEAT.REPEAT;\n};\n\nvar parseBackgroundImages = function parseBackgroundImages(style, resourceLoader) {\n  var sources = parseBackgroundImage(style.backgroundImage).map(function (backgroundImage) {\n    if (backgroundImage.method === \'url\') {\n      var key = resourceLoader.loadImage(backgroundImage.args[0]);\n      backgroundImage.args = key ? [key] : [];\n    }\n\n    return backgroundImage;\n  });\n  var positions = style.backgroundPosition.split(\',\');\n  var repeats = style.backgroundRepeat.split(\',\');\n  var sizes = style.backgroundSize.split(\',\');\n  return sources.map(function (source, index) {\n    var size = (sizes[index] || AUTO).trim().split(\' \').map(parseBackgroundSize);\n    var position = (positions[index] || AUTO).trim().split(\' \').map(parseBackgoundPosition);\n    return {\n      source: source,\n      repeat: parseBackgroundRepeat(typeof repeats[index] === \'string\' ? repeats[index] : repeats[0]),\n      size: size.length < 2 ? [size[0], AUTO_SIZE] : [size[0], size[1]],\n      position: position.length < 2 ? [position[0], position[0]] : [position[0], position[1]]\n    };\n  });\n};\n\nvar parseBackgroundSize = function parseBackgroundSize(size) {\n  return size === \'auto\' ? AUTO_SIZE : new BackgroundSize(size);\n};\n\nvar parseBackgoundPosition = function parseBackgoundPosition(position) {\n  switch (position) {\n    case \'bottom\':\n    case \'right\':\n      return new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](\'100%\');\n\n    case \'left\':\n    case \'top\':\n      return new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](\'0%\');\n\n    case \'auto\':\n      return new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](\'0\');\n  }\n\n  return new _Length__WEBPACK_IMPORTED_MODULE_1__["default"](position);\n};\n\nvar parseBackgroundImage = function parseBackgroundImage(image) {\n  var whitespace = /^\\s$/;\n  var results = [];\n  var args = [];\n  var method = \'\';\n  var quote = null;\n  var definition = \'\';\n  var mode = 0;\n  var numParen = 0;\n\n  var appendResult = function appendResult() {\n    var prefix = \'\';\n\n    if (method) {\n      if (definition.substr(0, 1) === \'"\') {\n        definition = definition.substr(1, definition.length - 2);\n      }\n\n      if (definition) {\n        args.push(definition.trim());\n      }\n\n      var prefix_i = method.indexOf(\'-\', 1) + 1;\n\n      if (method.substr(0, 1) === \'-\' && prefix_i > 0) {\n        prefix = method.substr(0, prefix_i).toLowerCase();\n        method = method.substr(prefix_i);\n      }\n\n      method = method.toLowerCase();\n\n      if (method !== \'none\') {\n        results.push({\n          prefix: prefix,\n          method: method,\n          args: args\n        });\n      }\n    }\n\n    args = [];\n    method = definition = \'\';\n  };\n\n  image.split(\'\').forEach(function (c) {\n    if (mode === 0 && whitespace.test(c)) {\n      return;\n    }\n\n    switch (c) {\n      case \'"\':\n        if (!quote) {\n          quote = c;\n        } else if (quote === c) {\n          quote = null;\n        }\n\n        break;\n\n      case \'(\':\n        if (quote) {\n          break;\n        } else if (mode === 0) {\n          mode = 1;\n          return;\n        } else {\n          numParen++;\n        }\n\n        break;\n\n      case \')\':\n        if (quote) {\n          break;\n        } else if (mode === 1) {\n          if (numParen === 0) {\n            mode = 0;\n            appendResult();\n            return;\n          } else {\n            numParen--;\n          }\n        }\n\n        break;\n\n      case \',\':\n        if (quote) {\n          break;\n        } else if (mode === 0) {\n          appendResult();\n          return;\n        } else if (mode === 1) {\n          if (numParen === 0 && !method.match(/^url$/i)) {\n            args.push(definition.trim());\n            definition = \'\';\n            return;\n          }\n        }\n\n        break;\n    }\n\n    if (mode === 0) {\n      method += c;\n    } else {\n      definition += c;\n    }\n  });\n  appendResult();\n  return results;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/background.js?')},"./src/parsing/border.js":
/*!*******************************!*\
  !*** ./src/parsing/border.js ***!
  \*******************************/
/*! exports provided: BORDER_STYLE, BORDER_SIDES, parseBorder */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BORDER_STYLE", function() { return BORDER_STYLE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BORDER_SIDES", function() { return BORDER_SIDES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBorder", function() { return parseBorder; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ "./src/Color.js");\n\n\n\nvar BORDER_STYLE = {\n  NONE: 0,\n  SOLID: 1\n};\nvar BORDER_SIDES = {\n  TOP: 0,\n  RIGHT: 1,\n  BOTTOM: 2,\n  LEFT: 3\n};\nvar SIDES = Object.keys(BORDER_SIDES).map(function (s) {\n  return s.toLowerCase();\n});\n\nvar parseBorderStyle = function parseBorderStyle(style) {\n  switch (style) {\n    case \'none\':\n      return BORDER_STYLE.NONE;\n  }\n\n  return BORDER_STYLE.SOLID;\n};\n\nvar parseBorder = function parseBorder(style) {\n  return SIDES.map(function (side) {\n    var borderColor = new _Color__WEBPACK_IMPORTED_MODULE_0__["default"](style.getPropertyValue("border-".concat(side, "-color")));\n    var borderStyle = parseBorderStyle(style.getPropertyValue("border-".concat(side, "-style")));\n    var borderWidth = parseFloat(style.getPropertyValue("border-".concat(side, "-width")));\n    return {\n      borderColor: borderColor,\n      borderStyle: borderStyle,\n      borderWidth: isNaN(borderWidth) ? 0 : borderWidth\n    };\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/border.js?')},"./src/parsing/borderRadius.js":
/*!*************************************!*\
  !*** ./src/parsing/borderRadius.js ***!
  \*************************************/
/*! exports provided: parseBorderRadius */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseBorderRadius", function() { return parseBorderRadius; });\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Length */ "./src/Length.js");\n\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\nvar SIDES = [\'top-left\', \'top-right\', \'bottom-right\', \'bottom-left\'];\nvar parseBorderRadius = function parseBorderRadius(style) {\n  return SIDES.map(function (side) {\n    var value = style.getPropertyValue("border-".concat(side, "-radius"));\n\n    var _value$split$map = value.split(\' \').map(_Length__WEBPACK_IMPORTED_MODULE_0__["default"].create),\n        _value$split$map2 = _slicedToArray(_value$split$map, 2),\n        horizontal = _value$split$map2[0],\n        vertical = _value$split$map2[1];\n\n    return typeof vertical === \'undefined\' ? [horizontal, horizontal] : [horizontal, vertical];\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/borderRadius.js?')},"./src/parsing/display.js":
/*!********************************!*\
  !*** ./src/parsing/display.js ***!
  \********************************/
/*! exports provided: DISPLAY, parseDisplay */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DISPLAY\", function() { return DISPLAY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseDisplay\", function() { return parseDisplay; });\n\n\nvar DISPLAY = {\n  NONE: 1 << 0,\n  BLOCK: 1 << 1,\n  INLINE: 1 << 2,\n  RUN_IN: 1 << 3,\n  FLOW: 1 << 4,\n  FLOW_ROOT: 1 << 5,\n  TABLE: 1 << 6,\n  FLEX: 1 << 7,\n  GRID: 1 << 8,\n  RUBY: 1 << 9,\n  SUBGRID: 1 << 10,\n  LIST_ITEM: 1 << 11,\n  TABLE_ROW_GROUP: 1 << 12,\n  TABLE_HEADER_GROUP: 1 << 13,\n  TABLE_FOOTER_GROUP: 1 << 14,\n  TABLE_ROW: 1 << 15,\n  TABLE_CELL: 1 << 16,\n  TABLE_COLUMN_GROUP: 1 << 17,\n  TABLE_COLUMN: 1 << 18,\n  TABLE_CAPTION: 1 << 19,\n  RUBY_BASE: 1 << 20,\n  RUBY_TEXT: 1 << 21,\n  RUBY_BASE_CONTAINER: 1 << 22,\n  RUBY_TEXT_CONTAINER: 1 << 23,\n  CONTENTS: 1 << 24,\n  INLINE_BLOCK: 1 << 25,\n  INLINE_LIST_ITEM: 1 << 26,\n  INLINE_TABLE: 1 << 27,\n  INLINE_FLEX: 1 << 28,\n  INLINE_GRID: 1 << 29\n};\n\nvar parseDisplayValue = function parseDisplayValue(display) {\n  switch (display) {\n    case 'block':\n      return DISPLAY.BLOCK;\n\n    case 'inline':\n      return DISPLAY.INLINE;\n\n    case 'run-in':\n      return DISPLAY.RUN_IN;\n\n    case 'flow':\n      return DISPLAY.FLOW;\n\n    case 'flow-root':\n      return DISPLAY.FLOW_ROOT;\n\n    case 'table':\n      return DISPLAY.TABLE;\n\n    case 'flex':\n      return DISPLAY.FLEX;\n\n    case 'grid':\n      return DISPLAY.GRID;\n\n    case 'ruby':\n      return DISPLAY.RUBY;\n\n    case 'subgrid':\n      return DISPLAY.SUBGRID;\n\n    case 'list-item':\n      return DISPLAY.LIST_ITEM;\n\n    case 'table-row-group':\n      return DISPLAY.TABLE_ROW_GROUP;\n\n    case 'table-header-group':\n      return DISPLAY.TABLE_HEADER_GROUP;\n\n    case 'table-footer-group':\n      return DISPLAY.TABLE_FOOTER_GROUP;\n\n    case 'table-row':\n      return DISPLAY.TABLE_ROW;\n\n    case 'table-cell':\n      return DISPLAY.TABLE_CELL;\n\n    case 'table-column-group':\n      return DISPLAY.TABLE_COLUMN_GROUP;\n\n    case 'table-column':\n      return DISPLAY.TABLE_COLUMN;\n\n    case 'table-caption':\n      return DISPLAY.TABLE_CAPTION;\n\n    case 'ruby-base':\n      return DISPLAY.RUBY_BASE;\n\n    case 'ruby-text':\n      return DISPLAY.RUBY_TEXT;\n\n    case 'ruby-base-container':\n      return DISPLAY.RUBY_BASE_CONTAINER;\n\n    case 'ruby-text-container':\n      return DISPLAY.RUBY_TEXT_CONTAINER;\n\n    case 'contents':\n      return DISPLAY.CONTENTS;\n\n    case 'inline-block':\n      return DISPLAY.INLINE_BLOCK;\n\n    case 'inline-list-item':\n      return DISPLAY.INLINE_LIST_ITEM;\n\n    case 'inline-table':\n      return DISPLAY.INLINE_TABLE;\n\n    case 'inline-flex':\n      return DISPLAY.INLINE_FLEX;\n\n    case 'inline-grid':\n      return DISPLAY.INLINE_GRID;\n  }\n\n  return DISPLAY.NONE;\n};\n\nvar setDisplayBit = function setDisplayBit(bit, display) {\n  return bit | parseDisplayValue(display);\n};\n\nvar parseDisplay = function parseDisplay(display) {\n  return display.split(' ').reduce(setDisplayBit, 0);\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/display.js?")},"./src/parsing/float.js":
/*!******************************!*\
  !*** ./src/parsing/float.js ***!
  \******************************/
/*! exports provided: FLOAT, parseCSSFloat */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FLOAT\", function() { return FLOAT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseCSSFloat\", function() { return parseCSSFloat; });\n\n\nvar FLOAT = {\n  NONE: 0,\n  LEFT: 1,\n  RIGHT: 2,\n  INLINE_START: 3,\n  INLINE_END: 4\n};\nvar parseCSSFloat = function parseCSSFloat(float) {\n  switch (float) {\n    case 'left':\n      return FLOAT.LEFT;\n\n    case 'right':\n      return FLOAT.RIGHT;\n\n    case 'inline-start':\n      return FLOAT.INLINE_START;\n\n    case 'inline-end':\n      return FLOAT.INLINE_END;\n  }\n\n  return FLOAT.NONE;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/float.js?")},"./src/parsing/font.js":
/*!*****************************!*\
  !*** ./src/parsing/font.js ***!
  \*****************************/
/*! exports provided: parseFont */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseFont\", function() { return parseFont; });\n\n\nvar parseFontWeight = function parseFontWeight(weight) {\n  switch (weight) {\n    case 'normal':\n      return 400;\n\n    case 'bold':\n      return 700;\n  }\n\n  var value = parseInt(weight, 10);\n  return isNaN(value) ? 400 : value;\n};\n\nvar parseFont = function parseFont(style) {\n  var fontFamily = style.fontFamily;\n  var fontSize = style.fontSize;\n  var fontStyle = style.fontStyle;\n  var fontVariant = style.fontVariant;\n  var fontWeight = parseFontWeight(style.fontWeight);\n  return {\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontStyle: fontStyle,\n    fontVariant: fontVariant,\n    fontWeight: fontWeight\n  };\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/font.js?")},"./src/parsing/letterSpacing.js":
/*!**************************************!*\
  !*** ./src/parsing/letterSpacing.js ***!
  \**************************************/
/*! exports provided: parseLetterSpacing */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseLetterSpacing\", function() { return parseLetterSpacing; });\n\n\nvar parseLetterSpacing = function parseLetterSpacing(letterSpacing) {\n  if (letterSpacing === 'normal') {\n    return 0;\n  }\n\n  var value = parseFloat(letterSpacing);\n  return isNaN(value) ? 0 : value;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/letterSpacing.js?")},"./src/parsing/lineBreak.js":
/*!**********************************!*\
  !*** ./src/parsing/lineBreak.js ***!
  \**********************************/
/*! exports provided: LINE_BREAK, parseLineBreak */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LINE_BREAK\", function() { return LINE_BREAK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseLineBreak\", function() { return parseLineBreak; });\n\n\nvar LINE_BREAK = {\n  NORMAL: 'normal',\n  STRICT: 'strict'\n};\nvar parseLineBreak = function parseLineBreak(wordBreak) {\n  switch (wordBreak) {\n    case 'strict':\n      return LINE_BREAK.STRICT;\n\n    case 'normal':\n    default:\n      return LINE_BREAK.NORMAL;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/lineBreak.js?")},"./src/parsing/listStyle.js":
/*!**********************************!*\
  !*** ./src/parsing/listStyle.js ***!
  \**********************************/
/*! exports provided: LIST_STYLE_POSITION, LIST_STYLE_TYPE, parseListStyleType, parseListStyle */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LIST_STYLE_POSITION\", function() { return LIST_STYLE_POSITION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LIST_STYLE_TYPE\", function() { return LIST_STYLE_TYPE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseListStyleType\", function() { return parseListStyleType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseListStyle\", function() { return parseListStyle; });\n/* harmony import */ var _background__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./background */ \"./src/parsing/background.js\");\n\n\n\nvar LIST_STYLE_POSITION = {\n  INSIDE: 0,\n  OUTSIDE: 1\n};\nvar LIST_STYLE_TYPE = {\n  NONE: -1,\n  DISC: 0,\n  CIRCLE: 1,\n  SQUARE: 2,\n  DECIMAL: 3,\n  CJK_DECIMAL: 4,\n  DECIMAL_LEADING_ZERO: 5,\n  LOWER_ROMAN: 6,\n  UPPER_ROMAN: 7,\n  LOWER_GREEK: 8,\n  LOWER_ALPHA: 9,\n  UPPER_ALPHA: 10,\n  ARABIC_INDIC: 11,\n  ARMENIAN: 12,\n  BENGALI: 13,\n  CAMBODIAN: 14,\n  CJK_EARTHLY_BRANCH: 15,\n  CJK_HEAVENLY_STEM: 16,\n  CJK_IDEOGRAPHIC: 17,\n  DEVANAGARI: 18,\n  ETHIOPIC_NUMERIC: 19,\n  GEORGIAN: 20,\n  GUJARATI: 21,\n  GURMUKHI: 22,\n  HEBREW: 22,\n  HIRAGANA: 23,\n  HIRAGANA_IROHA: 24,\n  JAPANESE_FORMAL: 25,\n  JAPANESE_INFORMAL: 26,\n  KANNADA: 27,\n  KATAKANA: 28,\n  KATAKANA_IROHA: 29,\n  KHMER: 30,\n  KOREAN_HANGUL_FORMAL: 31,\n  KOREAN_HANJA_FORMAL: 32,\n  KOREAN_HANJA_INFORMAL: 33,\n  LAO: 34,\n  LOWER_ARMENIAN: 35,\n  MALAYALAM: 36,\n  MONGOLIAN: 37,\n  MYANMAR: 38,\n  ORIYA: 39,\n  PERSIAN: 40,\n  SIMP_CHINESE_FORMAL: 41,\n  SIMP_CHINESE_INFORMAL: 42,\n  TAMIL: 43,\n  TELUGU: 44,\n  THAI: 45,\n  TIBETAN: 46,\n  TRAD_CHINESE_FORMAL: 47,\n  TRAD_CHINESE_INFORMAL: 48,\n  UPPER_ARMENIAN: 49,\n  DISCLOSURE_OPEN: 50,\n  DISCLOSURE_CLOSED: 51\n};\nvar parseListStyleType = function parseListStyleType(type) {\n  switch (type) {\n    case 'disc':\n      return LIST_STYLE_TYPE.DISC;\n\n    case 'circle':\n      return LIST_STYLE_TYPE.CIRCLE;\n\n    case 'square':\n      return LIST_STYLE_TYPE.SQUARE;\n\n    case 'decimal':\n      return LIST_STYLE_TYPE.DECIMAL;\n\n    case 'cjk-decimal':\n      return LIST_STYLE_TYPE.CJK_DECIMAL;\n\n    case 'decimal-leading-zero':\n      return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\n\n    case 'lower-roman':\n      return LIST_STYLE_TYPE.LOWER_ROMAN;\n\n    case 'upper-roman':\n      return LIST_STYLE_TYPE.UPPER_ROMAN;\n\n    case 'lower-greek':\n      return LIST_STYLE_TYPE.LOWER_GREEK;\n\n    case 'lower-alpha':\n      return LIST_STYLE_TYPE.LOWER_ALPHA;\n\n    case 'upper-alpha':\n      return LIST_STYLE_TYPE.UPPER_ALPHA;\n\n    case 'arabic-indic':\n      return LIST_STYLE_TYPE.ARABIC_INDIC;\n\n    case 'armenian':\n      return LIST_STYLE_TYPE.ARMENIAN;\n\n    case 'bengali':\n      return LIST_STYLE_TYPE.BENGALI;\n\n    case 'cambodian':\n      return LIST_STYLE_TYPE.CAMBODIAN;\n\n    case 'cjk-earthly-branch':\n      return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\n\n    case 'cjk-heavenly-stem':\n      return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\n\n    case 'cjk-ideographic':\n      return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\n\n    case 'devanagari':\n      return LIST_STYLE_TYPE.DEVANAGARI;\n\n    case 'ethiopic-numeric':\n      return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\n\n    case 'georgian':\n      return LIST_STYLE_TYPE.GEORGIAN;\n\n    case 'gujarati':\n      return LIST_STYLE_TYPE.GUJARATI;\n\n    case 'gurmukhi':\n      return LIST_STYLE_TYPE.GURMUKHI;\n\n    case 'hebrew':\n      return LIST_STYLE_TYPE.HEBREW;\n\n    case 'hiragana':\n      return LIST_STYLE_TYPE.HIRAGANA;\n\n    case 'hiragana-iroha':\n      return LIST_STYLE_TYPE.HIRAGANA_IROHA;\n\n    case 'japanese-formal':\n      return LIST_STYLE_TYPE.JAPANESE_FORMAL;\n\n    case 'japanese-informal':\n      return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\n\n    case 'kannada':\n      return LIST_STYLE_TYPE.KANNADA;\n\n    case 'katakana':\n      return LIST_STYLE_TYPE.KATAKANA;\n\n    case 'katakana-iroha':\n      return LIST_STYLE_TYPE.KATAKANA_IROHA;\n\n    case 'khmer':\n      return LIST_STYLE_TYPE.KHMER;\n\n    case 'korean-hangul-formal':\n      return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\n\n    case 'korean-hanja-formal':\n      return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\n\n    case 'korean-hanja-informal':\n      return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\n\n    case 'lao':\n      return LIST_STYLE_TYPE.LAO;\n\n    case 'lower-armenian':\n      return LIST_STYLE_TYPE.LOWER_ARMENIAN;\n\n    case 'malayalam':\n      return LIST_STYLE_TYPE.MALAYALAM;\n\n    case 'mongolian':\n      return LIST_STYLE_TYPE.MONGOLIAN;\n\n    case 'myanmar':\n      return LIST_STYLE_TYPE.MYANMAR;\n\n    case 'oriya':\n      return LIST_STYLE_TYPE.ORIYA;\n\n    case 'persian':\n      return LIST_STYLE_TYPE.PERSIAN;\n\n    case 'simp-chinese-formal':\n      return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\n\n    case 'simp-chinese-informal':\n      return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\n\n    case 'tamil':\n      return LIST_STYLE_TYPE.TAMIL;\n\n    case 'telugu':\n      return LIST_STYLE_TYPE.TELUGU;\n\n    case 'thai':\n      return LIST_STYLE_TYPE.THAI;\n\n    case 'tibetan':\n      return LIST_STYLE_TYPE.TIBETAN;\n\n    case 'trad-chinese-formal':\n      return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\n\n    case 'trad-chinese-informal':\n      return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\n\n    case 'upper-armenian':\n      return LIST_STYLE_TYPE.UPPER_ARMENIAN;\n\n    case 'disclosure-open':\n      return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\n\n    case 'disclosure-closed':\n      return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\n\n    case 'none':\n    default:\n      return LIST_STYLE_TYPE.NONE;\n  }\n};\nvar parseListStyle = function parseListStyle(style) {\n  var listStyleImage = Object(_background__WEBPACK_IMPORTED_MODULE_0__[\"parseBackgroundImage\"])(style.getPropertyValue('list-style-image'));\n  return {\n    listStyleType: parseListStyleType(style.getPropertyValue('list-style-type')),\n    listStyleImage: listStyleImage.length ? listStyleImage[0] : null,\n    listStylePosition: parseListStylePosition(style.getPropertyValue('list-style-position'))\n  };\n};\n\nvar parseListStylePosition = function parseListStylePosition(position) {\n  switch (position) {\n    case 'inside':\n      return LIST_STYLE_POSITION.INSIDE;\n\n    case 'outside':\n    default:\n      return LIST_STYLE_POSITION.OUTSIDE;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/listStyle.js?")},"./src/parsing/margin.js":
/*!*******************************!*\
  !*** ./src/parsing/margin.js ***!
  \*******************************/
/*! exports provided: parseMargin */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseMargin\", function() { return parseMargin; });\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Length */ \"./src/Length.js\");\n\n\n\nvar SIDES = ['top', 'right', 'bottom', 'left'];\nvar parseMargin = function parseMargin(style) {\n  return SIDES.map(function (side) {\n    return new _Length__WEBPACK_IMPORTED_MODULE_0__[\"default\"](style.getPropertyValue(\"margin-\".concat(side)));\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/margin.js?")},"./src/parsing/overflow.js":
/*!*********************************!*\
  !*** ./src/parsing/overflow.js ***!
  \*********************************/
/*! exports provided: OVERFLOW, parseOverflow */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OVERFLOW\", function() { return OVERFLOW; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseOverflow\", function() { return parseOverflow; });\n\n\nvar OVERFLOW = {\n  VISIBLE: 0,\n  HIDDEN: 1,\n  SCROLL: 2,\n  AUTO: 3\n};\nvar parseOverflow = function parseOverflow(overflow) {\n  switch (overflow) {\n    case 'hidden':\n      return OVERFLOW.HIDDEN;\n\n    case 'scroll':\n      return OVERFLOW.SCROLL;\n\n    case 'auto':\n      return OVERFLOW.AUTO;\n\n    case 'visible':\n    default:\n      return OVERFLOW.VISIBLE;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/overflow.js?")},"./src/parsing/overflowWrap.js":
/*!*************************************!*\
  !*** ./src/parsing/overflowWrap.js ***!
  \*************************************/
/*! exports provided: OVERFLOW_WRAP, parseOverflowWrap */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OVERFLOW_WRAP\", function() { return OVERFLOW_WRAP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseOverflowWrap\", function() { return parseOverflowWrap; });\n\n\nvar OVERFLOW_WRAP = {\n  NORMAL: 0,\n  BREAK_WORD: 1\n};\nvar parseOverflowWrap = function parseOverflowWrap(overflow) {\n  switch (overflow) {\n    case 'break-word':\n      return OVERFLOW_WRAP.BREAK_WORD;\n\n    case 'normal':\n    default:\n      return OVERFLOW_WRAP.NORMAL;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/overflowWrap.js?")},"./src/parsing/padding.js":
/*!********************************!*\
  !*** ./src/parsing/padding.js ***!
  \********************************/
/*! exports provided: PADDING_SIDES, parsePadding */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PADDING_SIDES", function() { return PADDING_SIDES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parsePadding", function() { return parsePadding; });\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Length */ "./src/Length.js");\n\n\n\nvar PADDING_SIDES = {\n  TOP: 0,\n  RIGHT: 1,\n  BOTTOM: 2,\n  LEFT: 3\n};\nvar SIDES = [\'top\', \'right\', \'bottom\', \'left\'];\nvar parsePadding = function parsePadding(style) {\n  return SIDES.map(function (side) {\n    return new _Length__WEBPACK_IMPORTED_MODULE_0__["default"](style.getPropertyValue("padding-".concat(side)));\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/padding.js?')},"./src/parsing/position.js":
/*!*********************************!*\
  !*** ./src/parsing/position.js ***!
  \*********************************/
/*! exports provided: POSITION, parsePosition */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POSITION\", function() { return POSITION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parsePosition\", function() { return parsePosition; });\n\n\nvar POSITION = {\n  STATIC: 0,\n  RELATIVE: 1,\n  ABSOLUTE: 2,\n  FIXED: 3,\n  STICKY: 4\n};\nvar parsePosition = function parsePosition(position) {\n  switch (position) {\n    case 'relative':\n      return POSITION.RELATIVE;\n\n    case 'absolute':\n      return POSITION.ABSOLUTE;\n\n    case 'fixed':\n      return POSITION.FIXED;\n\n    case 'sticky':\n      return POSITION.STICKY;\n  }\n\n  return POSITION.STATIC;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/position.js?")},"./src/parsing/textDecoration.js":
/*!***************************************!*\
  !*** ./src/parsing/textDecoration.js ***!
  \***************************************/
/*! exports provided: TEXT_DECORATION_STYLE, TEXT_DECORATION, TEXT_DECORATION_LINE, parseTextDecoration */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_DECORATION_STYLE\", function() { return TEXT_DECORATION_STYLE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_DECORATION\", function() { return TEXT_DECORATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_DECORATION_LINE\", function() { return TEXT_DECORATION_LINE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTextDecoration\", function() { return parseTextDecoration; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ \"./src/Color.js\");\n\n\n\nvar TEXT_DECORATION_STYLE = {\n  SOLID: 0,\n  DOUBLE: 1,\n  DOTTED: 2,\n  DASHED: 3,\n  WAVY: 4\n};\nvar TEXT_DECORATION = {\n  NONE: null\n};\nvar TEXT_DECORATION_LINE = {\n  UNDERLINE: 1,\n  OVERLINE: 2,\n  LINE_THROUGH: 3,\n  BLINK: 4\n};\n\nvar parseLine = function parseLine(line) {\n  switch (line) {\n    case 'underline':\n      return TEXT_DECORATION_LINE.UNDERLINE;\n\n    case 'overline':\n      return TEXT_DECORATION_LINE.OVERLINE;\n\n    case 'line-through':\n      return TEXT_DECORATION_LINE.LINE_THROUGH;\n  }\n\n  return TEXT_DECORATION_LINE.BLINK;\n};\n\nvar parseTextDecorationLine = function parseTextDecorationLine(line) {\n  if (line === 'none') {\n    return null;\n  }\n\n  return line.split(' ').map(parseLine);\n};\n\nvar parseTextDecorationStyle = function parseTextDecorationStyle(style) {\n  switch (style) {\n    case 'double':\n      return TEXT_DECORATION_STYLE.DOUBLE;\n\n    case 'dotted':\n      return TEXT_DECORATION_STYLE.DOTTED;\n\n    case 'dashed':\n      return TEXT_DECORATION_STYLE.DASHED;\n\n    case 'wavy':\n      return TEXT_DECORATION_STYLE.WAVY;\n  }\n\n  return TEXT_DECORATION_STYLE.SOLID;\n};\n\nvar parseTextDecoration = function parseTextDecoration(style) {\n  var textDecorationLine = parseTextDecorationLine(style.textDecorationLine ? style.textDecorationLine : style.textDecoration);\n\n  if (textDecorationLine === null) {\n    return TEXT_DECORATION.NONE;\n  }\n\n  var textDecorationColor = style.textDecorationColor ? new _Color__WEBPACK_IMPORTED_MODULE_0__[\"default\"](style.textDecorationColor) : null;\n  var textDecorationStyle = parseTextDecorationStyle(style.textDecorationStyle);\n  return {\n    textDecorationLine: textDecorationLine,\n    textDecorationColor: textDecorationColor,\n    textDecorationStyle: textDecorationStyle\n  };\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/textDecoration.js?")},"./src/parsing/textShadow.js":
/*!***********************************!*\
  !*** ./src/parsing/textShadow.js ***!
  \***********************************/
/*! exports provided: parseTextShadow */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTextShadow\", function() { return parseTextShadow; });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ \"./src/Color.js\");\n\n\n\nvar NUMBER = /^([+-]|\\d|\\.)$/i;\nvar parseTextShadow = function parseTextShadow(textShadow) {\n  if (textShadow === 'none' || typeof textShadow !== 'string') {\n    return null;\n  }\n\n  var currentValue = '';\n  var isLength = false;\n  var values = [];\n  var shadows = [];\n  var numParens = 0;\n  var color = null;\n\n  var appendValue = function appendValue() {\n    if (currentValue.length) {\n      if (isLength) {\n        values.push(parseFloat(currentValue));\n      } else {\n        color = new _Color__WEBPACK_IMPORTED_MODULE_0__[\"default\"](currentValue);\n      }\n    }\n\n    isLength = false;\n    currentValue = '';\n  };\n\n  var appendShadow = function appendShadow() {\n    if (values.length && color !== null) {\n      shadows.push({\n        color: color,\n        offsetX: values[0] || 0,\n        offsetY: values[1] || 0,\n        blur: values[2] || 0\n      });\n    }\n\n    values.splice(0, values.length);\n    color = null;\n  };\n\n  for (var i = 0; i < textShadow.length; i++) {\n    var c = textShadow[i];\n\n    switch (c) {\n      case '(':\n        currentValue += c;\n        numParens++;\n        break;\n\n      case ')':\n        currentValue += c;\n        numParens--;\n        break;\n\n      case ',':\n        if (numParens === 0) {\n          appendValue();\n          appendShadow();\n        } else {\n          currentValue += c;\n        }\n\n        break;\n\n      case ' ':\n        if (numParens === 0) {\n          appendValue();\n        } else {\n          currentValue += c;\n        }\n\n        break;\n\n      default:\n        if (currentValue.length === 0 && NUMBER.test(c)) {\n          isLength = true;\n        }\n\n        currentValue += c;\n    }\n  }\n\n  appendValue();\n  appendShadow();\n\n  if (shadows.length === 0) {\n    return null;\n  }\n\n  return shadows;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/textShadow.js?")},"./src/parsing/textTransform.js":
/*!**************************************!*\
  !*** ./src/parsing/textTransform.js ***!
  \**************************************/
/*! exports provided: TEXT_TRANSFORM, parseTextTransform */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TEXT_TRANSFORM\", function() { return TEXT_TRANSFORM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTextTransform\", function() { return parseTextTransform; });\n\n\nvar TEXT_TRANSFORM = {\n  NONE: 0,\n  LOWERCASE: 1,\n  UPPERCASE: 2,\n  CAPITALIZE: 3\n};\nvar parseTextTransform = function parseTextTransform(textTransform) {\n  switch (textTransform) {\n    case 'uppercase':\n      return TEXT_TRANSFORM.UPPERCASE;\n\n    case 'lowercase':\n      return TEXT_TRANSFORM.LOWERCASE;\n\n    case 'capitalize':\n      return TEXT_TRANSFORM.CAPITALIZE;\n  }\n\n  return TEXT_TRANSFORM.NONE;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/textTransform.js?")},"./src/parsing/transform.js":
/*!**********************************!*\
  !*** ./src/parsing/transform.js ***!
  \**********************************/
/*! exports provided: parseTransform */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTransform\", function() { return parseTransform; });\n/* harmony import */ var _Length__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Length */ \"./src/Length.js\");\n\n\n\n\nvar toFloat = function toFloat(s) {\n  return parseFloat(s.trim());\n};\n\nvar MATRIX = /(matrix|matrix3d)\\((.+)\\)/;\nvar parseTransform = function parseTransform(style) {\n  var transform = parseTransformMatrix(style.transform || style.webkitTransform || style.mozTransform || // $FlowFixMe\n  style.msTransform || // $FlowFixMe\n  style.oTransform);\n\n  if (transform === null) {\n    return null;\n  }\n\n  return {\n    transform: transform,\n    transformOrigin: parseTransformOrigin(style.transformOrigin || style.webkitTransformOrigin || style.mozTransformOrigin || // $FlowFixMe\n    style.msTransformOrigin || // $FlowFixMe\n    style.oTransformOrigin)\n  };\n}; // $FlowFixMe\n\nvar parseTransformOrigin = function parseTransformOrigin(origin) {\n  if (typeof origin !== 'string') {\n    var v = new _Length__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('0');\n    return [v, v];\n  }\n\n  var values = origin.split(' ').map(_Length__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create);\n  return [values[0], values[1]];\n}; // $FlowFixMe\n\n\nvar parseTransformMatrix = function parseTransformMatrix(transform) {\n  if (transform === 'none' || typeof transform !== 'string') {\n    return null;\n  }\n\n  var match = transform.match(MATRIX);\n\n  if (match) {\n    if (match[1] === 'matrix') {\n      var matrix = match[2].split(',').map(toFloat);\n      return [matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]];\n    } else {\n      var matrix3d = match[2].split(',').map(toFloat);\n      return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n    }\n  }\n\n  return null;\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/transform.js?")},"./src/parsing/visibility.js":
/*!***********************************!*\
  !*** ./src/parsing/visibility.js ***!
  \***********************************/
/*! exports provided: VISIBILITY, parseVisibility */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VISIBILITY\", function() { return VISIBILITY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseVisibility\", function() { return parseVisibility; });\n\n\nvar VISIBILITY = {\n  VISIBLE: 0,\n  HIDDEN: 1,\n  COLLAPSE: 2\n};\nvar parseVisibility = function parseVisibility(visibility) {\n  switch (visibility) {\n    case 'hidden':\n      return VISIBILITY.HIDDEN;\n\n    case 'collapse':\n      return VISIBILITY.COLLAPSE;\n\n    case 'visible':\n    default:\n      return VISIBILITY.VISIBLE;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/visibility.js?")},"./src/parsing/word-break.js":
/*!***********************************!*\
  !*** ./src/parsing/word-break.js ***!
  \***********************************/
/*! exports provided: WORD_BREAK, parseWordBreak */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WORD_BREAK\", function() { return WORD_BREAK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseWordBreak\", function() { return parseWordBreak; });\n\n\nvar WORD_BREAK = {\n  NORMAL: 'normal',\n  BREAK_ALL: 'break-all',\n  KEEP_ALL: 'keep-all'\n};\nvar parseWordBreak = function parseWordBreak(wordBreak) {\n  switch (wordBreak) {\n    case 'break-all':\n      return WORD_BREAK.BREAK_ALL;\n\n    case 'keep-all':\n      return WORD_BREAK.KEEP_ALL;\n\n    case 'normal':\n    default:\n      return WORD_BREAK.NORMAL;\n  }\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/word-break.js?")},"./src/parsing/zIndex.js":
/*!*******************************!*\
  !*** ./src/parsing/zIndex.js ***!
  \*******************************/
/*! exports provided: parseZIndex */function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseZIndex\", function() { return parseZIndex; });\n\n\nvar parseZIndex = function parseZIndex(zIndex) {\n  var auto = zIndex === 'auto';\n  return {\n    auto: auto,\n    order: auto ? 0 : parseInt(zIndex, 10)\n  };\n};\n\n//# sourceURL=webpack://html2canvas/./src/parsing/zIndex.js?")},"./src/renderer/CanvasRenderer.js":
/*!****************************************!*\
  !*** ./src/renderer/CanvasRenderer.js ***!
  \****************************************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CanvasRenderer; });\n/* harmony import */ var _drawing_Path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../drawing/Path */ "./src/drawing/Path.js");\n/* harmony import */ var _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parsing/textDecoration */ "./src/parsing/textDecoration.js");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar addColorStops = function addColorStops(gradient, canvasGradient) {\n  var maxStop = Math.max.apply(null, gradient.colorStops.map(function (colorStop) {\n    return colorStop.stop;\n  }));\n  var f = 1 / Math.max(1, maxStop);\n  gradient.colorStops.forEach(function (colorStop) {\n    canvasGradient.addColorStop(Math.floor(Math.max(0, f * colorStop.stop)), colorStop.color.toString());\n  });\n};\n\nvar CanvasRenderer =\n/*#__PURE__*/\nfunction () {\n  function CanvasRenderer(canvas) {\n    _classCallCheck(this, CanvasRenderer);\n\n    this.canvas = canvas ? canvas : document.createElement(\'canvas\');\n  }\n\n  _createClass(CanvasRenderer, [{\n    key: "render",\n    value: function render(options) {\n      this.ctx = this.canvas.getContext(\'2d\');\n      this.options = options;\n      this.canvas.width = Math.floor(options.width * options.scale);\n      this.canvas.height = Math.floor(options.height * options.scale);\n      this.canvas.style.width = "".concat(options.width, "px");\n      this.canvas.style.height = "".concat(options.height, "px");\n      this.ctx.scale(this.options.scale, this.options.scale);\n      this.ctx.translate(-options.x, -options.y);\n      this.ctx.textBaseline = \'bottom\';\n      options.logger.log("Canvas renderer initialized (".concat(options.width, "x").concat(options.height, " at ").concat(options.x, ",").concat(options.y, ") with scale ").concat(this.options.scale));\n    }\n  }, {\n    key: "clip",\n    value: function clip(clipPaths, callback) {\n      var _this = this;\n\n      if (clipPaths.length) {\n        this.ctx.save();\n        clipPaths.forEach(function (path) {\n          _this.path(path);\n\n          _this.ctx.clip();\n        });\n      }\n\n      callback();\n\n      if (clipPaths.length) {\n        this.ctx.restore();\n      }\n    }\n  }, {\n    key: "drawImage",\n    value: function drawImage(image, source, destination) {\n      this.ctx.drawImage(image, source.left, source.top, source.width, source.height, destination.left, destination.top, destination.width, destination.height);\n    }\n  }, {\n    key: "drawShape",\n    value: function drawShape(path, color) {\n      this.path(path);\n      this.ctx.fillStyle = color.toString();\n      this.ctx.fill();\n    }\n  }, {\n    key: "fill",\n    value: function fill(color) {\n      this.ctx.fillStyle = color.toString();\n      this.ctx.fill();\n    }\n  }, {\n    key: "getTarget",\n    value: function getTarget() {\n      this.canvas.getContext(\'2d\').setTransform(1, 0, 0, 1, 0, 0);\n      return Promise.resolve(this.canvas);\n    }\n  }, {\n    key: "path",\n    value: function path(_path) {\n      var _this2 = this;\n\n      this.ctx.beginPath();\n\n      if (Array.isArray(_path)) {\n        _path.forEach(function (point, index) {\n          var start = point.type === _drawing_Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].VECTOR ? point : point.start;\n\n          if (index === 0) {\n            _this2.ctx.moveTo(start.x, start.y);\n          } else {\n            _this2.ctx.lineTo(start.x, start.y);\n          }\n\n          if (point.type === _drawing_Path__WEBPACK_IMPORTED_MODULE_0__["PATH"].BEZIER_CURVE) {\n            _this2.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\n          }\n        });\n      } else {\n        this.ctx.arc(_path.x + _path.radius, _path.y + _path.radius, _path.radius, 0, Math.PI * 2, true);\n      }\n\n      this.ctx.closePath();\n    }\n  }, {\n    key: "rectangle",\n    value: function rectangle(x, y, width, height, color) {\n      this.ctx.fillStyle = color.toString();\n      this.ctx.fillRect(x, y, width, height);\n    }\n  }, {\n    key: "renderLinearGradient",\n    value: function renderLinearGradient(bounds, gradient) {\n      var linearGradient = this.ctx.createLinearGradient(bounds.left + gradient.direction.x1, bounds.top + gradient.direction.y1, bounds.left + gradient.direction.x0, bounds.top + gradient.direction.y0);\n      addColorStops(gradient, linearGradient);\n      this.ctx.fillStyle = linearGradient;\n      this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n    }\n  }, {\n    key: "renderRadialGradient",\n    value: function renderRadialGradient(bounds, gradient) {\n      var _this3 = this;\n\n      var x = bounds.left + gradient.center.x;\n      var y = bounds.top + gradient.center.y;\n      var radialGradient = this.ctx.createRadialGradient(x, y, 0, x, y, gradient.radius.x);\n\n      if (!radialGradient) {\n        return;\n      }\n\n      addColorStops(gradient, radialGradient);\n      this.ctx.fillStyle = radialGradient;\n\n      if (gradient.radius.x !== gradient.radius.y) {\n        // transforms for elliptical radial gradient\n        var midX = bounds.left + 0.5 * bounds.width;\n        var midY = bounds.top + 0.5 * bounds.height;\n        var f = gradient.radius.y / gradient.radius.x;\n        var invF = 1 / f;\n        this.transform(midX, midY, [1, 0, 0, f, 0, 0], function () {\n          return _this3.ctx.fillRect(bounds.left, invF * (bounds.top - midY) + midY, bounds.width, bounds.height * invF);\n        });\n      } else {\n        this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);\n      }\n    }\n  }, {\n    key: "renderRepeat",\n    value: function renderRepeat(path, image, imageSize, offsetX, offsetY) {\n      this.path(path);\n      this.ctx.fillStyle = this.ctx.createPattern(this.resizeImage(image, imageSize), \'repeat\');\n      this.ctx.translate(offsetX, offsetY);\n      this.ctx.fill();\n      this.ctx.translate(-offsetX, -offsetY);\n    }\n  }, {\n    key: "renderTextNode",\n    value: function renderTextNode(textBounds, color, font, textDecoration, textShadows) {\n      var _this4 = this;\n\n      this.ctx.font = [font.fontStyle, font.fontVariant, font.fontWeight, font.fontSize, font.fontFamily].join(\' \');\n      textBounds.forEach(function (text) {\n        _this4.ctx.fillStyle = color.toString();\n\n        if (textShadows && text.text.trim().length) {\n          textShadows.slice(0).reverse().forEach(function (textShadow) {\n            _this4.ctx.shadowColor = textShadow.color.toString();\n            _this4.ctx.shadowOffsetX = textShadow.offsetX * _this4.options.scale;\n            _this4.ctx.shadowOffsetY = textShadow.offsetY * _this4.options.scale;\n            _this4.ctx.shadowBlur = textShadow.blur;\n\n            _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n          });\n          _this4.ctx.shadowColor = \'\';\n          _this4.ctx.shadowOffsetX = 0;\n          _this4.ctx.shadowOffsetY = 0;\n          _this4.ctx.shadowBlur = 0;\n        } else {\n          _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\n        }\n\n        if (textDecoration !== null) {\n          var textDecorationColor = textDecoration.textDecorationColor || color;\n          textDecoration.textDecorationLine.forEach(function (textDecorationLine) {\n            switch (textDecorationLine) {\n              case _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__["TEXT_DECORATION_LINE"].UNDERLINE:\n                // Draws a line at the baseline of the font\n                // TODO As some browsers display the line as more than 1px if the font-size is big,\n                // need to take that into account both in position and size\n                var _this4$options$fontMe = _this4.options.fontMetrics.getMetrics(font),\n                    baseline = _this4$options$fontMe.baseline;\n\n                _this4.rectangle(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1, textDecorationColor);\n\n                break;\n\n              case _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__["TEXT_DECORATION_LINE"].OVERLINE:\n                _this4.rectangle(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1, textDecorationColor);\n\n                break;\n\n              case _parsing_textDecoration__WEBPACK_IMPORTED_MODULE_1__["TEXT_DECORATION_LINE"].LINE_THROUGH:\n                // TODO try and find exact position for line-through\n                var _this4$options$fontMe2 = _this4.options.fontMetrics.getMetrics(font),\n                    middle = _this4$options$fontMe2.middle;\n\n                _this4.rectangle(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1, textDecorationColor);\n\n                break;\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: "resizeImage",\n    value: function resizeImage(image, size) {\n      if (image.width === size.width && image.height === size.height) {\n        return image;\n      }\n\n      var canvas = this.canvas.ownerDocument.createElement(\'canvas\');\n      canvas.width = size.width;\n      canvas.height = size.height;\n      var ctx = canvas.getContext(\'2d\');\n      ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height);\n      return canvas;\n    }\n  }, {\n    key: "setOpacity",\n    value: function setOpacity(opacity) {\n      this.ctx.globalAlpha = opacity;\n    }\n  }, {\n    key: "transform",\n    value: function transform(offsetX, offsetY, matrix, callback) {\n      this.ctx.save();\n      this.ctx.translate(offsetX, offsetY);\n      this.ctx.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);\n      this.ctx.translate(-offsetX, -offsetY);\n      callback();\n      this.ctx.restore();\n    }\n  }]);\n\n  return CanvasRenderer;\n}();\n\n\n\n//# sourceURL=webpack://html2canvas/./src/renderer/CanvasRenderer.js?')},"./src/renderer/ForeignObjectRenderer.js":
/*!***********************************************!*\
  !*** ./src/renderer/ForeignObjectRenderer.js ***!
  \***********************************************/
/*! exports provided: default, createForeignObjectSVG, loadSerializedSVG */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ForeignObjectRenderer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createForeignObjectSVG", function() { return createForeignObjectSVG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadSerializedSVG", function() { return loadSerializedSVG; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ForeignObjectRenderer =\n/*#__PURE__*/\nfunction () {\n  function ForeignObjectRenderer(element) {\n    _classCallCheck(this, ForeignObjectRenderer);\n\n    this.element = element;\n  }\n\n  _createClass(ForeignObjectRenderer, [{\n    key: "render",\n    value: function render(options) {\n      var _this = this;\n\n      this.options = options;\n      this.canvas = document.createElement(\'canvas\');\n      this.ctx = this.canvas.getContext(\'2d\');\n      this.canvas.width = Math.floor(options.width) * options.scale;\n      this.canvas.height = Math.floor(options.height) * options.scale;\n      this.canvas.style.width = "".concat(options.width, "px");\n      this.canvas.style.height = "".concat(options.height, "px");\n      this.ctx.scale(options.scale, options.scale);\n      options.logger.log("ForeignObject renderer initialized (".concat(options.width, "x").concat(options.height, " at ").concat(options.x, ",").concat(options.y, ") with scale ").concat(options.scale));\n      var svg = createForeignObjectSVG(Math.max(options.windowWidth, options.width) * options.scale, Math.max(options.windowHeight, options.height) * options.scale, options.scrollX * options.scale, options.scrollY * options.scale, this.element);\n      return loadSerializedSVG(svg).then(function (img) {\n        if (options.backgroundColor) {\n          _this.ctx.fillStyle = options.backgroundColor.toString();\n\n          _this.ctx.fillRect(0, 0, options.width * options.scale, options.height * options.scale);\n        }\n\n        _this.ctx.drawImage(img, -options.x * options.scale, -options.y * options.scale);\n\n        return _this.canvas;\n      });\n    }\n  }]);\n\n  return ForeignObjectRenderer;\n}();\n\n\nvar createForeignObjectSVG = function createForeignObjectSVG(width, height, x, y, node) {\n  var xmlns = \'http://www.w3.org/2000/svg\';\n  var svg = document.createElementNS(xmlns, \'svg\');\n  var foreignObject = document.createElementNS(xmlns, \'foreignObject\');\n  svg.setAttributeNS(null, \'width\', width);\n  svg.setAttributeNS(null, \'height\', height);\n  foreignObject.setAttributeNS(null, \'width\', \'100%\');\n  foreignObject.setAttributeNS(null, \'height\', \'100%\');\n  foreignObject.setAttributeNS(null, \'x\', x);\n  foreignObject.setAttributeNS(null, \'y\', y);\n  foreignObject.setAttributeNS(null, \'externalResourcesRequired\', \'true\');\n  svg.appendChild(foreignObject);\n  foreignObject.appendChild(node);\n  return svg;\n};\nvar loadSerializedSVG = function loadSerializedSVG(svg) {\n  return new Promise(function (resolve, reject) {\n    var img = new Image();\n\n    img.onload = function () {\n      return resolve(img);\n    };\n\n    img.onerror = reject;\n    img.src = "data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(new XMLSerializer().serializeToString(svg)));\n  });\n};\n\n//# sourceURL=webpack://html2canvas/./src/renderer/ForeignObjectRenderer.js?')}}).default},module.exports=factory()},function(e,n,t){var r,a;!function(){function A(e){return e&&(e.ownerDocument||e.document||e).documentElement}function o(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function i(e,n){return n>e?-1:e>n?1:e>=n?0:NaN}function s(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function l(e){return{left:function(n,t,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=n.length);a>r;){var A=r+a>>>1;e(n[A],t)<0?r=A+1:a=A}return r},right:function(n,t,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=n.length);a>r;){var A=r+a>>>1;e(n[A],t)>0?a=A:r=A+1}return r}}}function u(e){return e.length}function d(e,n){for(var t in n)Object.defineProperty(e.prototype,t,{value:n[t],enumerable:!1})}function _(){this._=Object.create(null)}function p(e){return(e+="")===hA||e[0]===gA?gA+e:e}function f(e){return(e+="")[0]===gA?e.slice(1):e}function h(e){return p(e)in this._}function g(e){return(e=p(e))in this._&&delete this._[e]}function B(){var e=[];for(var n in this._)e.push(f(n));return e}function m(){var e=0;for(var n in this._)++e;return e}function E(){for(var e in this._)return!1;return!0}function b(){this._=Object.create(null)}function v(e){return e}function w(e,n,t){return function(){var r=t.apply(n,arguments);return r===n?e:r}}function y(e,n){if(n in e)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var t=0,r=BA.length;r>t;++t){var a=BA[t]+n;if(a in e)return a}}function C(){}function U(){}function L(e){function n(){for(var n,r=t,a=-1,A=r.length;++a<A;)(n=r[a].on)&&n.apply(this,arguments);return e}var t=[],r=new _;return n.on=function(n,a){var A,o=r.get(n);return arguments.length<2?o&&o.on:(o&&(o.on=null,t=t.slice(0,A=t.indexOf(o)).concat(t.slice(A+1)),r.remove(n)),a&&t.push(r.set(n,{on:a})),e)},n}function x(){AA.event.preventDefault()}function Q(){for(var e,n=AA.event;e=n.sourceEvent;)n=e;return n}function T(e){for(var n=new U,t=0,r=arguments.length;++t<r;)n[arguments[t]]=L(n);return n.of=function(t,r){return function(a){try{var A=a.sourceEvent=AA.event;a.target=e,AA.event=a,n[a.type].apply(t,r)}finally{AA.event=A}}},n}function F(e){return EA(e,yA),e}function P(e){return"function"==typeof e?e:function(){return bA(e,this)}}function O(e){return"function"==typeof e?e:function(){return vA(e,this)}}function I(e,n){return e=AA.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function M(e){return e.trim().replace(/\s+/g," ")}function D(e){return new RegExp("(?:^|\\s+)"+AA.requote(e)+"(?:\\s+|$)","g")}function k(e){return(e+"").trim().split(/^|\s+/)}function S(e,n){var t=(e=k(e).map(R)).length;return"function"==typeof n?function(){for(var r=-1,a=n.apply(this,arguments);++r<t;)e[r](this,a)}:function(){for(var r=-1;++r<t;)e[r](this,n)}}function R(e){var n=D(e);return function(t,r){if(a=t.classList)return r?a.add(e):a.remove(e);var a=t.getAttribute("class")||"";r?(n.lastIndex=0,n.test(a)||t.setAttribute("class",M(a+" "+e))):t.setAttribute("class",M(a.replace(n," ")))}}function H(e,n,t){return null==n?function(){this.style.removeProperty(e)}:"function"==typeof n?function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,t)}:function(){this.style.setProperty(e,n,t)}}function N(e,n){return null==n?function(){delete this[e]}:"function"==typeof n?function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=n}}function K(e){return"function"==typeof e?e:(e=AA.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var n=this.ownerDocument,t=this.namespaceURI;return t===CA&&n.documentElement.namespaceURI===CA?n.createElement(e):n.createElementNS(t,e)}}function W(){var e=this.parentNode;e&&e.removeChild(this)}function z(e){return{__data__:e}}function V(e){return function(){return wA(this,e)}}function j(e){return arguments.length||(e=i),function(n,t){return n&&t?e(n.__data__,t.__data__):!n-!t}}function G(e,n){for(var t=0,r=e.length;r>t;t++)for(var a,A=e[t],o=0,i=A.length;i>o;o++)(a=A[o])&&n(a,o,t);return e}function Y(e){return EA(e,LA),e}function X(e,n,t){function r(){var n=this[a];n&&(this.removeEventListener(e,n,n.$),delete this[a])}var a="__on"+e,A=e.indexOf("."),o=q;A>0&&(e=e.slice(0,A));var i=xA.get(e);return i&&(e=i,o=J),A?n?function(){var A=o(n,iA(arguments));r.call(this),this.addEventListener(e,this[a]=A,A.$=t),A._=n}:r:n?C:function(){var n,t=new RegExp("^__on([^.]+)"+AA.requote(e)+"$");for(var r in this)if(n=r.match(t)){var a=this[r];this.removeEventListener(n[1],a,a.$),delete this[r]}}}function q(e,n){return function(t){var r=AA.event;AA.event=t,n[0]=this.__data__;try{e.apply(this,n)}finally{AA.event=r}}}function J(e,n){var t=q(e,n);return function(e){var n=this,r=e.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||t.call(n,e)}}function $(e){var n=".dragsuppress-"+ ++TA,t="click"+n,r=AA.select(o(e)).on("touchmove"+n,x).on("dragstart"+n,x).on("selectstart"+n,x);if(null==QA&&(QA=!("onselectstart"in e)&&y(e.style,"userSelect")),QA){var a=A(e).style,i=a[QA];a[QA]="none"}return function(e){if(r.on(n,null),QA&&(a[QA]=i),e){var A=function(){r.on(t,null)};r.on(t,function(){x(),A()},!0),setTimeout(A,0)}}}function Z(e,n){n.changedTouches&&(n=n.changedTouches[0]);var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();if(0>FA){var a=o(e);if(a.scrollX||a.scrollY){var A=(t=AA.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();FA=!(A.f||A.e),t.remove()}}return FA?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}function ee(){return AA.event.changedTouches[0].identifier}function ne(e){return e>0?1:0>e?-1:0}function te(e,n,t){return(n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0])}function re(e){return e>1?0:-1>e?IA:Math.acos(e)}function ae(e){return e>1?kA:-1>e?-kA:Math.asin(e)}function Ae(e){return((e=Math.exp(e))+1/e)/2}function oe(e){return(e=Math.sin(e/2))*e}function ie(){}function se(e,n,t){return this instanceof se?(this.h=+e,this.s=+n,void(this.l=+t)):arguments.length<2?e instanceof se?new se(e.h,e.s,e.l):ve(""+e,we,se):new se(e,n,t)}function ce(e,n,t){function r(e){return Math.round(255*function(e){return e>360?e-=360:0>e&&(e+=360),60>e?a+(A-a)*e/60:180>e?A:240>e?a+(A-a)*(240-e)/60:a}(e))}var a,A;return e=isNaN(e)?0:(e%=360)<0?e+360:e,n=isNaN(n)?0:0>n?0:n>1?1:n,a=2*(t=0>t?0:t>1?1:t)-(A=.5>=t?t*(1+n):t+n-t*n),new Be(r(e+120),r(e),r(e-120))}function le(e,n,t){return this instanceof le?(this.h=+e,this.c=+n,void(this.l=+t)):arguments.length<2?e instanceof le?new le(e.h,e.c,e.l):pe(e instanceof de?e.l:(e=ye((e=AA.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new le(e,n,t)}function ue(e,n,t){return isNaN(e)&&(e=0),isNaN(n)&&(n=0),new de(t,Math.cos(e*=SA)*n,Math.sin(e)*n)}function de(e,n,t){return this instanceof de?(this.l=+e,this.a=+n,void(this.b=+t)):arguments.length<2?e instanceof de?new de(e.l,e.a,e.b):e instanceof le?ue(e.h,e.c,e.l):ye((e=Be(e)).r,e.g,e.b):new de(e,n,t)}function _e(e,n,t){var r=(e+16)/116,a=r+n/500,A=r-t/200;return new Be(ge(3.2404542*(a=fe(a)*GA)-1.5371385*(r=fe(r)*YA)-.4985314*(A=fe(A)*XA)),ge(-.969266*a+1.8760108*r+.041556*A),ge(.0556434*a-.2040259*r+1.0572252*A))}function pe(e,n,t){return e>0?new le(Math.atan2(t,n)*RA,Math.sqrt(n*n+t*t),e):new le(NaN,NaN,e)}function fe(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function he(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ge(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function Be(e,n,t){return this instanceof Be?(this.r=~~e,this.g=~~n,void(this.b=~~t)):arguments.length<2?e instanceof Be?new Be(e.r,e.g,e.b):ve(""+e,Be,ce):new Be(e,n,t)}function me(e){return new Be(e>>16,e>>8&255,255&e)}function Ee(e){return me(e)+""}function be(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ve(e,n,t){var r,a,A,o=0,i=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(a=r[2].split(","),r[1]){case"hsl":return t(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return n(Ue(a[0]),Ue(a[1]),Ue(a[2]))}return(A=$A.get(e))?n(A.r,A.g,A.b):(null==e||"#"!==e.charAt(0)||isNaN(A=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&A)>>4,o|=o>>4,i=240&A,i|=i>>4,s=15&A,s|=s<<4):7===e.length&&(o=(16711680&A)>>16,i=(65280&A)>>8,s=255&A)),n(o,i,s))}function we(e,n,t){var r,a,A=Math.min(e/=255,n/=255,t/=255),o=Math.max(e,n,t),i=o-A,s=(o+A)/2;return i?(a=.5>s?i/(o+A):i/(2-o-A),r=e==o?(n-t)/i+(t>n?6:0):n==o?(t-e)/i+2:(e-n)/i+4,r*=60):(r=NaN,a=s>0&&1>s?0:r),new se(r,a,s)}function ye(e,n,t){var r=he((.4124564*(e=Ce(e))+.3575761*(n=Ce(n))+.1804375*(t=Ce(t)))/GA),a=he((.2126729*e+.7151522*n+.072175*t)/YA);return de(116*a-16,500*(r-a),200*(a-he((.0193339*e+.119192*n+.9503041*t)/XA)))}function Ce(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ue(e){var n=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*n):n}function Le(e){return"function"==typeof e?e:function(){return e}}function xe(e){return function(n,t,r){return 2===arguments.length&&"function"==typeof t&&(r=t,t=null),Qe(n,t,e,r)}}function Qe(e,n,t,r){function a(){var e,n=s.status;if(!n&&function(e){var n=e.responseType;return n&&"text"!==n?e.response:e.responseText}(s)||n>=200&&300>n||304===n){try{e=t.call(A,s)}catch(e){return void o.error.call(A,e)}o.load.call(A,e)}else o.error.call(A,s)}var A={},o=AA.dispatch("beforesend","progress","load","error"),i={},s=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(e)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=a:s.onreadystatechange=function(){s.readyState>3&&a()},s.onprogress=function(e){var n=AA.event;AA.event=e;try{o.progress.call(A,s)}finally{AA.event=n}},A.header=function(e,n){return e=(e+"").toLowerCase(),arguments.length<2?i[e]:(null==n?delete i[e]:i[e]=n+"",A)},A.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",A):n},A.responseType=function(e){return arguments.length?(c=e,A):c},A.response=function(e){return t=e,A},["get","post"].forEach(function(e){A[e]=function(){return A.send.apply(A,[e].concat(iA(arguments)))}}),A.send=function(t,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),s.open(t,e,!0),null==n||"accept"in i||(i.accept=n+",*/*"),s.setRequestHeader)for(var l in i)s.setRequestHeader(l,i[l]);return null!=n&&s.overrideMimeType&&s.overrideMimeType(n),null!=c&&(s.responseType=c),null!=a&&A.on("error",a).on("load",function(e){a(null,e)}),o.beforesend.call(A,s),s.send(null==r?null:r),A},A.abort=function(){return s.abort(),A},AA.rebind(A,o,"on"),null==r?A:A.get(function(e){return 1===e.length?function(n,t){e(null==n?t:null)}:e}(r))}function Te(e,n,t){var r=arguments.length;2>r&&(n=0),3>r&&(t=Date.now());var a={c:e,t:t+n,n:null};return eo?eo.n=a:ZA=a,eo=a,no||(to=clearTimeout(to),no=1,ro(Fe)),a}function Fe(){var e=Pe(),n=Oe()-e;n>24?(isFinite(n)&&(clearTimeout(to),to=setTimeout(Fe,n)),no=0):(no=1,ro(Fe))}function Pe(){for(var e=Date.now(),n=ZA;n;)e>=n.t&&n.c(e-n.t)&&(n.c=null),n=n.n;return e}function Oe(){for(var e,n=ZA,t=1/0;n;)n.c?(n.t<t&&(t=n.t),n=(e=n).n):n=e?e.n=n.n:ZA=n.n;return eo=e,t}function Ie(e,n){return n-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Me(e){var n=e.decimal,t=e.thousands,r=e.grouping,a=e.currency,A=r&&t?function(e,n){for(var a=e.length,A=[],o=0,i=r[0],s=0;a>0&&i>0&&(s+i+1>n&&(i=Math.max(1,n-s)),A.push(e.substring(a-=i,a+i)),!((s+=i+1)>n));)i=r[o=(o+1)%r.length];return A.reverse().join(t)}:v;return function(e){var t=Ao.exec(e),r=t[1]||" ",o=t[2]||">",i=t[3]||"-",s=t[4]||"",c=t[5],l=+t[6],u=t[7],d=t[8],_=t[9],p=1,f="",h="",g=!1,B=!0;switch(d&&(d=+d.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),_){case"n":u=!0,_="g";break;case"%":p=100,h="%",_="f";break;case"p":p=100,h="%",_="r";break;case"b":case"o":case"x":case"X":"#"===s&&(f="0"+_.toLowerCase());case"c":B=!1;case"d":g=!0,d=0;break;case"s":p=-1,_="r"}"$"===s&&(f=a[0],h=a[1]),"r"!=_||d||(_="g"),null!=d&&("g"==_?d=Math.max(1,Math.min(21,d)):"e"!=_&&"f"!=_||(d=Math.max(0,Math.min(20,d)))),_=oo.get(_)||De;var m=c&&u;return function(e){var t=h;if(g&&e%1)return"";var a=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===i?"":i;if(0>p){var s=AA.formatPrefix(e,d);e=s.scale(e),t=s.symbol+h}else e*=p;var E,b,v=(e=_(e,d)).lastIndexOf(".");if(0>v){var w=B?e.lastIndexOf("e"):-1;0>w?(E=e,b=""):(E=e.substring(0,w),b=e.substring(w))}else E=e.substring(0,v),b=n+e.substring(v+1);!c&&u&&(E=A(E,1/0));var y=f.length+E.length+b.length+(m?0:a.length),C=l>y?new Array(y=l-y+1).join(r):"";return m&&(E=A(C+E,C.length?l-b.length:1/0)),a+=f,e=E+b,("<"===o?a+e+C:">"===o?C+a+e:"^"===o?C.substring(0,y>>=1)+a+e+C.substring(y):a+(m?e:C+e))+t}}}function De(e){return e+""}function ke(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Se(e,n,t){function r(n){var t=e(n),r=A(t,1);return r-n>n-t?t:r}function a(t){return n(t=e(new so(t-1)),1),t}function A(e,t){return n(e=new so(+e),t),e}function o(e,r,A){var o=a(e),i=[];if(A>1)for(;r>o;)t(o)%A||i.push(new Date(+o)),n(o,1);else for(;r>o;)i.push(new Date(+o)),n(o,1);return i}e.floor=e,e.round=r,e.ceil=a,e.offset=A,e.range=o;var i=e.utc=Re(e);return i.floor=i,i.round=Re(r),i.ceil=Re(a),i.offset=Re(A),i.range=function(e,n,t){try{so=ke;var r=new ke;return r._=e,o(r,n,t)}finally{so=Date}},e}function Re(e){return function(n,t){try{so=ke;var r=new ke;return r._=n,e(r,t)._}finally{so=Date}}}function He(e){function n(e){function n(n){for(var t,a,A,o=[],i=-1,s=0;++i<r;)37===e.charCodeAt(i)&&(o.push(e.slice(s,i)),null!=(a=lo[t=e.charAt(++i)])&&(t=e.charAt(++i)),(A=E[t])&&(t=A(n,null==a?"e"===t?" ":"0":a)),o.push(t),s=i+1);return o.push(e.slice(s,i)),o.join("")}var r=e.length;return n.parse=function(n){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(t(r,e,n,0)!=n.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&so!==ke,A=new(a?ke:so);return"j"in r?A.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),A.setFullYear(r.y,0,1),A.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(A.getDay()+5)%7:r.w+7*r.U-(A.getDay()+6)%7)):A.setFullYear(r.y,r.m,r.d),A.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?A._:A},n.toString=function(){return e},n}function t(e,n,t,r){for(var a,A,o,i=0,s=n.length,c=t.length;s>i;){if(r>=c)return-1;if(37===(a=n.charCodeAt(i++))){if(o=n.charAt(i++),!(A=b[o in lo?n.charAt(i++):o])||(r=A(e,t,r))<0)return-1}else if(a!=t.charCodeAt(r++))return-1}return r}var r=e.dateTime,a=e.date,A=e.time,o=e.periods,i=e.days,s=e.shortDays,c=e.months,l=e.shortMonths;n.utc=function(e){function t(e){try{var n=new(so=ke);return n._=e,r(n)}finally{so=Date}}var r=n(e);return t.parse=function(e){try{so=ke;var n=r.parse(e);return n&&n._}finally{so=Date}},t.toString=r.toString,t},n.multi=n.utc.multi=An;var u=AA.map(),d=Ke(i),_=We(i),p=Ke(s),f=We(s),h=Ke(c),g=We(c),B=Ke(l),m=We(l);o.forEach(function(e,n){u.set(e.toLowerCase(),n)});var E={a:function(e){return s[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:n(r),d:function(e,n){return Ne(e.getDate(),n,2)},e:function(e,n){return Ne(e.getDate(),n,2)},H:function(e,n){return Ne(e.getHours(),n,2)},I:function(e,n){return Ne(e.getHours()%12||12,n,2)},j:function(e,n){return Ne(1+io.dayOfYear(e),n,3)},L:function(e,n){return Ne(e.getMilliseconds(),n,3)},m:function(e,n){return Ne(e.getMonth()+1,n,2)},M:function(e,n){return Ne(e.getMinutes(),n,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,n){return Ne(e.getSeconds(),n,2)},U:function(e,n){return Ne(io.sundayOfYear(e),n,2)},w:function(e){return e.getDay()},W:function(e,n){return Ne(io.mondayOfYear(e),n,2)},x:n(a),X:n(A),y:function(e,n){return Ne(e.getFullYear()%100,n,2)},Y:function(e,n){return Ne(e.getFullYear()%1e4,n,4)},Z:rn,"%":function(){return"%"}},b={a:function(e,n,t){p.lastIndex=0;var r=p.exec(n.slice(t));return r?(e.w=f.get(r[0].toLowerCase()),t+r[0].length):-1},A:function(e,n,t){d.lastIndex=0;var r=d.exec(n.slice(t));return r?(e.w=_.get(r[0].toLowerCase()),t+r[0].length):-1},b:function(e,n,t){B.lastIndex=0;var r=B.exec(n.slice(t));return r?(e.m=m.get(r[0].toLowerCase()),t+r[0].length):-1},B:function(e,n,t){h.lastIndex=0;var r=h.exec(n.slice(t));return r?(e.m=g.get(r[0].toLowerCase()),t+r[0].length):-1},c:function(e,n,r){return t(e,E.c.toString(),n,r)},d:Je,e:Je,H:Ze,I:Ze,j:$e,L:tn,m:qe,M:en,p:function(e,n,t){var r=u.get(n.slice(t,t+=2).toLowerCase());return null==r?-1:(e.p=r,t)},S:nn,U:Ve,w:ze,W:je,x:function(e,n,r){return t(e,E.x.toString(),n,r)},X:function(e,n,r){return t(e,E.X.toString(),n,r)},y:Ye,Y:Ge,Z:Xe,"%":an};return n}function Ne(e,n,t){var r=0>e?"-":"",a=(r?-e:e)+"",A=a.length;return r+(t>A?new Array(t-A+1).join(n)+a:a)}function Ke(e){return new RegExp("^(?:"+e.map(AA.requote).join("|")+")","i")}function We(e){for(var n=new _,t=-1,r=e.length;++t<r;)n.set(e[t].toLowerCase(),t);return n}function ze(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+1));return r?(e.w=+r[0],t+r[0].length):-1}function Ve(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t));return r?(e.U=+r[0],t+r[0].length):-1}function je(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t));return r?(e.W=+r[0],t+r[0].length):-1}function Ge(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+4));return r?(e.y=+r[0],t+r[0].length):-1}function Ye(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+2));return r?(e.y=function(e){return e+(e>68?1900:2e3)}(+r[0]),t+r[0].length):-1}function Xe(e,n,t){return/^[+-]\d{4}$/.test(n=n.slice(t,t+5))?(e.Z=-n,t+5):-1}function qe(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+2));return r?(e.m=r[0]-1,t+r[0].length):-1}function Je(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+2));return r?(e.d=+r[0],t+r[0].length):-1}function $e(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+3));return r?(e.j=+r[0],t+r[0].length):-1}function Ze(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+2));return r?(e.H=+r[0],t+r[0].length):-1}function en(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+2));return r?(e.M=+r[0],t+r[0].length):-1}function nn(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+2));return r?(e.S=+r[0],t+r[0].length):-1}function tn(e,n,t){uo.lastIndex=0;var r=uo.exec(n.slice(t,t+3));return r?(e.L=+r[0],t+r[0].length):-1}function rn(e){var n=e.getTimezoneOffset(),t=n>0?"-":"+",r=fA(n)/60|0,a=fA(n)%60;return t+Ne(r,"0",2)+Ne(a,"0",2)}function an(e,n,t){_o.lastIndex=0;var r=_o.exec(n.slice(t,t+1));return r?t+r[0].length:-1}function An(e){for(var n=e.length,t=-1;++t<n;)e[t][0]=this(e[t][0]);return function(n){for(var t=0,r=e[t];!r[1](n);)r=e[++t];return r[0](n)}}function on(){}function sn(e,n,t){var r=t.s=e+n,a=r-e,A=r-a;t.t=e-A+(n-a)}function cn(e,n){e&&go.hasOwnProperty(e.type)&&go[e.type](e,n)}function ln(e,n,t){var r,a=-1,A=e.length-t;for(n.lineStart();++a<A;)r=e[a],n.point(r[0],r[1],r[2]);n.lineEnd()}function un(e,n){var t=-1,r=e.length;for(n.polygonStart();++t<r;)ln(e[t],n,1);n.polygonEnd()}function dn(){function e(e,n){n=n*SA/2+IA/4;var t=(e*=SA)-r,o=t>=0?1:-1,i=o*t,s=Math.cos(n),c=Math.sin(n),l=A*c,u=a*s+l*Math.cos(i),d=l*o*Math.sin(i);mo.add(Math.atan2(d,u)),r=e,a=s,A=c}var n,t,r,a,A;Eo.point=function(o,i){Eo.point=e,r=(n=o)*SA,a=Math.cos(i=(t=i)*SA/2+IA/4),A=Math.sin(i)},Eo.lineEnd=function(){e(n,t)}}function _n(e){var n=e[0],t=e[1],r=Math.cos(t);return[r*Math.cos(n),r*Math.sin(n),Math.sin(t)]}function pn(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function fn(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function hn(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function gn(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function Bn(e){var n=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}function mn(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function En(e,n){return fA(e[0]-n[0])<PA&&fA(e[1]-n[1])<PA}function bn(e,n){e*=SA;var t=Math.cos(n*=SA);vn(t*Math.cos(e),t*Math.sin(e),Math.sin(n))}function vn(e,n,t){wo+=(e-wo)/++bo,yo+=(n-yo)/bo,Co+=(t-Co)/bo}function wn(){function e(e,a){e*=SA;var A=Math.cos(a*=SA),o=A*Math.cos(e),i=A*Math.sin(e),s=Math.sin(a),c=Math.atan2(Math.sqrt((c=t*s-r*i)*c+(c=r*o-n*s)*c+(c=n*i-t*o)*c),n*o+t*i+r*s);vo+=c,Uo+=c*(n+(n=o)),Lo+=c*(t+(t=i)),xo+=c*(r+(r=s)),vn(n,t,r)}var n,t,r;Po.point=function(a,A){a*=SA;var o=Math.cos(A*=SA);n=o*Math.cos(a),t=o*Math.sin(a),r=Math.sin(A),Po.point=e,vn(n,t,r)}}function yn(){Po.point=bn}function Cn(){function e(e,n){e*=SA;var t=Math.cos(n*=SA),o=t*Math.cos(e),i=t*Math.sin(e),s=Math.sin(n),c=a*s-A*i,l=A*o-r*s,u=r*i-a*o,d=Math.sqrt(c*c+l*l+u*u),_=r*o+a*i+A*s,p=d&&-re(_)/d,f=Math.atan2(d,_);Qo+=p*c,To+=p*l,Fo+=p*u,vo+=f,Uo+=f*(r+(r=o)),Lo+=f*(a+(a=i)),xo+=f*(A+(A=s)),vn(r,a,A)}var n,t,r,a,A;Po.point=function(o,i){n=o,t=i,Po.point=e,o*=SA;var s=Math.cos(i*=SA);r=s*Math.cos(o),a=s*Math.sin(o),A=Math.sin(i),vn(r,a,A)},Po.lineEnd=function(){e(n,t),Po.lineEnd=yn,Po.point=bn}}function Un(e,n){function t(t,r){return t=e(t,r),n(t[0],t[1])}return e.invert&&n.invert&&(t.invert=function(t,r){return(t=n.invert(t,r))&&e.invert(t[0],t[1])}),t}function Ln(){return!0}function xn(e,n,t,r,a){var A=[],o=[];if(e.forEach(function(e){if(!((n=e.length-1)<=0)){var n,t=e[0],r=e[n];if(En(t,r)){a.lineStart();for(var i=0;n>i;++i)a.point((t=e[i])[0],t[1]);return void a.lineEnd()}var s=new Tn(t,e,null,!0),c=new Tn(t,null,s,!1);s.o=c,A.push(s),o.push(c),s=new Tn(r,e,null,!1),c=new Tn(r,null,s,!0),s.o=c,A.push(s),o.push(c)}}),o.sort(n),Qn(A),Qn(o),A.length){for(var i=0,s=t,c=o.length;c>i;++i)o[i].e=s=!s;for(var l,u,d=A[0];;){for(var _=d,p=!0;_.v;)if((_=_.n)===d)return;l=_.z,a.lineStart();do{if(_.v=_.o.v=!0,_.e){if(p)for(i=0,c=l.length;c>i;++i)a.point((u=l[i])[0],u[1]);else r(_.x,_.n.x,1,a);_=_.n}else{if(p)for(i=(l=_.p.z).length-1;i>=0;--i)a.point((u=l[i])[0],u[1]);else r(_.x,_.p.x,-1,a);_=_.p}l=(_=_.o).z,p=!p}while(!_.v);a.lineEnd()}}}function Qn(e){if(n=e.length){for(var n,t,r=0,a=e[0];++r<n;)a.n=t=e[r],t.p=a,a=t;a.n=t=e[0],t.p=a}}function Tn(e,n,t,r){this.x=e,this.z=n,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function Fn(e,n,t,r){return function(a,A){function o(n,t){var r=a(n,t);e(n=r[0],t=r[1])&&A.point(n,t)}function i(e,n){var t=a(e,n);h.point(t[0],t[1])}function s(){B.point=i,h.lineStart()}function c(){B.point=o,h.lineEnd()}function l(e,n){f.push([e,n]);var t=a(e,n);E.point(t[0],t[1])}function u(){E.lineStart(),f=[]}function d(){l(f[0][0],f[0][1]),E.lineEnd();var e,n=E.clean(),t=m.buffer(),r=t.length;if(f.pop(),p.push(f),f=null,r)if(1&n){var a,o=-1;if((r=(e=t[0]).length-1)>0){for(b||(A.polygonStart(),b=!0),A.lineStart();++o<r;)A.point((a=e[o])[0],a[1]);A.lineEnd()}}else r>1&&2&n&&t.push(t.pop().concat(t.shift())),_.push(t.filter(Pn))}var _,p,f,h=n(A),g=a.invert(r[0],r[1]),B={point:o,lineStart:s,lineEnd:c,polygonStart:function(){B.point=l,B.lineStart=u,B.lineEnd=d,_=[],p=[]},polygonEnd:function(){B.point=o,B.lineStart=s,B.lineEnd=c,_=AA.merge(_);var e=function(e,n){var t=e[0],r=e[1],a=[Math.sin(t),-Math.cos(t),0],A=0,o=0;mo.reset();for(var i=0,s=n.length;s>i;++i){var c=n[i],l=c.length;if(l)for(var u=c[0],d=u[0],_=u[1]/2+IA/4,p=Math.sin(_),f=Math.cos(_),h=1;;){h===l&&(h=0);var g=(e=c[h])[0],B=e[1]/2+IA/4,m=Math.sin(B),E=Math.cos(B),b=g-d,v=b>=0?1:-1,w=v*b,y=w>IA,C=p*m;if(mo.add(Math.atan2(C*v*Math.sin(w),f*E+C*Math.cos(w))),A+=y?b+v*MA:b,y^d>=t^g>=t){var U=fn(_n(u),_n(e));Bn(U);var L=fn(a,U);Bn(L);var x=(y^b>=0?-1:1)*ae(L[2]);(r>x||r===x&&(U[0]||U[1]))&&(o+=y^b>=0?1:-1)}if(!h++)break;d=g,p=m,f=E,u=e}}return(-PA>A||PA>A&&-PA>mo)^1&o}(g,p);_.length?(b||(A.polygonStart(),b=!0),xn(_,In,e,t,A)):e&&(b||(A.polygonStart(),b=!0),A.lineStart(),t(null,null,1,A),A.lineEnd()),b&&(A.polygonEnd(),b=!1),_=p=null},sphere:function(){A.polygonStart(),A.lineStart(),t(null,null,1,A),A.lineEnd(),A.polygonEnd()}},m=On(),E=n(m),b=!1;return B}}function Pn(e){return e.length>1}function On(){var e,n=[];return{lineStart:function(){n.push(e=[])},point:function(n,t){e.push([n,t])},lineEnd:C,buffer:function(){var t=n;return n=[],e=null,t},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function In(e,n){return((e=e.x)[0]<0?e[1]-kA-PA:kA-e[1])-((n=n.x)[0]<0?n[1]-kA-PA:kA-n[1])}function Mn(e,n,t,r){return function(a){var A,o=a.a,i=a.b,s=o.x,c=o.y,l=0,u=1,d=i.x-s,_=i.y-c;if(A=e-s,d||!(A>0)){if(A/=d,0>d){if(l>A)return;u>A&&(u=A)}else if(d>0){if(A>u)return;A>l&&(l=A)}if(A=t-s,d||!(0>A)){if(A/=d,0>d){if(A>u)return;A>l&&(l=A)}else if(d>0){if(l>A)return;u>A&&(u=A)}if(A=n-c,_||!(A>0)){if(A/=_,0>_){if(l>A)return;u>A&&(u=A)}else if(_>0){if(A>u)return;A>l&&(l=A)}if(A=r-c,_||!(0>A)){if(A/=_,0>_){if(A>u)return;A>l&&(l=A)}else if(_>0){if(l>A)return;u>A&&(u=A)}return l>0&&(a.a={x:s+l*d,y:c+l*_}),1>u&&(a.b={x:s+u*d,y:c+u*_}),a}}}}}}function Dn(e,n,t,r){function a(r,a){return fA(r[0]-e)<PA?a>0?0:3:fA(r[0]-t)<PA?a>0?2:1:fA(r[1]-n)<PA?a>0?1:0:a>0?3:2}function A(e,n){return o(e.x,n.x)}function o(e,n){var t=a(e,1),r=a(n,1);return t!==r?t-r:0===t?n[1]-e[1]:1===t?e[0]-n[0]:2===t?e[1]-n[1]:n[0]-e[0]}return function(i){function s(A,i,s,c){var l=0,u=0;if(null==A||(l=a(A,s))!==(u=a(i,s))||o(A,i)<0^s>0)do{c.point(0===l||3===l?e:t,l>1?r:n)}while((l=(l+s+4)%4)!==u);else c.point(i[0],i[1])}function c(a,A){return a>=e&&t>=a&&A>=n&&r>=A}function l(e,n){c(e,n)&&i.point(e,n)}function u(e,n){var t=c(e=Math.max(-Io,Math.min(Io,e)),n=Math.max(-Io,Math.min(Io,n)));if(_&&p.push([e,n]),b)f=e,h=n,g=t,b=!1,t&&(i.lineStart(),i.point(e,n));else if(t&&E)i.point(e,n);else{var r={a:{x:B,y:m},b:{x:e,y:n}};C(r)?(E||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),t||i.lineEnd(),v=!1):t&&(i.lineStart(),i.point(e,n),v=!1)}B=e,m=n,E=t}var d,_,p,f,h,g,B,m,E,b,v,w=i,y=On(),C=Mn(e,n,t,r),U={point:l,lineStart:function(){U.point=u,_&&_.push(p=[]),b=!0,E=!1,B=m=NaN},lineEnd:function(){d&&(u(f,h),g&&E&&y.rejoin(),d.push(y.buffer())),U.point=l,E&&i.lineEnd()},polygonStart:function(){i=y,d=[],_=[],v=!0},polygonEnd:function(){i=w,d=AA.merge(d);var n=function(e){for(var n=0,t=_.length,r=e[1],a=0;t>a;++a)for(var A,o=1,i=_[a],s=i.length,c=i[0];s>o;++o)A=i[o],c[1]<=r?A[1]>r&&te(c,A,e)>0&&++n:A[1]<=r&&te(c,A,e)<0&&--n,c=A;return 0!==n}([e,r]),t=v&&n,a=d.length;(t||a)&&(i.polygonStart(),t&&(i.lineStart(),s(null,null,1,i),i.lineEnd()),a&&xn(d,A,n,s,i),i.polygonEnd()),d=_=p=null}};return U}}function kn(e){var n=0,t=IA/3,r=Jn(e),a=r(n,t);return a.parallels=function(e){return arguments.length?r(n=e[0]*IA/180,t=e[1]*IA/180):[n/IA*180,t/IA*180]},a}function Sn(e,n){function t(e,n){var t=Math.sqrt(A-2*a*Math.sin(n))/a;return[t*Math.sin(e*=a),o-t*Math.cos(e)]}var r=Math.sin(e),a=(r+Math.sin(n))/2,A=1+r*(2*a-r),o=Math.sqrt(A)/a;return t.invert=function(e,n){var t=o-n;return[Math.atan2(e,t)/a,ae((A-(e*e+t*t)*a*a)/(2*a))]},t}function Rn(){function e(e,n){Do+=a*e-r*n,r=e,a=n}var n,t,r,a;No.point=function(A,o){No.point=e,n=r=A,t=a=o},No.lineEnd=function(){e(n,t)}}function Hn(){function e(e,n){o.push("M",e,",",n,A)}function n(e,n){o.push("M",e,",",n),i.point=t}function t(e,n){o.push("L",e,",",n)}function r(){i.point=e}function a(){o.push("Z")}var A=Nn(4.5),o=[],i={point:e,lineStart:function(){i.point=n},lineEnd:r,polygonStart:function(){i.lineEnd=a},polygonEnd:function(){i.lineEnd=r,i.point=e},pointRadius:function(e){return A=Nn(e),i},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return i}function Nn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Kn(e,n){wo+=e,yo+=n,++Co}function Wn(){function e(e,r){var a=e-n,A=r-t,o=Math.sqrt(a*a+A*A);Uo+=o*(n+e)/2,Lo+=o*(t+r)/2,xo+=o,Kn(n=e,t=r)}var n,t;Wo.point=function(r,a){Wo.point=e,Kn(n=r,t=a)}}function zn(){Wo.point=Kn}function Vn(){function e(e,n){var t=e-r,A=n-a,o=Math.sqrt(t*t+A*A);Uo+=o*(r+e)/2,Lo+=o*(a+n)/2,xo+=o,Qo+=(o=a*e-r*n)*(r+e),To+=o*(a+n),Fo+=3*o,Kn(r=e,a=n)}var n,t,r,a;Wo.point=function(A,o){Wo.point=e,Kn(n=r=A,t=a=o)},Wo.lineEnd=function(){e(n,t)}}function jn(e){function n(n,t){e.moveTo(n+o,t),e.arc(n,t,o,0,MA)}function t(n,t){e.moveTo(n,t),i.point=r}function r(n,t){e.lineTo(n,t)}function a(){i.point=n}function A(){e.closePath()}var o=4.5,i={point:n,lineStart:function(){i.point=t},lineEnd:a,polygonStart:function(){i.lineEnd=A},polygonEnd:function(){i.lineEnd=a,i.point=n},pointRadius:function(e){return o=e,i},result:C};return i}function Gn(e){function n(e){return(i?r:t)(e)}function t(n){return Xn(n,function(t,r){t=e(t,r),n.point(t[0],t[1])})}function r(n){function t(t,r){t=e(t,r),n.point(t[0],t[1])}function r(){B=NaN,w.point=A,n.lineStart()}function A(t,r){var A=_n([t,r]),o=e(t,r);a(B,m,g,E,b,v,B=o[0],m=o[1],g=t,E=A[0],b=A[1],v=A[2],i,n),n.point(B,m)}function o(){w.point=t,n.lineEnd()}function s(){r(),w.point=c,w.lineEnd=l}function c(e,n){A(u=e,n),d=B,_=m,p=E,f=b,h=v,w.point=A}function l(){a(B,m,g,E,b,v,d,_,u,p,f,h,i,n),w.lineEnd=o,o()}var u,d,_,p,f,h,g,B,m,E,b,v,w={point:t,lineStart:r,lineEnd:o,polygonStart:function(){n.polygonStart(),w.lineStart=s},polygonEnd:function(){n.polygonEnd(),w.lineStart=r}};return w}function a(n,t,r,i,s,c,l,u,d,_,p,f,h,g){var B=l-n,m=u-t,E=B*B+m*m;if(E>4*A&&h--){var b=i+_,v=s+p,w=c+f,y=Math.sqrt(b*b+v*v+w*w),C=Math.asin(w/=y),U=fA(fA(w)-1)<PA||fA(r-d)<PA?(r+d)/2:Math.atan2(v,b),L=e(U,C),x=L[0],Q=L[1],T=x-n,F=Q-t,P=m*T-B*F;(P*P/E>A||fA((B*T+m*F)/E-.5)>.3||o>i*_+s*p+c*f)&&(a(n,t,r,i,s,c,x,Q,U,b/=y,v/=y,w,h,g),g.point(x,Q),a(x,Q,U,b,v,w,l,u,d,_,p,f,h,g))}}var A=.5,o=Math.cos(30*SA),i=16;return n.precision=function(e){return arguments.length?(i=(A=e*e)>0&&16,n):Math.sqrt(A)},n}function Yn(e){this.stream=e}function Xn(e,n){return{point:n,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function qn(e){return Jn(function(){return e})()}function Jn(e){function n(e){return[(e=i(e[0]*SA,e[1]*SA))[0]*d+s,c-e[1]*d]}function t(e){return(e=i.invert((e[0]-s)/d,(c-e[1])/d))&&[e[0]*RA,e[1]*RA]}function r(){i=Un(o=nt(g,B,m),A);var e=A(f,h);return s=_-e[0]*d,c=p+e[1]*d,a()}function a(){return l&&(l.valid=!1,l=null),n}var A,o,i,s,c,l,u=Gn(function(e,n){return[(e=A(e,n))[0]*d+s,c-e[1]*d]}),d=150,_=480,p=250,f=0,h=0,g=0,B=0,m=0,E=Oo,b=v,w=null,y=null;return n.stream=function(e){return l&&(l.valid=!1),(l=$n(E(o,u(b(e))))).valid=!0,l},n.clipAngle=function(e){return arguments.length?(E=null==e?(w=e,Oo):function(e){function n(e,n){return Math.cos(e)*Math.cos(n)>a}function t(e,n,t){var r=[1,0,0],A=fn(_n(e),_n(n)),o=pn(A,A),i=A[0],s=o-i*i;if(!s)return!t&&e;var c=a*o/s,l=-a*i/s,u=fn(r,A),d=gn(r,c);hn(d,gn(A,l));var _=u,p=pn(d,_),f=pn(_,_),h=p*p-f*(pn(d,d)-1);if(!(0>h)){var g=Math.sqrt(h),B=gn(_,(-p-g)/f);if(hn(B,d),B=mn(B),!t)return B;var m,E=e[0],b=n[0],v=e[1],w=n[1];E>b&&(m=E,E=b,b=m);var y=b-E,C=fA(y-IA)<PA;if(!C&&v>w&&(m=v,v=w,w=m),C||PA>y?C?v+w>0^B[1]<(fA(B[0]-E)<PA?v:w):v<=B[1]&&B[1]<=w:y>IA^(E<=B[0]&&B[0]<=b)){var U=gn(_,(-p+g)/f);return hn(U,d),[B,mn(U)]}}}function r(n,t){var r=A?e:IA-e,a=0;return-r>n?a|=1:n>r&&(a|=2),-r>t?a|=4:t>r&&(a|=8),a}var a=Math.cos(e),A=a>0,o=fA(a)>PA;return Fn(n,function(e){var a,i,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(u,d){var _,p=[u,d],f=n(u,d),h=A?f?0:r(u,d):f?r(u+(0>u?IA:-IA),d):0;if(!a&&(c=s=f)&&e.lineStart(),f!==s&&(_=t(a,p),(En(a,_)||En(p,_))&&(p[0]+=PA,p[1]+=PA,f=n(p[0],p[1]))),f!==s)l=0,f?(e.lineStart(),_=t(p,a),e.point(_[0],_[1])):(_=t(a,p),e.point(_[0],_[1]),e.lineEnd()),a=_;else if(o&&a&&A^f){var g;h&i||!(g=t(p,a,!0))||(l=0,A?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!f||a&&En(a,p)||e.point(p[0],p[1]),a=p,s=f,i=h},lineEnd:function(){s&&e.lineEnd(),a=null},clean:function(){return l|(c&&s)<<1}}},At(e,6*SA),A?[0,-e]:[-IA,e-IA])}((w=+e)*SA),a()):w},n.clipExtent=function(e){return arguments.length?(y=e,b=e?Dn(e[0][0],e[0][1],e[1][0],e[1][1]):v,a()):y},n.scale=function(e){return arguments.length?(d=+e,r()):d},n.translate=function(e){return arguments.length?(_=+e[0],p=+e[1],r()):[_,p]},n.center=function(e){return arguments.length?(f=e[0]%360*SA,h=e[1]%360*SA,r()):[f*RA,h*RA]},n.rotate=function(e){return arguments.length?(g=e[0]%360*SA,B=e[1]%360*SA,m=e.length>2?e[2]%360*SA:0,r()):[g*RA,B*RA,m*RA]},AA.rebind(n,u,"precision"),function(){return A=e.apply(this,arguments),n.invert=A.invert&&t,r()}}function $n(e){return Xn(e,function(n,t){e.point(n*SA,t*SA)})}function Zn(e,n){return[e,n]}function et(e,n){return[e>IA?e-MA:-IA>e?e+MA:e,n]}function nt(e,n,t){return e?n||t?Un(rt(e),at(n,t)):rt(e):n||t?at(n,t):et}function tt(e){return function(n,t){return[(n+=e)>IA?n-MA:-IA>n?n+MA:n,t]}}function rt(e){var n=tt(e);return n.invert=tt(-e),n}function at(e,n){function t(e,n){var t=Math.cos(n),i=Math.cos(e)*t,s=Math.sin(e)*t,c=Math.sin(n),l=c*r+i*a;return[Math.atan2(s*A-l*o,i*r-c*a),ae(l*A+s*o)]}var r=Math.cos(e),a=Math.sin(e),A=Math.cos(n),o=Math.sin(n);return t.invert=function(e,n){var t=Math.cos(n),i=Math.cos(e)*t,s=Math.sin(e)*t,c=Math.sin(n),l=c*A-s*o;return[Math.atan2(s*A+c*o,i*r+l*a),ae(l*r-i*a)]},t}function At(e,n){var t=Math.cos(e),r=Math.sin(e);return function(a,A,o,i){var s=o*n;null!=a?(a=ot(t,a),A=ot(t,A),(o>0?A>a:a>A)&&(a+=o*MA)):(a=e+o*MA,A=e-.5*s);for(var c,l=a;o>0?l>A:A>l;l-=s)i.point((c=mn([t,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function ot(e,n){var t=_n(n);t[0]-=e,Bn(t);var r=re(-t[1]);return((-t[2]<0?-r:r)+2*Math.PI-PA)%(2*Math.PI)}function it(e,n,t){var r=AA.range(e,n-PA,t).concat(n);return function(e){return r.map(function(n){return[e,n]})}}function st(e,n,t){var r=AA.range(e,n-PA,t).concat(n);return function(e){return r.map(function(n){return[n,e]})}}function ct(e){return e.source}function lt(e){return e.target}function ut(e,n){function t(n,t){var r=Math.cos(n),a=Math.cos(t),A=e(r*a);return[A*a*Math.sin(n),A*Math.sin(t)]}return t.invert=function(e,t){var r=Math.sqrt(e*e+t*t),a=n(r),A=Math.sin(a),o=Math.cos(a);return[Math.atan2(e*A,r*o),Math.asin(r&&t*A/r)]},t}function dt(e,n){function t(e,n){o>0?-kA+PA>n&&(n=-kA+PA):n>kA-PA&&(n=kA-PA);var t=o/Math.pow(a(n),A);return[t*Math.sin(A*e),o-t*Math.cos(A*e)]}var r=Math.cos(e),a=function(e){return Math.tan(IA/4+e/2)},A=e===n?Math.sin(e):Math.log(r/Math.cos(n))/Math.log(a(n)/a(e)),o=r*Math.pow(a(e),A)/A;return A?(t.invert=function(e,n){var t=o-n,r=ne(A)*Math.sqrt(e*e+t*t);return[Math.atan2(e,t)/A,2*Math.atan(Math.pow(o/r,1/A))-kA]},t):pt}function _t(e,n){function t(e,n){var t=A-n;return[t*Math.sin(a*e),A-t*Math.cos(a*e)]}var r=Math.cos(e),a=e===n?Math.sin(e):(r-Math.cos(n))/(n-e),A=r/a+e;return fA(a)<PA?Zn:(t.invert=function(e,n){var t=A-n;return[Math.atan2(e,t)/a,A-ne(a)*Math.sqrt(e*e+t*t)]},t)}function pt(e,n){return[e,Math.log(Math.tan(IA/4+n/2))]}function ft(e){var n,t=qn(e),r=t.scale,a=t.translate,A=t.clipExtent;return t.scale=function(){var e=r.apply(t,arguments);return e===t?n?t.clipExtent(null):t:e},t.translate=function(){var e=a.apply(t,arguments);return e===t?n?t.clipExtent(null):t:e},t.clipExtent=function(e){var o=A.apply(t,arguments);if(o===t){if(n=null==e){var i=IA*r(),s=a();A([[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]])}}else n&&(o=null);return o},t.clipExtent(null)}function ht(e,n){return[Math.log(Math.tan(IA/4+n/2)),-e]}function gt(e){return e[0]}function Bt(e){return e[1]}function mt(e){for(var n=e.length,t=[0,1],r=2,a=2;n>a;a++){for(;r>1&&te(e[t[r-2]],e[t[r-1]],e[a])<=0;)--r;t[r++]=a}return t.slice(0,r)}function Et(e,n){return e[0]-n[0]||e[1]-n[1]}function bt(e,n,t){return(t[0]-n[0])*(e[1]-n[1])<(t[1]-n[1])*(e[0]-n[0])}function vt(e,n,t,r){var a=e[0],A=t[0],o=n[0]-a,i=r[0]-A,s=e[1],c=t[1],l=n[1]-s,u=r[1]-c,d=(i*(s-c)-u*(a-A))/(u*o-i*l);return[a+d*o,s+d*l]}function wt(e){var n=e[0],t=e[e.length-1];return!(n[0]-t[0]||n[1]-t[1])}function yt(){Wt(this),this.edge=this.site=this.circle=null}function Ct(e){var n=ri.pop()||new yt;return n.site=e,n}function Ut(e){Mt(e),ei.remove(e),ri.push(e),Wt(e)}function Lt(e){var n=e.circle,t=n.x,r=n.cy,a={x:t,y:r},A=e.P,o=e.N,i=[e];Ut(e);for(var s=A;s.circle&&fA(t-s.circle.x)<PA&&fA(r-s.circle.cy)<PA;)A=s.P,i.unshift(s),Ut(s),s=A;i.unshift(s),Mt(s);for(var c=o;c.circle&&fA(t-c.circle.x)<PA&&fA(r-c.circle.cy)<PA;)o=c.N,i.push(c),Ut(c),c=o;i.push(c),Mt(c);var l,u=i.length;for(l=1;u>l;++l)c=i[l],s=i[l-1],Ht(c.edge,s.site,c.site,a);s=i[0],(c=i[u-1]).edge=St(s.site,c.site,null,a),It(s),It(c)}function xt(e){for(var n,t,r,a,A=e.x,o=e.y,i=ei._;i;)if((r=Qt(i,o)-A)>PA)i=i.L;else{if(!((a=A-Tt(i,o))>PA)){r>-PA?(n=i.P,t=i):a>-PA?(n=i,t=i.N):n=t=i;break}if(!i.R){n=i;break}i=i.R}var s=Ct(e);if(ei.insert(n,s),n||t){if(n===t)return Mt(n),t=Ct(n.site),ei.insert(s,t),s.edge=t.edge=St(n.site,s.site),It(n),void It(t);if(!t)return void(s.edge=St(n.site,s.site));Mt(n),Mt(t);var c=n.site,l=c.x,u=c.y,d=e.x-l,_=e.y-u,p=t.site,f=p.x-l,h=p.y-u,g=2*(d*h-_*f),B=d*d+_*_,m=f*f+h*h,E={x:(h*B-_*m)/g+l,y:(d*m-f*B)/g+u};Ht(t.edge,c,p,E),s.edge=St(c,e,null,E),t.edge=St(e,p,null,E),It(n),It(t)}}function Qt(e,n){var t=e.site,r=t.x,a=t.y,A=a-n;if(!A)return r;var o=e.P;if(!o)return-1/0;var i=(t=o.site).x,s=t.y,c=s-n;if(!c)return i;var l=i-r,u=1/A-1/c,d=l/c;return u?(-d+Math.sqrt(d*d-2*u*(l*l/(-2*c)-s+c/2+a-A/2)))/u+r:(r+i)/2}function Tt(e,n){var t=e.N;if(t)return Qt(t,n);var r=e.site;return r.y===n?r.x:1/0}function Ft(e){this.site=e,this.edges=[]}function Pt(e,n){return n.angle-e.angle}function Ot(){Wt(this),this.x=this.y=this.arc=this.site=this.cy=null}function It(e){var n=e.P,t=e.N;if(n&&t){var r=n.site,a=e.site,A=t.site;if(r!==A){var o=a.x,i=a.y,s=r.x-o,c=r.y-i,l=A.x-o,u=2*(s*(h=A.y-i)-c*l);if(!(u>=-OA)){var d=s*s+c*c,_=l*l+h*h,p=(h*d-c*_)/u,f=(s*_-l*d)/u,h=f+i,g=ai.pop()||new Ot;g.arc=e,g.site=a,g.x=p+o,g.y=h+Math.sqrt(p*p+f*f),g.cy=h,e.circle=g;for(var B=null,m=ti._;m;)if(g.y<m.y||g.y===m.y&&g.x<=m.x){if(!m.L){B=m.P;break}m=m.L}else{if(!m.R){B=m;break}m=m.R}ti.insert(B,g),B||(ni=g)}}}}function Mt(e){var n=e.circle;n&&(n.P||(ni=n.N),ti.remove(n),ai.push(n),Wt(n),e.circle=null)}function Dt(e,n){var t=e.b;if(t)return!0;var r,a,A=e.a,o=n[0][0],i=n[1][0],s=n[0][1],c=n[1][1],l=e.l,u=e.r,d=l.x,_=l.y,p=u.x,f=u.y,h=(d+p)/2,g=(_+f)/2;if(f===_){if(o>h||h>=i)return;if(d>p){if(A){if(A.y>=c)return}else A={x:h,y:s};t={x:h,y:c}}else{if(A){if(A.y<s)return}else A={x:h,y:c};t={x:h,y:s}}}else if(a=g-(r=(d-p)/(f-_))*h,-1>r||r>1)if(d>p){if(A){if(A.y>=c)return}else A={x:(s-a)/r,y:s};t={x:(c-a)/r,y:c}}else{if(A){if(A.y<s)return}else A={x:(c-a)/r,y:c};t={x:(s-a)/r,y:s}}else if(f>_){if(A){if(A.x>=i)return}else A={x:o,y:r*o+a};t={x:i,y:r*i+a}}else{if(A){if(A.x<o)return}else A={x:i,y:r*i+a};t={x:o,y:r*o+a}}return e.a=A,e.b=t,!0}function kt(e,n){this.l=e,this.r=n,this.a=this.b=null}function St(e,n,t,r){var a=new kt(e,n);return $o.push(a),t&&Ht(a,e,n,t),r&&Ht(a,n,e,r),Zo[e.i].edges.push(new Nt(a,e,n)),Zo[n.i].edges.push(new Nt(a,n,e)),a}function Rt(e,n,t){var r=new kt(e,null);return r.a=n,r.b=t,$o.push(r),r}function Ht(e,n,t,r){e.a||e.b?e.l===t?e.b=r:e.a=r:(e.a=r,e.l=n,e.r=t)}function Nt(e,n,t){var r=e.a,a=e.b;this.edge=e,this.site=n,this.angle=t?Math.atan2(t.y-n.y,t.x-n.x):e.l===n?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function Kt(){this._=null}function Wt(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function zt(e,n){var t=n,r=n.R,a=t.U;a?a.L===t?a.L=r:a.R=r:e._=r,r.U=a,t.U=r,t.R=r.L,t.R&&(t.R.U=t),r.L=t}function Vt(e,n){var t=n,r=n.L,a=t.U;a?a.L===t?a.L=r:a.R=r:e._=r,r.U=a,t.U=r,t.L=r.R,t.L&&(t.L.U=t),r.R=t}function jt(e){for(;e.L;)e=e.L;return e}function Gt(e,n){var t,r,a,A=e.sort(Yt).pop();for($o=[],Zo=new Array(e.length),ei=new Kt,ti=new Kt;;)if(a=ni,A&&(!a||A.y<a.y||A.y===a.y&&A.x<a.x))A.x===t&&A.y===r||(Zo[A.i]=new Ft(A),xt(A),t=A.x,r=A.y),A=e.pop();else{if(!a)break;Lt(a.arc)}n&&(function(e){for(var n,t=$o,r=Mn(e[0][0],e[0][1],e[1][0],e[1][1]),a=t.length;a--;)(!Dt(n=t[a],e)||!r(n)||fA(n.a.x-n.b.x)<PA&&fA(n.a.y-n.b.y)<PA)&&(n.a=n.b=null,t.splice(a,1))}(n),function(e){for(var n,t,r,a,A,o,i,s,c,l,u=e[0][0],d=e[1][0],_=e[0][1],p=e[1][1],f=Zo,h=f.length;h--;)if((A=f[h])&&A.prepare())for(s=(i=A.edges).length,o=0;s>o;)r=(l=i[o].end()).x,a=l.y,n=(c=i[++o%s].start()).x,t=c.y,(fA(r-n)>PA||fA(a-t)>PA)&&(i.splice(o,0,new Nt(Rt(A.site,l,fA(r-u)<PA&&p-a>PA?{x:u,y:fA(n-u)<PA?t:p}:fA(a-p)<PA&&d-r>PA?{x:fA(t-p)<PA?n:d,y:p}:fA(r-d)<PA&&a-_>PA?{x:d,y:fA(n-d)<PA?t:_}:fA(a-_)<PA&&r-u>PA?{x:fA(t-_)<PA?n:u,y:_}:null),A.site,null)),++s)}(n));var o={cells:Zo,edges:$o};return ei=ti=$o=Zo=null,o}function Yt(e,n){return n.y-e.y||n.x-e.x}function Xt(e,n,t){return(e.x-t.x)*(n.y-e.y)-(e.x-n.x)*(t.y-e.y)}function qt(e){return e.x}function Jt(e){return e.y}function $t(e,n){e=AA.rgb(e),n=AA.rgb(n);var t=e.r,r=e.g,a=e.b,A=n.r-t,o=n.g-r,i=n.b-a;return function(e){return"#"+be(Math.round(t+A*e))+be(Math.round(r+o*e))+be(Math.round(a+i*e))}}function Zt(e,n){var t,r={},a={};for(t in e)t in n?r[t]=tr(e[t],n[t]):a[t]=e[t];for(t in n)t in e||(a[t]=n[t]);return function(e){for(t in r)a[t]=r[t](e);return a}}function er(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function nr(e,n){var t,r,a,A=oi.lastIndex=ii.lastIndex=0,o=-1,i=[],s=[];for(e+="",n+="";(t=oi.exec(e))&&(r=ii.exec(n));)(a=r.index)>A&&(a=n.slice(A,a),i[o]?i[o]+=a:i[++o]=a),(t=t[0])===(r=r[0])?i[o]?i[o]+=r:i[++o]=r:(i[++o]=null,s.push({i:o,x:er(t,r)})),A=ii.lastIndex;return A<n.length&&(a=n.slice(A),i[o]?i[o]+=a:i[++o]=a),i.length<2?s[0]?(n=s[0].x,function(e){return n(e)+""}):function(){return n}:(n=s.length,function(e){for(var t,r=0;n>r;++r)i[(t=s[r]).i]=t.x(e);return i.join("")})}function tr(e,n){for(var t,r=AA.interpolators.length;--r>=0&&!(t=AA.interpolators[r](e,n)););return t}function rr(e,n){var t,r=[],a=[],A=e.length,o=n.length,i=Math.min(e.length,n.length);for(t=0;i>t;++t)r.push(tr(e[t],n[t]));for(;A>t;++t)a[t]=e[t];for(;o>t;++t)a[t]=n[t];return function(e){for(t=0;i>t;++t)a[t]=r[t](e);return a}}function ar(e){return function(n){return 1-e(1-n)}}function Ar(e){return function(n){return.5*(.5>n?e(2*n):2-e(2-2*n))}}function or(e){return e*e}function ir(e){return e*e*e}function sr(e){if(0>=e)return 0;if(e>=1)return 1;var n=e*e,t=n*e;return 4*(.5>e?t:3*(e-n)+t-.75)}function cr(e){return 1-Math.cos(e*kA)}function lr(e){return Math.pow(2,10*(e-1))}function ur(e){return 1-Math.sqrt(1-e*e)}function dr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function _r(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function pr(e){var n=[e.a,e.b],t=[e.c,e.d],r=hr(n),a=fr(n,t),A=hr(function(e,n,t){return e[0]+=t*n[0],e[1]+=t*n[1],e}(t,n,-a))||0;n[0]*t[1]<t[0]*n[1]&&(n[0]*=-1,n[1]*=-1,r*=-1,a*=-1),this.rotate=(r?Math.atan2(n[1],n[0]):Math.atan2(-t[0],t[1]))*RA,this.translate=[e.e,e.f],this.scale=[r,A],this.skew=A?Math.atan2(a,A)*RA:0}function fr(e,n){return e[0]*n[0]+e[1]*n[1]}function hr(e){var n=Math.sqrt(fr(e,e));return n&&(e[0]/=n,e[1]/=n),n}function gr(e){return e.length?e.pop()+",":""}function Br(e,n){var t=[],r=[];return e=AA.transform(e),n=AA.transform(n),function(e,n,t,r){if(e[0]!==n[0]||e[1]!==n[1]){var a=t.push("translate(",null,",",null,")");r.push({i:a-4,x:er(e[0],n[0])},{i:a-2,x:er(e[1],n[1])})}else(n[0]||n[1])&&t.push("translate("+n+")")}(e.translate,n.translate,t,r),function(e,n,t,r){e!==n?(e-n>180?n+=360:n-e>180&&(e+=360),r.push({i:t.push(gr(t)+"rotate(",null,")")-2,x:er(e,n)})):n&&t.push(gr(t)+"rotate("+n+")")}(e.rotate,n.rotate,t,r),function(e,n,t,r){e!==n?r.push({i:t.push(gr(t)+"skewX(",null,")")-2,x:er(e,n)}):n&&t.push(gr(t)+"skewX("+n+")")}(e.skew,n.skew,t,r),function(e,n,t,r){if(e[0]!==n[0]||e[1]!==n[1]){var a=t.push(gr(t)+"scale(",null,",",null,")");r.push({i:a-4,x:er(e[0],n[0])},{i:a-2,x:er(e[1],n[1])})}else 1===n[0]&&1===n[1]||t.push(gr(t)+"scale("+n+")")}(e.scale,n.scale,t,r),e=n=null,function(e){for(var n,a=-1,A=r.length;++a<A;)t[(n=r[a]).i]=n.x(e);return t.join("")}}function mr(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function Er(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function br(e){for(var n=e.source,t=e.target,r=function(e,n){if(e===n)return e;for(var t=vr(e),r=vr(n),a=t.pop(),A=r.pop(),o=null;a===A;)o=a,a=t.pop(),A=r.pop();return o}(n,t),a=[n];n!==r;)n=n.parent,a.push(n);for(var A=a.length;t!==r;)a.splice(A,0,t),t=t.parent;return a}function vr(e){for(var n=[],t=e.parent;null!=t;)n.push(e),e=t,t=t.parent;return n.push(e),n}function wr(e){e.fixed|=2}function yr(e){e.fixed&=-7}function Cr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Ur(e){e.fixed&=-5}function Lr(e,n){return AA.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=Or,e}function xr(e,n){for(var t=[e];null!=(e=t.pop());)if(n(e),(a=e.children)&&(r=a.length))for(var r,a;--r>=0;)t.push(a[r])}function Qr(e,n){for(var t=[e],r=[];null!=(e=t.pop());)if(r.push(e),(A=e.children)&&(a=A.length))for(var a,A,o=-1;++o<a;)t.push(A[o]);for(;null!=(e=r.pop());)n(e)}function Tr(e){return e.children}function Fr(e){return e.value}function Pr(e,n){return n.value-e.value}function Or(e){return AA.merge(e.map(function(e){return(e.children||[]).map(function(n){return{source:e,target:n}})}))}function Ir(e){return e.x}function Mr(e){return e.y}function Dr(e,n,t){e.y0=n,e.y=t}function kr(e){return AA.range(e.length)}function Sr(e){for(var n=-1,t=e[0].length,r=[];++n<t;)r[n]=0;return r}function Rr(e){for(var n,t=1,r=0,a=e[0][1],A=e.length;A>t;++t)(n=e[t][1])>a&&(r=t,a=n);return r}function Hr(e){return e.reduce(Nr,0)}function Nr(e,n){return e+n[1]}function Kr(e,n){return Wr(e,Math.ceil(Math.log(n.length)/Math.LN2+1))}function Wr(e,n){for(var t=-1,r=+e[0],a=(e[1]-r)/n,A=[];++t<=n;)A[t]=a*t+r;return A}function zr(e){return[AA.min(e),AA.max(e)]}function Vr(e,n){return e.value-n.value}function jr(e,n){var t=e._pack_next;e._pack_next=n,n._pack_prev=e,n._pack_next=t,t._pack_prev=n}function Gr(e,n){e._pack_next=n,n._pack_prev=e}function Yr(e,n){var t=n.x-e.x,r=n.y-e.y,a=e.r+n.r;return.999*a*a>t*t+r*r}function Xr(e){function n(e){l=Math.min(e.x-e.r,l),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),_=Math.max(e.y+e.r,_)}if((t=e.children)&&(c=t.length)){var t,r,a,A,o,i,s,c,l=1/0,u=-1/0,d=1/0,_=-1/0;if(t.forEach(qr),(r=t[0]).x=-r.r,r.y=0,n(r),c>1&&((a=t[1]).x=a.r,a.y=0,n(a),c>2))for($r(r,a,A=t[2]),n(A),jr(r,A),r._pack_prev=A,jr(A,a),a=r._pack_next,o=3;c>o;o++){$r(r,a,A=t[o]);var p=0,f=1,h=1;for(i=a._pack_next;i!==a;i=i._pack_next,f++)if(Yr(i,A)){p=1;break}if(1==p)for(s=r._pack_prev;s!==i._pack_prev&&!Yr(s,A);s=s._pack_prev,h++);p?(h>f||f==h&&a.r<r.r?Gr(r,a=i):Gr(r=s,a),o--):(jr(r,A),a=A,n(A))}var g=(l+u)/2,B=(d+_)/2,m=0;for(o=0;c>o;o++)(A=t[o]).x-=g,A.y-=B,m=Math.max(m,A.r+Math.sqrt(A.x*A.x+A.y*A.y));e.r=m,t.forEach(Jr)}}function qr(e){e._pack_next=e._pack_prev=e}function Jr(e){delete e._pack_next,delete e._pack_prev}function $r(e,n,t){var r=e.r+t.r,a=n.x-e.x,A=n.y-e.y;if(r&&(a||A)){var o=n.r+t.r,i=a*a+A*A,s=.5+((r*=r)-(o*=o))/(2*i),c=Math.sqrt(Math.max(0,2*o*(r+i)-(r-=i)*r-o*o))/(2*i);t.x=e.x+s*a+c*A,t.y=e.y+s*A-c*a}else t.x=e.x+r,t.y=e.y}function Zr(e,n){return e.parent==n.parent?1:2}function ea(e){var n=e.children;return n.length?n[0]:e.t}function na(e){var n,t=e.children;return(n=t.length)?t[n-1]:e.t}function ta(e,n,t){var r=t/(n.i-e.i);n.c-=r,n.s+=t,e.c+=r,n.z+=t,n.m+=t}function ra(e,n,t){return e.a.parent===n.parent?e.a:t}function aa(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Aa(e,n){var t=e.x+n[3],r=e.y+n[0],a=e.dx-n[1]-n[3],A=e.dy-n[0]-n[2];return 0>a&&(t+=a/2,a=0),0>A&&(r+=A/2,A=0),{x:t,y:r,dx:a,dy:A}}function oa(e){var n=e[0],t=e[e.length-1];return t>n?[n,t]:[t,n]}function ia(e){return e.rangeExtent?e.rangeExtent():oa(e.range())}function sa(e,n,t,r){var a=t(e[0],e[1]),A=r(n[0],n[1]);return function(e){return A(a(e))}}function ca(e,n){var t,r=0,a=e.length-1,A=e[r],o=e[a];return A>o&&(t=r,r=a,a=t,t=A,A=o,o=t),e[r]=n.floor(A),e[a]=n.ceil(o),e}function la(e){return e?{floor:function(n){return Math.floor(n/e)*e},ceil:function(n){return Math.ceil(n/e)*e}}:Bi}function ua(e,n,t,r){var a=[],A=[],o=0,i=Math.min(e.length,n.length)-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<=i;)a.push(t(e[o-1],e[o])),A.push(r(n[o-1],n[o]));return function(n){var t=AA.bisect(e,n,1,i)-1;return A[t](a[t](n))}}function da(e,n){return AA.rebind(e,n,"range","rangeRound","interpolate","clamp")}function _a(e,n){return ca(e,la(pa(e,n)[2])),ca(e,la(pa(e,n)[2])),e}function pa(e,n){null==n&&(n=10);var t=oa(e),r=t[1]-t[0],a=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),A=n/r*a;return.15>=A?a*=10:.35>=A?a*=5:.75>=A&&(a*=2),t[0]=Math.ceil(t[0]/a)*a,t[1]=Math.floor(t[1]/a)*a+.5*a,t[2]=a,t}function fa(e,n){return AA.range.apply(AA,pa(e,n))}function ha(e,n,t){var r=pa(e,n);if(t){var a=Ao.exec(t);if(a.shift(),"s"===a[8]){var A=AA.formatPrefix(Math.max(fA(r[0]),fA(r[1])));return a[7]||(a[7]="."+ga(A.scale(r[2]))),a[8]="f",t=AA.format(a.join("")),function(e){return t(A.scale(e))+A.symbol}}a[7]||(a[7]="."+function(e,n){var t=ga(n[2]);return e in mi?Math.abs(t-ga(Math.max(fA(n[0]),fA(n[1]))))+ +("e"!==e):t-2*("%"===e)}(a[8],r)),t=a.join("")}else t=",."+ga(r[2])+"f";return AA.format(t)}function ga(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ba(e){return function(n){return 0>n?-Math.pow(-n,e):Math.pow(n,e)}}function ma(){return 0}function Ea(e){return e.innerRadius}function ba(e){return e.outerRadius}function va(e){return e.startAngle}function wa(e){return e.endAngle}function ya(e){return e&&e.padAngle}function Ca(e,n,t,r){return(e-t)*n-(n-r)*e>0?0:1}function Ua(e,n,t,r,a){var A=e[0]-n[0],o=e[1]-n[1],i=(a?r:-r)/Math.sqrt(A*A+o*o),s=i*o,c=-i*A,l=e[0]+s,u=e[1]+c,d=n[0]+s,_=n[1]+c,p=(l+d)/2,f=(u+_)/2,h=d-l,g=_-u,B=h*h+g*g,m=t-r,E=l*_-d*u,b=(0>g?-1:1)*Math.sqrt(Math.max(0,m*m*B-E*E)),v=(E*g-h*b)/B,w=(-E*h-g*b)/B,y=(E*g+h*b)/B,C=(-E*h+g*b)/B,U=v-p,L=w-f,x=y-p,Q=C-f;return U*U+L*L>x*x+Q*Q&&(v=y,w=C),[[v-s,w-c],[v*t/m,w*t/m]]}function La(e){function n(n){function o(){c.push("M",A(e(l),i))}for(var s,c=[],l=[],u=-1,d=n.length,_=Le(t),p=Le(r);++u<d;)a.call(this,s=n[u],u)?l.push([+_.call(this,s,u),+p.call(this,s,u)]):l.length&&(o(),l=[]);return l.length&&o(),c.length?c.join(""):null}var t=gt,r=Bt,a=Ln,A=xa,o=A.key,i=.7;return n.x=function(e){return arguments.length?(t=e,n):t},n.y=function(e){return arguments.length?(r=e,n):r},n.defined=function(e){return arguments.length?(a=e,n):a},n.interpolate=function(e){return arguments.length?(o="function"==typeof e?A=e:(A=Li.get(e)||xa).key,n):o},n.tension=function(e){return arguments.length?(i=e,n):i},n}function xa(e){return e.length>1?e.join("L"):e+"Z"}function Qa(e){return e.join("L")+"Z"}function Ta(e){for(var n=0,t=e.length,r=e[0],a=[r[0],",",r[1]];++n<t;)a.push("V",(r=e[n])[1],"H",r[0]);return a.join("")}function Fa(e){for(var n=0,t=e.length,r=e[0],a=[r[0],",",r[1]];++n<t;)a.push("H",(r=e[n])[0],"V",r[1]);return a.join("")}function Pa(e,n){if(n.length<1||e.length!=n.length&&e.length!=n.length+2)return xa(e);var t=e.length!=n.length,r="",a=e[0],A=e[1],o=n[0],i=o,s=1;if(t&&(r+="Q"+(A[0]-2*o[0]/3)+","+(A[1]-2*o[1]/3)+","+A[0]+","+A[1],a=e[1],s=2),n.length>1){i=n[1],A=e[s],s++,r+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(A[0]-i[0])+","+(A[1]-i[1])+","+A[0]+","+A[1];for(var c=2;c<n.length;c++,s++)A=e[s],i=n[c],r+="S"+(A[0]-i[0])+","+(A[1]-i[1])+","+A[0]+","+A[1]}if(t){var l=e[s];r+="Q"+(A[0]+2*i[0]/3)+","+(A[1]+2*i[1]/3)+","+l[0]+","+l[1]}return r}function Oa(e,n){for(var t,r=[],a=(1-n)/2,A=e[0],o=e[1],i=1,s=e.length;++i<s;)t=A,A=o,o=e[i],r.push([a*(o[0]-t[0]),a*(o[1]-t[1])]);return r}function Ia(e){if(e.length<3)return xa(e);var n=1,t=e.length,r=e[0],a=r[0],A=r[1],o=[a,a,a,(r=e[1])[0]],i=[A,A,A,r[1]],s=[a,",",A,"L",Ma(Ti,o),",",Ma(Ti,i)];for(e.push(e[t-1]);++n<=t;)r=e[n],o.shift(),o.push(r[0]),i.shift(),i.push(r[1]),Da(s,o,i);return e.pop(),s.push("L",r),s.join("")}function Ma(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3]}function Da(e,n,t){e.push("C",Ma(xi,n),",",Ma(xi,t),",",Ma(Qi,n),",",Ma(Qi,t),",",Ma(Ti,n),",",Ma(Ti,t))}function ka(e,n){return(n[1]-e[1])/(n[0]-e[0])}function Sa(e){for(var n,t,r,a,A=[],o=function(e){for(var n=0,t=e.length-1,r=[],a=e[0],A=e[1],o=r[0]=ka(a,A);++n<t;)r[n]=(o+(o=ka(a=A,A=e[n+1])))/2;return r[n]=o,r}(e),i=-1,s=e.length-1;++i<s;)n=ka(e[i],e[i+1]),fA(n)<PA?o[i]=o[i+1]=0:(a=(t=o[i]/n)*t+(r=o[i+1]/n)*r)>9&&(a=3*n/Math.sqrt(a),o[i]=a*t,o[i+1]=a*r);for(i=-1;++i<=s;)a=(e[Math.min(s,i+1)][0]-e[Math.max(0,i-1)][0])/(6*(1+o[i]*o[i])),A.push([a||0,o[i]*a||0]);return A}function Ra(e){for(var n,t,r,a=-1,A=e.length;++a<A;)t=(n=e[a])[0],r=n[1]-kA,n[0]=t*Math.cos(r),n[1]=t*Math.sin(r);return e}function Ha(e){function n(n){function s(){f.push("M",i(e(g),u),l,c(e(h.reverse()),u),"Z")}for(var d,_,p,f=[],h=[],g=[],B=-1,m=n.length,E=Le(t),b=Le(a),v=t===r?function(){return _}:Le(r),w=a===A?function(){return p}:Le(A);++B<m;)o.call(this,d=n[B],B)?(h.push([_=+E.call(this,d,B),p=+b.call(this,d,B)]),g.push([+v.call(this,d,B),+w.call(this,d,B)])):h.length&&(s(),h=[],g=[]);return h.length&&s(),f.length?f.join(""):null}var t=gt,r=gt,a=0,A=Bt,o=Ln,i=xa,s=i.key,c=i,l="L",u=.7;return n.x=function(e){return arguments.length?(t=r=e,n):r},n.x0=function(e){return arguments.length?(t=e,n):t},n.x1=function(e){return arguments.length?(r=e,n):r},n.y=function(e){return arguments.length?(a=A=e,n):A},n.y0=function(e){return arguments.length?(a=e,n):a},n.y1=function(e){return arguments.length?(A=e,n):A},n.defined=function(e){return arguments.length?(o=e,n):o},n.interpolate=function(e){return arguments.length?(s="function"==typeof e?i=e:(i=Li.get(e)||xa).key,c=i.reverse||i,l=i.closed?"M":"L",n):s},n.tension=function(e){return arguments.length?(u=e,n):u},n}function Na(e){return e.radius}function Ka(e){return[e.x,e.y]}function Wa(){return 64}function za(){return"circle"}function Va(e){var n=Math.sqrt(e/IA);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function ja(e){return function(){var n,t,r;(n=this[e])&&(r=n[t=n.active])&&(r.timer.c=null,r.timer.t=NaN,--n.count?delete n[t]:delete this[e],n.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ga(e,n,t){return EA(e,ki),e.namespace=n,e.id=t,e}function Ya(e,n,t,r){var a=e.id,A=e.namespace;return G(e,"function"==typeof t?function(e,o,i){e[A][a].tween.set(n,r(t.call(e,e.__data__,o,i)))}:(t=r(t),function(e){e[A][a].tween.set(n,t)}))}function Xa(e){return null==e&&(e=""),function(){this.textContent=e}}function qa(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ja(e,n,t,r,a){function A(t){var a=d.active,A=d[a];for(var _ in A&&(A.timer.c=null,A.timer.t=NaN,--d.count,delete d[a],A.event&&A.event.interrupt.call(e,e.__data__,A.index)),d)if(r>+_){var f=d[_];f.timer.c=null,f.timer.t=NaN,--d.count,delete d[_]}s.c=o,Te(function(){return s.c&&o(t||1)&&(s.c=null,s.t=NaN),1},0,i),d.active=r,p.event&&p.event.start.call(e,e.__data__,n),u=[],p.tween.forEach(function(t,r){(r=r.call(e,e.__data__,n))&&u.push(r)}),l=p.ease,c=p.duration}function o(a){for(var A=a/c,o=l(A),i=u.length;i>0;)u[--i].call(e,o);return A>=1?(p.event&&p.event.end.call(e,e.__data__,n),--d.count?delete d[r]:delete e[t],1):void 0}var i,s,c,l,u,d=e[t]||(e[t]={active:0,count:0}),p=d[r];p||(i=a.time,s=Te(function(e){var n=p.delay;return s.t=n+i,e>=n?A(e-n):void(s.c=A)},0,i),p=d[r]={tween:new _,time:i,timer:s,delay:a.delay,duration:a.duration,ease:a.ease,index:n},a=null,++d.count)}function $a(e,n,t){e.attr("transform",function(e){var r=n(e);return"translate("+(isFinite(r)?r:t(e))+",0)"})}function Za(e,n,t){e.attr("transform",function(e){var r=n(e);return"translate(0,"+(isFinite(r)?r:t(e))+")"})}function eA(e){return e.toISOString()}function nA(e,n,t){function r(n){return e(n)}function a(e,t){var r=(e[1]-e[0])/t,a=AA.bisect(ji,r);return a==ji.length?[n.year,pa(e.map(function(e){return e/31536e6}),t)[2]]:a?n[r/ji[a-1]<ji[a]/r?a-1:a]:[Xi,pa(e,t)[2]]}return r.invert=function(n){return tA(e.invert(n))},r.domain=function(n){return arguments.length?(e.domain(n),r):e.domain().map(tA)},r.nice=function(e,n){function t(t){return!isNaN(t)&&!e.range(t,tA(+t+1),n).length}var A=r.domain(),o=oa(A),i=null==e?a(o,10):"number"==typeof e&&a(o,e);return i&&(e=i[0],n=i[1]),r.domain(ca(A,n>1?{floor:function(n){for(;t(n=e.floor(n));)n=tA(n-1);return n},ceil:function(n){for(;t(n=e.ceil(n));)n=tA(+n+1);return n}}:e))},r.ticks=function(e,n){var t=oa(r.domain()),A=null==e?a(t,10):"number"==typeof e?a(t,e):!e.range&&[{range:e},n];return A&&(e=A[0],n=A[1]),e.range(t[0],tA(+t[1]+1),1>n?1:n)},r.tickFormat=function(){return t},r.copy=function(){return nA(e.copy(),n,t)},da(r,e)}function tA(e){return new Date(e)}function rA(e){return JSON.parse(e.responseText)}function aA(e){var n=sA.createRange();return n.selectNode(sA.body),n.createContextualFragment(e.responseText)}var AA={version:"3.5.17"},oA=[].slice,iA=function(e){return oA.call(e)},sA=this.document;if(sA)try{iA(sA.documentElement.childNodes)[0].nodeType}catch(e){iA=function(e){for(var n=e.length,t=new Array(n);n--;)t[n]=e[n];return t}}if(Date.now||(Date.now=function(){return+new Date}),sA)try{sA.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var cA=this.Element.prototype,lA=cA.setAttribute,uA=cA.setAttributeNS,dA=this.CSSStyleDeclaration.prototype,_A=dA.setProperty;cA.setAttribute=function(e,n){lA.call(this,e,n+"")},cA.setAttributeNS=function(e,n,t){uA.call(this,e,n,t+"")},dA.setProperty=function(e,n,t){_A.call(this,e,n+"",t)}}AA.ascending=i,AA.descending=function(e,n){return e>n?-1:n>e?1:n>=e?0:NaN},AA.min=function(e,n){var t,r,a=-1,A=e.length;if(1===arguments.length){for(;++a<A;)if(null!=(r=e[a])&&r>=r){t=r;break}for(;++a<A;)null!=(r=e[a])&&t>r&&(t=r)}else{for(;++a<A;)if(null!=(r=n.call(e,e[a],a))&&r>=r){t=r;break}for(;++a<A;)null!=(r=n.call(e,e[a],a))&&t>r&&(t=r)}return t},AA.max=function(e,n){var t,r,a=-1,A=e.length;if(1===arguments.length){for(;++a<A;)if(null!=(r=e[a])&&r>=r){t=r;break}for(;++a<A;)null!=(r=e[a])&&r>t&&(t=r)}else{for(;++a<A;)if(null!=(r=n.call(e,e[a],a))&&r>=r){t=r;break}for(;++a<A;)null!=(r=n.call(e,e[a],a))&&r>t&&(t=r)}return t},AA.extent=function(e,n){var t,r,a,A=-1,o=e.length;if(1===arguments.length){for(;++A<o;)if(null!=(r=e[A])&&r>=r){t=a=r;break}for(;++A<o;)null!=(r=e[A])&&(t>r&&(t=r),r>a&&(a=r))}else{for(;++A<o;)if(null!=(r=n.call(e,e[A],A))&&r>=r){t=a=r;break}for(;++A<o;)null!=(r=n.call(e,e[A],A))&&(t>r&&(t=r),r>a&&(a=r))}return[t,a]},AA.sum=function(e,n){var t,r=0,a=e.length,A=-1;if(1===arguments.length)for(;++A<a;)c(t=+e[A])&&(r+=t);else for(;++A<a;)c(t=+n.call(e,e[A],A))&&(r+=t);return r},AA.mean=function(e,n){var t,r=0,a=e.length,A=-1,o=a;if(1===arguments.length)for(;++A<a;)c(t=s(e[A]))?r+=t:--o;else for(;++A<a;)c(t=s(n.call(e,e[A],A)))?r+=t:--o;return o?r/o:void 0},AA.quantile=function(e,n){var t=(e.length-1)*n+1,r=Math.floor(t),a=+e[r-1],A=t-r;return A?a+A*(e[r]-a):a},AA.median=function(e,n){var t,r=[],a=e.length,A=-1;if(1===arguments.length)for(;++A<a;)c(t=s(e[A]))&&r.push(t);else for(;++A<a;)c(t=s(n.call(e,e[A],A)))&&r.push(t);return r.length?AA.quantile(r.sort(i),.5):void 0},AA.variance=function(e,n){var t,r,a=e.length,A=0,o=0,i=-1,l=0;if(1===arguments.length)for(;++i<a;)c(t=s(e[i]))&&(o+=(r=t-A)*(t-(A+=r/++l)));else for(;++i<a;)c(t=s(n.call(e,e[i],i)))&&(o+=(r=t-A)*(t-(A+=r/++l)));return l>1?o/(l-1):void 0},AA.deviation=function(){var e=AA.variance.apply(this,arguments);return e?Math.sqrt(e):e};var pA=l(i);AA.bisectLeft=pA.left,AA.bisect=AA.bisectRight=pA.right,AA.bisector=function(e){return l(1===e.length?function(n,t){return i(e(n),t)}:e)},AA.shuffle=function(e,n,t){(A=arguments.length)<3&&(t=e.length,2>A&&(n=0));for(var r,a,A=t-n;A;)a=Math.random()*A--|0,r=e[A+n],e[A+n]=e[a+n],e[a+n]=r;return e},AA.permute=function(e,n){for(var t=n.length,r=new Array(t);t--;)r[t]=e[n[t]];return r},AA.pairs=function(e){for(var n=0,t=e.length-1,r=e[0],a=new Array(0>t?0:t);t>n;)a[n]=[r,r=e[++n]];return a},AA.transpose=function(e){if(!(a=e.length))return[];for(var n=-1,t=AA.min(e,u),r=new Array(t);++n<t;)for(var a,A=-1,o=r[n]=new Array(a);++A<a;)o[A]=e[A][n];return r},AA.zip=function(){return AA.transpose(arguments)},AA.keys=function(e){var n=[];for(var t in e)n.push(t);return n},AA.values=function(e){var n=[];for(var t in e)n.push(e[t]);return n},AA.entries=function(e){var n=[];for(var t in e)n.push({key:t,value:e[t]});return n},AA.merge=function(e){for(var n,t,r,a=e.length,A=-1,o=0;++A<a;)o+=e[A].length;for(t=new Array(o);--a>=0;)for(n=(r=e[a]).length;--n>=0;)t[--o]=r[n];return t};var fA=Math.abs;AA.range=function(e,n,t){if(arguments.length<3&&(t=1,arguments.length<2&&(n=e,e=0)),(n-e)/t==1/0)throw new Error("infinite range");var r,a=[],A=function(e){for(var n=1;e*n%1;)n*=10;return n}(fA(t)),o=-1;if(e*=A,n*=A,0>(t*=A))for(;(r=e+t*++o)>n;)a.push(r/A);else for(;(r=e+t*++o)<n;)a.push(r/A);return a},AA.map=function(e,n){var t=new _;if(e instanceof _)e.forEach(function(e,n){t.set(e,n)});else if(Array.isArray(e)){var r,a=-1,A=e.length;if(1===arguments.length)for(;++a<A;)t.set(a,e[a]);else for(;++a<A;)t.set(n.call(e,r=e[a],a),r)}else for(var o in e)t.set(o,e[o]);return t};var hA="__proto__",gA="\0";d(_,{has:h,get:function(e){return this._[p(e)]},set:function(e,n){return this._[p(e)]=n},remove:g,keys:B,values:function(){var e=[];for(var n in this._)e.push(this._[n]);return e},entries:function(){var e=[];for(var n in this._)e.push({key:f(n),value:this._[n]});return e},size:m,empty:E,forEach:function(e){for(var n in this._)e.call(this,f(n),this._[n])}}),AA.nest=function(){function e(A,o,i){if(i>=a.length)return t?t.call(r,o):n?o.sort(n):o;for(var s,c,l,u,d=-1,p=o.length,f=a[i++],h=new _;++d<p;)(u=h.get(s=f(c=o[d])))?u.push(c):h.set(s,[c]);return A?(c=A(),l=function(n,t){c.set(n,e(A,t,i))}):(c={},l=function(n,t){c[n]=e(A,t,i)}),h.forEach(l),c}var n,t,r={},a=[],A=[];return r.map=function(n,t){return e(t,n,0)},r.entries=function(n){return function e(n,t){if(t>=a.length)return n;var r=[],o=A[t++];return n.forEach(function(n,a){r.push({key:n,values:e(a,t)})}),o?r.sort(function(e,n){return o(e.key,n.key)}):r}(e(AA.map,n,0),0)},r.key=function(e){return a.push(e),r},r.sortKeys=function(e){return A[a.length-1]=e,r},r.sortValues=function(e){return n=e,r},r.rollup=function(e){return t=e,r},r},AA.set=function(e){var n=new b;if(e)for(var t=0,r=e.length;r>t;++t)n.add(e[t]);return n},d(b,{has:h,add:function(e){return this._[p(e+="")]=!0,e},remove:g,values:B,size:m,empty:E,forEach:function(e){for(var n in this._)e.call(this,f(n))}}),AA.behavior={},AA.rebind=function(e,n){for(var t,r=1,a=arguments.length;++r<a;)e[t=arguments[r]]=w(e,n,n[t]);return e};var BA=["webkit","ms","moz","Moz","o","O"];AA.dispatch=function(){for(var e=new U,n=-1,t=arguments.length;++n<t;)e[arguments[n]]=L(e);return e},U.prototype.on=function(e,n){var t=e.indexOf("."),r="";if(t>=0&&(r=e.slice(t+1),e=e.slice(0,t)),e)return arguments.length<2?this[e].on(r):this[e].on(r,n);if(2===arguments.length){if(null==n)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},AA.event=null,AA.requote=function(e){return e.replace(mA,"\\$&")};var mA=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,EA={}.__proto__?function(e,n){e.__proto__=n}:function(e,n){for(var t in n)e[t]=n[t]},bA=function(e,n){return n.querySelector(e)},vA=function(e,n){return n.querySelectorAll(e)},wA=function(e,n){var t=e.matches||e[y(e,"matchesSelector")];return(wA=function(e,n){return t.call(e,n)})(e,n)};"function"==typeof Sizzle&&(bA=function(e,n){return Sizzle(e,n)[0]||null},vA=Sizzle,wA=Sizzle.matchesSelector),AA.selection=function(){return AA.select(sA.documentElement)};var yA=AA.selection.prototype=[];yA.select=function(e){var n,t,r,a,A=[];e=P(e);for(var o=-1,i=this.length;++o<i;){A.push(n=[]),n.parentNode=(r=this[o]).parentNode;for(var s=-1,c=r.length;++s<c;)(a=r[s])?(n.push(t=e.call(a,a.__data__,s,o)),t&&"__data__"in a&&(t.__data__=a.__data__)):n.push(null)}return F(A)},yA.selectAll=function(e){var n,t,r=[];e=O(e);for(var a=-1,A=this.length;++a<A;)for(var o=this[a],i=-1,s=o.length;++i<s;)(t=o[i])&&(r.push(n=iA(e.call(t,t.__data__,i,a))),n.parentNode=t);return F(r)};var CA="http://www.w3.org/1999/xhtml",UA={svg:"http://www.w3.org/2000/svg",xhtml:CA,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};AA.ns={prefix:UA,qualify:function(e){var n=e.indexOf(":"),t=e;return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),UA.hasOwnProperty(t)?{space:UA[t],local:e}:e}},yA.attr=function(e,n){if(arguments.length<2){if("string"==typeof e){var t=this.node();return(e=AA.ns.qualify(e)).local?t.getAttributeNS(e.space,e.local):t.getAttribute(e)}for(n in e)this.each(I(n,e[n]));return this}return this.each(I(e,n))},yA.classed=function(e,n){if(arguments.length<2){if("string"==typeof e){var t=this.node(),r=(e=k(e)).length,a=-1;if(n=t.classList){for(;++a<r;)if(!n.contains(e[a]))return!1}else for(n=t.getAttribute("class");++a<r;)if(!D(e[a]).test(n))return!1;return!0}for(n in e)this.each(S(n,e[n]));return this}return this.each(S(e,n))},yA.style=function(e,n,t){var r=arguments.length;if(3>r){if("string"!=typeof e){for(t in 2>r&&(n=""),e)this.each(H(t,e[t],n));return this}if(2>r){var a=this.node();return o(a).getComputedStyle(a,null).getPropertyValue(e)}t=""}return this.each(H(e,n,t))},yA.property=function(e,n){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(n in e)this.each(N(n,e[n]));return this}return this.each(N(e,n))},yA.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var n=e.apply(this,arguments);this.textContent=null==n?"":n}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},yA.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var n=e.apply(this,arguments);this.innerHTML=null==n?"":n}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},yA.append=function(e){return e=K(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},yA.insert=function(e,n){return e=K(e),n=P(n),this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})},yA.remove=function(){return this.each(W)},yA.data=function(e,n){function t(e,t){var r,a,A,o=e.length,l=t.length,u=Math.min(o,l),d=new Array(l),p=new Array(l),f=new Array(o);if(n){var h,g=new _,B=new Array(o);for(r=-1;++r<o;)(a=e[r])&&(g.has(h=n.call(a,a.__data__,r))?f[r]=a:g.set(h,a),B[r]=h);for(r=-1;++r<l;)(a=g.get(h=n.call(t,A=t[r],r)))?!0!==a&&(d[r]=a,a.__data__=A):p[r]=z(A),g.set(h,!0);for(r=-1;++r<o;)r in B&&!0!==g.get(B[r])&&(f[r]=e[r])}else{for(r=-1;++r<u;)a=e[r],A=t[r],a?(a.__data__=A,d[r]=a):p[r]=z(A);for(;l>r;++r)p[r]=z(t[r]);for(;o>r;++r)f[r]=e[r]}p.update=d,p.parentNode=d.parentNode=f.parentNode=e.parentNode,i.push(p),s.push(d),c.push(f)}var r,a,A=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(r=this[0]).length);++A<o;)(a=r[A])&&(e[A]=a.__data__);return e}var i=Y([]),s=F([]),c=F([]);if("function"==typeof e)for(;++A<o;)t(r=this[A],e.call(r,r.parentNode.__data__,A));else for(;++A<o;)t(r=this[A],e);return s.enter=function(){return i},s.exit=function(){return c},s},yA.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},yA.filter=function(e){var n,t,r,a=[];"function"!=typeof e&&(e=V(e));for(var A=0,o=this.length;o>A;A++){a.push(n=[]),n.parentNode=(t=this[A]).parentNode;for(var i=0,s=t.length;s>i;i++)(r=t[i])&&e.call(r,r.__data__,i,A)&&n.push(r)}return F(a)},yA.order=function(){for(var e=-1,n=this.length;++e<n;)for(var t,r=this[e],a=r.length-1,A=r[a];--a>=0;)(t=r[a])&&(A&&A!==t.nextSibling&&A.parentNode.insertBefore(t,A),A=t);return this},yA.sort=function(e){e=j.apply(this,arguments);for(var n=-1,t=this.length;++n<t;)this[n].sort(e);return this.order()},yA.each=function(e){return G(this,function(n,t,r){e.call(n,n.__data__,t,r)})},yA.call=function(e){var n=iA(arguments);return e.apply(n[0]=this,n),this},yA.empty=function(){return!this.node()},yA.node=function(){for(var e=0,n=this.length;n>e;e++)for(var t=this[e],r=0,a=t.length;a>r;r++){var A=t[r];if(A)return A}return null},yA.size=function(){var e=0;return G(this,function(){++e}),e};var LA=[];AA.selection.enter=Y,AA.selection.enter.prototype=LA,LA.append=yA.append,LA.empty=yA.empty,LA.node=yA.node,LA.call=yA.call,LA.size=yA.size,LA.select=function(e){for(var n,t,r,a,A,o=[],i=-1,s=this.length;++i<s;){r=(a=this[i]).update,o.push(n=[]),n.parentNode=a.parentNode;for(var c=-1,l=a.length;++c<l;)(A=a[c])?(n.push(r[c]=t=e.call(a.parentNode,A.__data__,c,i)),t.__data__=A.__data__):n.push(null)}return F(o)},LA.insert=function(e,n){return arguments.length<2&&(n=function(e){var n,t;return function(r,a,A){var o,i=e[A].update,s=i.length;for(A!=t&&(t=A,n=0),a>=n&&(n=a+1);!(o=i[n])&&++n<s;);return o}}(this)),yA.insert.call(this,e,n)},AA.select=function(e){var n;return"string"==typeof e?(n=[bA(e,sA)]).parentNode=sA.documentElement:(n=[e]).parentNode=A(e),F([n])},AA.selectAll=function(e){var n;return"string"==typeof e?(n=iA(vA(e,sA))).parentNode=sA.documentElement:(n=iA(e)).parentNode=null,F([n])},yA.on=function(e,n,t){var r=arguments.length;if(3>r){if("string"!=typeof e){for(t in 2>r&&(n=!1),e)this.each(X(t,e[t],n));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;t=!1}return this.each(X(e,n,t))};var xA=AA.map({mouseenter:"mouseover",mouseleave:"mouseout"});sA&&xA.forEach(function(e){"on"+e in sA&&xA.remove(e)});var QA,TA=0;AA.mouse=function(e){return Z(e,Q())};var FA=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;AA.touch=function(e,n,t){if(arguments.length<3&&(t=n,n=Q().changedTouches),n)for(var r,a=0,A=n.length;A>a;++a)if((r=n[a]).identifier===t)return Z(e,r)},AA.behavior.drag=function(){function e(){this.on("mousedown.drag",a).on("touchstart.drag",A)}function n(e,n,a,A,o){return function(){var i,s=this,c=AA.event.target.correspondingElement||AA.event.target,l=s.parentNode,u=t.of(s,arguments),d=0,_=e(),p=".drag"+(null==_?"":"-"+_),f=AA.select(a(c)).on(A+p,function(){var e,t,r=n(l,_);r&&(e=r[0]-g[0],t=r[1]-g[1],d|=e|t,g=r,u({type:"drag",x:r[0]+i[0],y:r[1]+i[1],dx:e,dy:t}))}).on(o+p,function(){n(l,_)&&(f.on(A+p,null).on(o+p,null),h(d),u({type:"dragend"}))}),h=$(c),g=n(l,_);r?i=[(i=r.apply(s,arguments)).x-g[0],i.y-g[1]]:i=[0,0],u({type:"dragstart"})}}var t=T(e,"drag","dragstart","dragend"),r=null,a=n(C,AA.mouse,o,"mousemove","mouseup"),A=n(ee,AA.touch,v,"touchmove","touchend");return e.origin=function(n){return arguments.length?(r=n,e):r},AA.rebind(e,t,"on")},AA.touches=function(e,n){return arguments.length<2&&(n=Q().touches),n?iA(n).map(function(n){var t=Z(e,n);return t.identifier=n.identifier,t}):[]};var PA=1e-6,OA=PA*PA,IA=Math.PI,MA=2*IA,DA=MA-PA,kA=IA/2,SA=IA/180,RA=180/IA,HA=Math.SQRT2;AA.interpolateZoom=function(e,n){var t,r,a=e[0],A=e[1],o=e[2],i=n[0],s=n[1],c=n[2],l=i-a,u=s-A,d=l*l+u*u;if(OA>d)r=Math.log(c/o)/HA,t=function(e){return[a+e*l,A+e*u,o*Math.exp(HA*e*r)]};else{var _=Math.sqrt(d),p=(c*c-o*o+4*d)/(2*o*2*_),f=(c*c-o*o-4*d)/(2*c*2*_),h=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(f*f+1)-f);r=(g-h)/HA,t=function(e){var n=e*r,t=Ae(h),i=o/(2*_)*(t*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(HA*n+h)-function(e){return((e=Math.exp(e))-1/e)/2}(h));return[a+i*l,A+i*u,o*t/Ae(HA*n+h)]}}return t.duration=1e3*r,t},AA.behavior.zoom=function(){function e(e){e.on(Q,l).on(KA+".zoom",d).on("dblclick.zoom",_).on(O,u)}function n(e){return[(e[0]-w.x)/w.k,(e[1]-w.y)/w.k]}function t(e){w.k=Math.max(C[0],Math.min(C[1],e))}function r(e,n){n=function(e){return[e[0]*w.k+w.x,e[1]*w.k+w.y]}(n),w.x+=e[0]-n[0],w.y+=e[1]-n[1]}function a(n,a,A,o){n.__chart__={x:w.x,y:w.y,k:w.k},t(Math.pow(2,o)),r(f=a,A),n=AA.select(n),U>0&&(n=n.transition().duration(U)),n.call(e.event)}function A(){E&&E.domain(m.range().map(function(e){return(e-w.x)/w.k}).map(m.invert)),v&&v.domain(b.range().map(function(e){return(e-w.y)/w.k}).map(b.invert))}function i(e){L++||e({type:"zoomstart"})}function s(e){A(),e({type:"zoom",scale:w.k,translate:[w.x,w.y]})}function c(e){--L||(e({type:"zoomend"}),f=null)}function l(){var e=this,t=I.of(e,arguments),a=0,A=AA.select(o(e)).on(F,function(){a=1,r(AA.mouse(e),l),s(t)}).on(P,function(){A.on(F,null).on(P,null),u(a),c(t)}),l=n(AA.mouse(e)),u=$(e);Di.call(e),i(t)}function u(){function e(){var e=AA.touches(p);return _=w.k,e.forEach(function(e){e.identifier in h&&(h[e.identifier]=n(e))}),e}function A(){var n=AA.event.target;AA.select(n).on(E,o).on(b,d),v.push(n);for(var t=AA.event.changedTouches,r=0,A=t.length;A>r;++r)h[t[r].identifier]=null;var i=e(),s=Date.now();if(1===i.length){if(500>s-B){var c=i[0];a(p,c,h[c.identifier],Math.floor(Math.log(w.k)/Math.LN2)+1),x()}B=s}else if(i.length>1){c=i[0];var l=i[1],u=c[0]-l[0],_=c[1]-l[1];g=u*u+_*_}}function o(){var e,n,a,A,o=AA.touches(p);Di.call(p);for(var i=0,c=o.length;c>i;++i,A=null)if(a=o[i],A=h[a.identifier]){if(n)break;e=a,n=A}if(A){var l=(l=a[0]-e[0])*l+(l=a[1]-e[1])*l,u=g&&Math.sqrt(l/g);e=[(e[0]+a[0])/2,(e[1]+a[1])/2],n=[(n[0]+A[0])/2,(n[1]+A[1])/2],t(u*_)}B=null,r(e,n),s(f)}function d(){if(AA.event.touches.length){for(var n=AA.event.changedTouches,t=0,r=n.length;r>t;++t)delete h[n[t].identifier];for(var a in h)return void e()}AA.selectAll(v).on(m,null),y.on(Q,l).on(O,u),C(),c(f)}var _,p=this,f=I.of(p,arguments),h={},g=0,m=".zoom-"+AA.event.changedTouches[0].identifier,E="touchmove"+m,b="touchend"+m,v=[],y=AA.select(p),C=$(p);A(),i(f),y.on(Q,null).on(O,A)}function d(){var e=I.of(this,arguments);g?clearTimeout(g):(Di.call(this),p=n(f=h||AA.mouse(this)),i(e)),g=setTimeout(function(){g=null,c(e)},50),x(),t(Math.pow(2,.002*NA())*w.k),r(f,p),s(e)}function _(){var e=AA.mouse(this),t=Math.log(w.k)/Math.LN2;a(this,e,n(e),AA.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var p,f,h,g,B,m,E,b,v,w={x:0,y:0,k:1},y=[960,500],C=WA,U=250,L=0,Q="mousedown.zoom",F="mousemove.zoom",P="mouseup.zoom",O="touchstart.zoom",I=T(e,"zoomstart","zoom","zoomend");return KA||(KA="onwheel"in sA?(NA=function(){return-AA.event.deltaY*(AA.event.deltaMode?120:1)},"wheel"):"onmousewheel"in sA?(NA=function(){return AA.event.wheelDelta},"mousewheel"):(NA=function(){return-AA.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=I.of(this,arguments),n=w;Ii?AA.select(this).transition().each("start.zoom",function(){w=this.__chart__||{x:0,y:0,k:1},i(e)}).tween("zoom:zoom",function(){var t=y[0],r=y[1],a=f?f[0]:t/2,A=f?f[1]:r/2,o=AA.interpolateZoom([(a-w.x)/w.k,(A-w.y)/w.k,t/w.k],[(a-n.x)/n.k,(A-n.y)/n.k,t/n.k]);return function(n){var r=o(n),i=t/r[2];this.__chart__=w={x:a-r[0]*i,y:A-r[1]*i,k:i},s(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=w,i(e),s(e),c(e))})},e.translate=function(n){return arguments.length?(w={x:+n[0],y:+n[1],k:w.k},A(),e):[w.x,w.y]},e.scale=function(n){return arguments.length?(w={x:w.x,y:w.y,k:null},t(+n),A(),e):w.k},e.scaleExtent=function(n){return arguments.length?(C=null==n?WA:[+n[0],+n[1]],e):C},e.center=function(n){return arguments.length?(h=n&&[+n[0],+n[1]],e):h},e.size=function(n){return arguments.length?(y=n&&[+n[0],+n[1]],e):y},e.duration=function(n){return arguments.length?(U=+n,e):U},e.x=function(n){return arguments.length?(E=n,m=n.copy(),w={x:0,y:0,k:1},e):E},e.y=function(n){return arguments.length?(v=n,b=n.copy(),w={x:0,y:0,k:1},e):v},AA.rebind(e,I,"on")};var NA,KA,WA=[0,1/0];AA.color=ie,ie.prototype.toString=function(){return this.rgb()+""},AA.hsl=se;var zA=se.prototype=new ie;zA.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new se(this.h,this.s,this.l/e)},zA.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new se(this.h,this.s,e*this.l)},zA.rgb=function(){return ce(this.h,this.s,this.l)},AA.hcl=le;var VA=le.prototype=new ie;VA.brighter=function(e){return new le(this.h,this.c,Math.min(100,this.l+jA*(arguments.length?e:1)))},VA.darker=function(e){return new le(this.h,this.c,Math.max(0,this.l-jA*(arguments.length?e:1)))},VA.rgb=function(){return ue(this.h,this.c,this.l).rgb()},AA.lab=de;var jA=18,GA=.95047,YA=1,XA=1.08883,qA=de.prototype=new ie;qA.brighter=function(e){return new de(Math.min(100,this.l+jA*(arguments.length?e:1)),this.a,this.b)},qA.darker=function(e){return new de(Math.max(0,this.l-jA*(arguments.length?e:1)),this.a,this.b)},qA.rgb=function(){return _e(this.l,this.a,this.b)},AA.rgb=Be;var JA=Be.prototype=new ie;JA.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var n=this.r,t=this.g,r=this.b,a=30;return n||t||r?(n&&a>n&&(n=a),t&&a>t&&(t=a),r&&a>r&&(r=a),new Be(Math.min(255,n/e),Math.min(255,t/e),Math.min(255,r/e))):new Be(a,a,a)},JA.darker=function(e){return new Be((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},JA.hsl=function(){return we(this.r,this.g,this.b)},JA.toString=function(){return"#"+be(this.r)+be(this.g)+be(this.b)};var $A=AA.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$A.forEach(function(e,n){$A.set(e,me(n))}),AA.functor=Le,AA.xhr=xe(v),AA.dsv=function(e,n){function t(e,t,A){arguments.length<3&&(A=t,t=null);var o=Qe(e,n,null==t?r:a(t),A);return o.row=function(e){return arguments.length?o.response(null==(t=e)?r:a(e)):t},o}function r(e){return t.parse(e.responseText)}function a(e){return function(n){return t.parse(n.responseText,e)}}function A(n){return n.map(o).join(e)}function o(e){return i.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var i=new RegExp('["'+e+"\n]"),s=e.charCodeAt(0);return t.parse=function(e,n){var r;return t.parseRows(e,function(e,t){if(r)return r(e,t-1);var a=new Function("d","return {"+e.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}");r=n?function(e,t){return n(a(e),t)}:a})},t.parseRows=function(e,n){function t(){if(l>=c)return o;if(a)return a=!1,A;var n=l;if(34===e.charCodeAt(n)){for(var t=n;t++<c;)if(34===e.charCodeAt(t)){if(34!==e.charCodeAt(t+1))break;++t}return l=t+2,13===(r=e.charCodeAt(t+1))?(a=!0,10===e.charCodeAt(t+2)&&++l):10===r&&(a=!0),e.slice(n+1,t).replace(/""/g,'"')}for(;c>l;){var r,i=1;if(10===(r=e.charCodeAt(l++)))a=!0;else if(13===r)a=!0,10===e.charCodeAt(l)&&(++l,++i);else if(r!==s)continue;return e.slice(n,l-i)}return e.slice(n)}for(var r,a,A={},o={},i=[],c=e.length,l=0,u=0;(r=t())!==o;){for(var d=[];r!==A&&r!==o;)d.push(r),r=t();n&&null==(d=n(d,u++))||i.push(d)}return i},t.format=function(n){if(Array.isArray(n[0]))return t.formatRows(n);var r=new b,a=[];return n.forEach(function(e){for(var n in e)r.has(n)||a.push(r.add(n))}),[a.map(o).join(e)].concat(n.map(function(n){return a.map(function(e){return o(n[e])}).join(e)})).join("\n")},t.formatRows=function(e){return e.map(A).join("\n")},t},AA.csv=AA.dsv(",","text/csv"),AA.tsv=AA.dsv("\t","text/tab-separated-values");var ZA,eo,no,to,ro=this[y(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};AA.timer=function(){Te.apply(this,arguments)},AA.timer.flush=function(){Pe(),Oe()},AA.round=function(e,n){return n?Math.round(e*(n=Math.pow(10,n)))/n:Math.round(e)};var ao=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,n){var t=Math.pow(10,3*fA(8-n));return{scale:n>8?function(e){return e/t}:function(e){return e*t},symbol:e}});AA.formatPrefix=function(e,n){var t=0;return(e=+e)&&(0>e&&(e*=-1),n&&(e=AA.round(e,Ie(e,n))),t=1+Math.floor(1e-12+Math.log(e)/Math.LN10),t=Math.max(-24,Math.min(24,3*Math.floor((t-1)/3)))),ao[8+t/3]};var Ao=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,oo=AA.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,n){return e.toPrecision(n)},e:function(e,n){return e.toExponential(n)},f:function(e,n){return e.toFixed(n)},r:function(e,n){return(e=AA.round(e,Ie(e,n))).toFixed(Math.max(0,Math.min(20,Ie(e*(1+1e-15),n))))}}),io=AA.time={},so=Date;ke.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){co.setUTCDate.apply(this._,arguments)},setDay:function(){co.setUTCDay.apply(this._,arguments)},setFullYear:function(){co.setUTCFullYear.apply(this._,arguments)},setHours:function(){co.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){co.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){co.setUTCMinutes.apply(this._,arguments)},setMonth:function(){co.setUTCMonth.apply(this._,arguments)},setSeconds:function(){co.setUTCSeconds.apply(this._,arguments)},setTime:function(){co.setTime.apply(this._,arguments)}};var co=Date.prototype;io.year=Se(function(e){return(e=io.day(e)).setMonth(0,1),e},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e){return e.getFullYear()}),io.years=io.year.range,io.years.utc=io.year.utc.range,io.day=Se(function(e){var n=new so(2e3,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n},function(e,n){e.setDate(e.getDate()+n)},function(e){return e.getDate()-1}),io.days=io.day.range,io.days.utc=io.day.utc.range,io.dayOfYear=function(e){var n=io.year(e);return Math.floor((e-n-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,n){n=7-n;var t=io[e]=Se(function(e){return(e=io.day(e)).setDate(e.getDate()-(e.getDay()+n)%7),e},function(e,n){e.setDate(e.getDate()+7*Math.floor(n))},function(e){var t=io.year(e).getDay();return Math.floor((io.dayOfYear(e)+(t+n)%7)/7)-(t!==n)});io[e+"s"]=t.range,io[e+"s"].utc=t.utc.range,io[e+"OfYear"]=function(e){var t=io.year(e).getDay();return Math.floor((io.dayOfYear(e)+(t+n)%7)/7)}}),io.week=io.sunday,io.weeks=io.sunday.range,io.weeks.utc=io.sunday.utc.range,io.weekOfYear=io.sundayOfYear;var lo={"-":"",_:" ",0:"0"},uo=/^\s*\d+/,_o=/^%/;AA.locale=function(e){return{numberFormat:Me(e),timeFormat:He(e)}};var po=AA.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});AA.format=po.numberFormat,AA.geo={},on.prototype={s:0,t:0,add:function(e){sn(e,this.t,fo),sn(fo.s,this.s,this),this.s?this.t+=fo.t:this.s=fo.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var fo=new on;AA.geo.stream=function(e,n){e&&ho.hasOwnProperty(e.type)?ho[e.type](e,n):cn(e,n)};var ho={Feature:function(e,n){cn(e.geometry,n)},FeatureCollection:function(e,n){for(var t=e.features,r=-1,a=t.length;++r<a;)cn(t[r].geometry,n)}},go={Sphere:function(e,n){n.sphere()},Point:function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},MultiPoint:function(e,n){for(var t=e.coordinates,r=-1,a=t.length;++r<a;)e=t[r],n.point(e[0],e[1],e[2])},LineString:function(e,n){ln(e.coordinates,n,0)},MultiLineString:function(e,n){for(var t=e.coordinates,r=-1,a=t.length;++r<a;)ln(t[r],n,0)},Polygon:function(e,n){un(e.coordinates,n)},MultiPolygon:function(e,n){for(var t=e.coordinates,r=-1,a=t.length;++r<a;)un(t[r],n)},GeometryCollection:function(e,n){for(var t=e.geometries,r=-1,a=t.length;++r<a;)cn(t[r],n)}};AA.geo.area=function(e){return Bo=0,AA.geo.stream(e,Eo),Bo};var Bo,mo=new on,Eo={sphere:function(){Bo+=4*IA},point:C,lineStart:C,lineEnd:C,polygonStart:function(){mo.reset(),Eo.lineStart=dn},polygonEnd:function(){var e=2*mo;Bo+=0>e?4*IA+e:e,Eo.lineStart=Eo.lineEnd=Eo.point=C}};AA.geo.bounds=function(){function e(e,n){m.push(E=[l=e,d=e]),u>n&&(u=n),n>_&&(_=n)}function n(n,t){var r=_n([n*SA,t*SA]);if(g){var a=fn(g,r),A=fn([a[1],-a[0],0],a);Bn(A),A=mn(A);var o=n-p,s=o>0?1:-1,c=A[0]*RA*s,f=fA(o)>180;if(f^(c>s*p&&s*n>c))(h=A[1]*RA)>_&&(_=h);else if(f^((c=(c+360)%360-180)>s*p&&s*n>c)){var h=-A[1]*RA;u>h&&(u=h)}else u>t&&(u=t),t>_&&(_=t);f?p>n?i(l,n)>i(l,d)&&(d=n):i(n,d)>i(l,d)&&(l=n):d>=l?(l>n&&(l=n),n>d&&(d=n)):n>p?i(l,n)>i(l,d)&&(d=n):i(n,d)>i(l,d)&&(l=n)}else e(n,t);g=r,p=n}function t(){b.point=n}function r(){E[0]=l,E[1]=d,b.point=e,g=null}function a(e,t){if(g){var r=e-p;B+=fA(r)>180?r+(r>0?360:-360):r}else f=e,h=t;Eo.point(e,t),n(e,t)}function A(){Eo.lineStart()}function o(){a(f,h),Eo.lineEnd(),fA(B)>PA&&(l=-(d=180)),E[0]=l,E[1]=d,g=null}function i(e,n){return(n-=e)<0?n+360:n}function s(e,n){return e[0]-n[0]}function c(e,n){return n[0]<=n[1]?n[0]<=e&&e<=n[1]:e<n[0]||n[1]<e}var l,u,d,_,p,f,h,g,B,m,E,b={point:e,lineStart:t,lineEnd:r,polygonStart:function(){b.point=a,b.lineStart=A,b.lineEnd=o,B=0,Eo.polygonStart()},polygonEnd:function(){Eo.polygonEnd(),b.point=e,b.lineStart=t,b.lineEnd=r,0>mo?(l=-(d=180),u=-(_=90)):B>PA?_=90:-PA>B&&(u=-90),E[0]=l,E[1]=d}};return function(e){if(_=d=-(l=u=1/0),m=[],AA.geo.stream(e,b),A=m.length){m.sort(s);for(var n=1,t=[p=m[0]];A>n;++n)c((a=m[n])[0],p)||c(a[1],p)?(i(p[0],a[1])>i(p[0],p[1])&&(p[1]=a[1]),i(a[0],p[1])>i(p[0],p[1])&&(p[0]=a[0])):t.push(p=a);for(var r,a,A,o=-1/0,p=(n=0,t[A=t.length-1]);A>=n;p=a,++n)a=t[n],(r=i(p[1],a[0]))>o&&(o=r,l=a[0],d=p[1])}return m=E=null,l===1/0||u===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,u],[d,_]]}}(),AA.geo.centroid=function(e){bo=vo=wo=yo=Co=Uo=Lo=xo=Qo=To=Fo=0,AA.geo.stream(e,Po);var n=Qo,t=To,r=Fo,a=n*n+t*t+r*r;return OA>a&&(n=Uo,t=Lo,r=xo,PA>vo&&(n=wo,t=yo,r=Co),OA>(a=n*n+t*t+r*r))?[NaN,NaN]:[Math.atan2(t,n)*RA,ae(r/Math.sqrt(a))*RA]};var bo,vo,wo,yo,Co,Uo,Lo,xo,Qo,To,Fo,Po={sphere:C,point:bn,lineStart:wn,lineEnd:yn,polygonStart:function(){Po.lineStart=Cn},polygonEnd:function(){Po.lineStart=wn}},Oo=Fn(Ln,function(e){var n,t=NaN,r=NaN,a=NaN;return{lineStart:function(){e.lineStart(),n=1},point:function(A,o){var i=A>0?IA:-IA,s=fA(A-t);fA(s-IA)<PA?(e.point(t,r=(r+o)/2>0?kA:-kA),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(i,r),e.point(A,r),n=0):a!==i&&s>=IA&&(fA(t-a)<PA&&(t-=a*PA),fA(A-i)<PA&&(A-=i*PA),r=function(e,n,t,r){var a,A,o=Math.sin(e-t);return fA(o)>PA?Math.atan((Math.sin(n)*(A=Math.cos(r))*Math.sin(t)-Math.sin(r)*(a=Math.cos(n))*Math.sin(e))/(a*A*o)):(n+r)/2}(t,r,A,o),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(i,r),n=0),e.point(t=A,r=o),a=i},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-n}}},function(e,n,t,r){var a;if(null==e)a=t*kA,r.point(-IA,a),r.point(0,a),r.point(IA,a),r.point(IA,0),r.point(IA,-a),r.point(0,-a),r.point(-IA,-a),r.point(-IA,0),r.point(-IA,a);else if(fA(e[0]-n[0])>PA){var A=e[0]<n[0]?IA:-IA;a=t*A/2,r.point(-A,a),r.point(0,a),r.point(A,a)}else r.point(n[0],n[1])},[-IA,-IA/2]),Io=1e9;AA.geo.clipExtent=function(){var e,n,t,r,a,A,o={stream:function(e){return a&&(a.valid=!1),(a=A(e)).valid=!0,a},extent:function(i){return arguments.length?(A=Dn(e=+i[0][0],n=+i[0][1],t=+i[1][0],r=+i[1][1]),a&&(a.valid=!1,a=null),o):[[e,n],[t,r]]}};return o.extent([[0,0],[960,500]])},(AA.geo.conicEqualArea=function(){return kn(Sn)}).raw=Sn,AA.geo.albers=function(){return AA.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},AA.geo.albersUsa=function(){function e(e){var A=e[0],o=e[1];return n=null,t(A,o),n||(r(A,o),n)||a(A,o),n}var n,t,r,a,A=AA.geo.albers(),o=AA.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i=AA.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,t){n=[e,t]}};return e.invert=function(e){var n=A.scale(),t=A.translate(),r=(e[0]-t[0])/n,a=(e[1]-t[1])/n;return(a>=.12&&.234>a&&r>=-.425&&-.214>r?o:a>=.166&&.234>a&&r>=-.214&&-.115>r?i:A).invert(e)},e.stream=function(e){var n=A.stream(e),t=o.stream(e),r=i.stream(e);return{point:function(e,a){n.point(e,a),t.point(e,a),r.point(e,a)},sphere:function(){n.sphere(),t.sphere(),r.sphere()},lineStart:function(){n.lineStart(),t.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),t.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),t.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),t.polygonEnd(),r.polygonEnd()}}},e.precision=function(n){return arguments.length?(A.precision(n),o.precision(n),i.precision(n),e):A.precision()},e.scale=function(n){return arguments.length?(A.scale(n),o.scale(.35*n),i.scale(n),e.translate(A.translate())):A.scale()},e.translate=function(n){if(!arguments.length)return A.translate();var c=A.scale(),l=+n[0],u=+n[1];return t=A.translate(n).clipExtent([[l-.455*c,u-.238*c],[l+.455*c,u+.238*c]]).stream(s).point,r=o.translate([l-.307*c,u+.201*c]).clipExtent([[l-.425*c+PA,u+.12*c+PA],[l-.214*c-PA,u+.234*c-PA]]).stream(s).point,a=i.translate([l-.205*c,u+.212*c]).clipExtent([[l-.214*c+PA,u+.166*c+PA],[l-.115*c-PA,u+.234*c-PA]]).stream(s).point,e},e.scale(1070)};var Mo,Do,ko,So,Ro,Ho,No={point:C,lineStart:C,lineEnd:C,polygonStart:function(){Do=0,No.lineStart=Rn},polygonEnd:function(){No.lineStart=No.lineEnd=No.point=C,Mo+=fA(Do/2)}},Ko={point:function(e,n){ko>e&&(ko=e),e>Ro&&(Ro=e),So>n&&(So=n),n>Ho&&(Ho=n)},lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C},Wo={point:Kn,lineStart:Wn,lineEnd:zn,polygonStart:function(){Wo.lineStart=Vn},polygonEnd:function(){Wo.point=Kn,Wo.lineStart=Wn,Wo.lineEnd=zn}};AA.geo.path=function(){function e(e){return e&&("function"==typeof i&&A.pointRadius(+i.apply(this,arguments)),o&&o.valid||(o=a(A)),AA.geo.stream(e,o)),A.result()}function n(){return o=null,e}var t,r,a,A,o,i=4.5;return e.area=function(e){return Mo=0,AA.geo.stream(e,a(No)),Mo},e.centroid=function(e){return wo=yo=Co=Uo=Lo=xo=Qo=To=Fo=0,AA.geo.stream(e,a(Wo)),Fo?[Qo/Fo,To/Fo]:xo?[Uo/xo,Lo/xo]:Co?[wo/Co,yo/Co]:[NaN,NaN]},e.bounds=function(e){return Ro=Ho=-(ko=So=1/0),AA.geo.stream(e,a(Ko)),[[ko,So],[Ro,Ho]]},e.projection=function(e){return arguments.length?(a=(t=e)?e.stream||function(e){var n=Gn(function(n,t){return e([n*RA,t*RA])});return function(e){return $n(n(e))}}(e):v,n()):t},e.context=function(e){return arguments.length?(A=null==(r=e)?new Hn:new jn(e),"function"!=typeof i&&A.pointRadius(i),n()):r},e.pointRadius=function(n){return arguments.length?(i="function"==typeof n?n:(A.pointRadius(+n),+n),e):i},e.projection(AA.geo.albersUsa()).context(null)},AA.geo.transform=function(e){return{stream:function(n){var t=new Yn(n);for(var r in e)t[r]=e[r];return t}}},Yn.prototype={point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},AA.geo.projection=qn,AA.geo.projectionMutator=Jn,(AA.geo.equirectangular=function(){return qn(Zn)}).raw=Zn.invert=Zn,AA.geo.rotation=function(e){function n(n){return(n=e(n[0]*SA,n[1]*SA))[0]*=RA,n[1]*=RA,n}return e=nt(e[0]%360*SA,e[1]*SA,e.length>2?e[2]*SA:0),n.invert=function(n){return(n=e.invert(n[0]*SA,n[1]*SA))[0]*=RA,n[1]*=RA,n},n},et.invert=Zn,AA.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,n=nt(-e[0]*SA,-e[1]*SA,0).invert,a=[];return t(null,null,1,{point:function(e,t){a.push(e=n(e,t)),e[0]*=RA,e[1]*=RA}}),{type:"Polygon",coordinates:[a]}}var n,t,r=[0,0],a=6;return e.origin=function(n){return arguments.length?(r=n,e):r},e.angle=function(r){return arguments.length?(t=At((n=+r)*SA,a*SA),e):n},e.precision=function(r){return arguments.length?(t=At(n*SA,(a=+r)*SA),e):a},e.angle(90)},AA.geo.distance=function(e,n){var t,r=(n[0]-e[0])*SA,a=e[1]*SA,A=n[1]*SA,o=Math.sin(r),i=Math.cos(r),s=Math.sin(a),c=Math.cos(a),l=Math.sin(A),u=Math.cos(A);return Math.atan2(Math.sqrt((t=u*o)*t+(t=c*l-s*u*i)*t),s*l+c*u*i)},AA.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:n()}}function n(){return AA.range(Math.ceil(A/h)*h,a,h).map(d).concat(AA.range(Math.ceil(c/g)*g,s,g).map(_)).concat(AA.range(Math.ceil(r/p)*p,t,p).filter(function(e){return fA(e%h)>PA}).map(l)).concat(AA.range(Math.ceil(i/f)*f,o,f).filter(function(e){return fA(e%g)>PA}).map(u))}var t,r,a,A,o,i,s,c,l,u,d,_,p=10,f=p,h=90,g=360,B=2.5;return e.lines=function(){return n().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[d(A).concat(_(s).slice(1),d(a).reverse().slice(1),_(c).reverse().slice(1))]}},e.extent=function(n){return arguments.length?e.majorExtent(n).minorExtent(n):e.minorExtent()},e.majorExtent=function(n){return arguments.length?(A=+n[0][0],a=+n[1][0],c=+n[0][1],s=+n[1][1],A>a&&(n=A,A=a,a=n),c>s&&(n=c,c=s,s=n),e.precision(B)):[[A,c],[a,s]]},e.minorExtent=function(n){return arguments.length?(r=+n[0][0],t=+n[1][0],i=+n[0][1],o=+n[1][1],r>t&&(n=r,r=t,t=n),i>o&&(n=i,i=o,o=n),e.precision(B)):[[r,i],[t,o]]},e.step=function(n){return arguments.length?e.majorStep(n).minorStep(n):e.minorStep()},e.majorStep=function(n){return arguments.length?(h=+n[0],g=+n[1],e):[h,g]},e.minorStep=function(n){return arguments.length?(p=+n[0],f=+n[1],e):[p,f]},e.precision=function(n){return arguments.length?(B=+n,l=it(i,o,90),u=st(r,t,B),d=it(c,s,90),_=st(A,a,B),e):B},e.majorExtent([[-180,-90+PA],[180,90-PA]]).minorExtent([[-180,-80-PA],[180,80+PA]])},AA.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),t||a.apply(this,arguments)]}}var n,t,r=ct,a=lt;return e.distance=function(){return AA.geo.distance(n||r.apply(this,arguments),t||a.apply(this,arguments))},e.source=function(t){return arguments.length?(r=t,n="function"==typeof t?null:t,e):r},e.target=function(n){return arguments.length?(a=n,t="function"==typeof n?null:n,e):a},e.precision=function(){return arguments.length?e:0},e},AA.geo.interpolate=function(e,n){return function(e,n,t,r){var a=Math.cos(n),A=Math.sin(n),o=Math.cos(r),i=Math.sin(r),s=a*Math.cos(e),c=a*Math.sin(e),l=o*Math.cos(t),u=o*Math.sin(t),d=2*Math.asin(Math.sqrt(oe(r-n)+a*o*oe(t-e))),_=1/Math.sin(d),p=d?function(e){var n=Math.sin(e*=d)*_,t=Math.sin(d-e)*_,r=t*s+n*l,a=t*c+n*u,o=t*A+n*i;return[Math.atan2(a,r)*RA,Math.atan2(o,Math.sqrt(r*r+a*a))*RA]}:function(){return[e*RA,n*RA]};return p.distance=d,p}(e[0]*SA,e[1]*SA,n[0]*SA,n[1]*SA)},AA.geo.length=function(e){return zo=0,AA.geo.stream(e,Vo),zo};var zo,Vo={sphere:C,point:C,lineStart:function(){function e(e,a){var A=Math.sin(a*=SA),o=Math.cos(a),i=fA((e*=SA)-n),s=Math.cos(i);zo+=Math.atan2(Math.sqrt((i=o*Math.sin(i))*i+(i=r*A-t*o*s)*i),t*A+r*o*s),n=e,t=A,r=o}var n,t,r;Vo.point=function(a,A){n=a*SA,t=Math.sin(A*=SA),r=Math.cos(A),Vo.point=e},Vo.lineEnd=function(){Vo.point=Vo.lineEnd=C}},lineEnd:C,polygonStart:C,polygonEnd:C},jo=ut(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(AA.geo.azimuthalEqualArea=function(){return qn(jo)}).raw=jo;var Go=ut(function(e){var n=Math.acos(e);return n&&n/Math.sin(n)},v);(AA.geo.azimuthalEquidistant=function(){return qn(Go)}).raw=Go,(AA.geo.conicConformal=function(){return kn(dt)}).raw=dt,(AA.geo.conicEquidistant=function(){return kn(_t)}).raw=_t;var Yo=ut(function(e){return 1/e},Math.atan);(AA.geo.gnomonic=function(){return qn(Yo)}).raw=Yo,pt.invert=function(e,n){return[e,2*Math.atan(Math.exp(n))-kA]},(AA.geo.mercator=function(){return ft(pt)}).raw=pt;var Xo=ut(function(){return 1},Math.asin);(AA.geo.orthographic=function(){return qn(Xo)}).raw=Xo;var qo=ut(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(AA.geo.stereographic=function(){return qn(qo)}).raw=qo,ht.invert=function(e,n){return[-n,2*Math.atan(Math.exp(e))-kA]},(AA.geo.transverseMercator=function(){var e=ft(ht),n=e.center,t=e.rotate;return e.center=function(e){return e?n([-e[1],e[0]]):[(e=n())[1],-e[0]]},e.rotate=function(e){return e?t([e[0],e[1],e.length>2?e[2]+90:90]):[(e=t())[0],e[1],e[2]-90]},t([0,0,90])}).raw=ht,AA.geom={},AA.geom.hull=function(e){function n(e){if(e.length<3)return[];var n,a=Le(t),A=Le(r),o=e.length,i=[],s=[];for(n=0;o>n;n++)i.push([+a.call(this,e[n],n),+A.call(this,e[n],n),n]);for(i.sort(Et),n=0;o>n;n++)s.push([i[n][0],-i[n][1]]);var c=mt(i),l=mt(s),u=l[0]===c[0],d=l[l.length-1]===c[c.length-1],_=[];for(n=c.length-1;n>=0;--n)_.push(e[i[c[n]][2]]);for(n=+u;n<l.length-d;++n)_.push(e[i[l[n]][2]]);return _}var t=gt,r=Bt;return arguments.length?n(e):(n.x=function(e){return arguments.length?(t=e,n):t},n.y=function(e){return arguments.length?(r=e,n):r},n)},AA.geom.polygon=function(e){return EA(e,Jo),e};var Jo=AA.geom.polygon.prototype=[];Jo.area=function(){for(var e,n=-1,t=this.length,r=this[t-1],a=0;++n<t;)e=r,r=this[n],a+=e[1]*r[0]-e[0]*r[1];return.5*a},Jo.centroid=function(e){var n,t,r=-1,a=this.length,A=0,o=0,i=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++r<a;)n=i,i=this[r],t=n[0]*i[1]-i[0]*n[1],A+=(n[0]+i[0])*t,o+=(n[1]+i[1])*t;return[A*e,o*e]},Jo.clip=function(e){for(var n,t,r,a,A,o,i=wt(e),s=-1,c=this.length-wt(this),l=this[c-1];++s<c;){for(n=e.slice(),e.length=0,a=this[s],A=n[(r=n.length-i)-1],t=-1;++t<r;)bt(o=n[t],l,a)?(bt(A,l,a)||e.push(vt(A,o,l,a)),e.push(o)):bt(A,l,a)&&e.push(vt(A,o,l,a)),A=o;i&&e.push(e[0]),l=a}return e};var $o,Zo,ei,ni,ti,ri=[],ai=[];Ft.prototype.prepare=function(){for(var e,n=this.edges,t=n.length;t--;)(e=n[t].edge).b&&e.a||n.splice(t,1);return n.sort(Pt),n.length},Nt.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Kt.prototype={insert:function(e,n){var t,r,a;if(e){if(n.P=e,n.N=e.N,e.N&&(e.N.P=n),e.N=n,e.R){for(e=e.R;e.L;)e=e.L;e.L=n}else e.R=n;t=e}else this._?(e=jt(this._),n.P=null,n.N=e,e.P=e.L=n,t=e):(n.P=n.N=null,this._=n,t=null);for(n.L=n.R=null,n.U=t,n.C=!0,e=n;t&&t.C;)t===(r=t.U).L?(a=r.R)&&a.C?(t.C=a.C=!1,r.C=!0,e=r):(e===t.R&&(zt(this,t),t=(e=t).U),t.C=!1,r.C=!0,Vt(this,r)):(a=r.L)&&a.C?(t.C=a.C=!1,r.C=!0,e=r):(e===t.L&&(Vt(this,t),t=(e=t).U),t.C=!1,r.C=!0,zt(this,r)),t=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n,t,r,a=e.U,A=e.L,o=e.R;if(t=A?o?jt(o):A:o,a?a.L===e?a.L=t:a.R=t:this._=t,A&&o?(r=t.C,t.C=e.C,t.L=A,A.U=t,t!==o?(a=t.U,t.U=e.U,e=t.R,a.L=e,t.R=o,o.U=t):(t.U=a,a=t,e=t.R)):(r=e.C,e=t),e&&(e.U=a),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===a.L){if((n=a.R).C&&(n.C=!1,a.C=!0,zt(this,a),n=a.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Vt(this,n),n=a.R),n.C=a.C,a.C=n.R.C=!1,zt(this,a),e=this._;break}}else if((n=a.L).C&&(n.C=!1,a.C=!0,Vt(this,a),n=a.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,zt(this,n),n=a.L),n.C=a.C,a.C=n.L.C=!1,Vt(this,a),e=this._;break}n.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}},AA.geom.voronoi=function(e){function n(e){var n=new Array(e.length),r=i[0][0],a=i[0][1],A=i[1][0],o=i[1][1];return Gt(t(e),i).cells.forEach(function(t,i){var s=t.edges,c=t.site;(n[i]=s.length?s.map(function(e){var n=e.start();return[n.x,n.y]}):c.x>=r&&c.x<=A&&c.y>=a&&c.y<=o?[[r,o],[A,o],[A,a],[r,a]]:[]).point=e[i]}),n}function t(e){return e.map(function(e,n){return{x:Math.round(A(e,n)/PA)*PA,y:Math.round(o(e,n)/PA)*PA,i:n}})}var r=gt,a=Bt,A=r,o=a,i=Ai;return e?n(e):(n.links=function(e){return Gt(t(e)).edges.filter(function(e){return e.l&&e.r}).map(function(n){return{source:e[n.l.i],target:e[n.r.i]}})},n.triangles=function(e){var n=[];return Gt(t(e)).cells.forEach(function(t,r){for(var a,A=t.site,o=t.edges.sort(Pt),i=-1,s=o.length,c=o[s-1].edge,l=c.l===A?c.r:c.l;++i<s;)c,a=l,l=(c=o[i].edge).l===A?c.r:c.l,r<a.i&&r<l.i&&Xt(A,a,l)<0&&n.push([e[r],e[a.i],e[l.i]])}),n},n.x=function(e){return arguments.length?(A=Le(r=e),n):r},n.y=function(e){return arguments.length?(o=Le(a=e),n):a},n.clipExtent=function(e){return arguments.length?(i=null==e?Ai:e,n):i===Ai?null:i},n.size=function(e){return arguments.length?n.clipExtent(e&&[[0,0],e]):i===Ai?null:i&&i[1]},n)};var Ai=[[-1e6,-1e6],[1e6,1e6]];AA.geom.delaunay=function(e){return AA.geom.voronoi().triangles(e)},AA.geom.quadtree=function(e,n,t,r,a){function A(e){function A(e,n,t,r,a,A,o,i){if(!isNaN(t)&&!isNaN(r))if(e.leaf){var s=e.x,l=e.y;if(null!=s)if(fA(s-t)+fA(l-r)<.01)c(e,n,t,r,a,A,o,i);else{var u=e.point;e.x=e.y=e.point=null,c(e,u,s,l,a,A,o,i),c(e,n,t,r,a,A,o,i)}else e.x=t,e.y=r,e.point=n}else c(e,n,t,r,a,A,o,i)}function c(e,n,t,r,a,o,i,s){var c=.5*(a+i),l=.5*(o+s),u=t>=c,d=r>=l,_=d<<1|u;e.leaf=!1,u?a=c:i=c,d?o=l:s=l,A(e=e.nodes[_]||(e.nodes[_]={leaf:!0,nodes:[],point:null,x:null,y:null}),n,t,r,a,o,i,s)}var l,u,d,_,p,f,h,g,B,m=Le(i),E=Le(s);if(null!=n)f=n,h=t,g=r,B=a;else if(g=B=-(f=h=1/0),u=[],d=[],p=e.length,o)for(_=0;p>_;++_)(l=e[_]).x<f&&(f=l.x),l.y<h&&(h=l.y),l.x>g&&(g=l.x),l.y>B&&(B=l.y),u.push(l.x),d.push(l.y);else for(_=0;p>_;++_){var b=+m(l=e[_],_),v=+E(l,_);f>b&&(f=b),h>v&&(h=v),b>g&&(g=b),v>B&&(B=v),u.push(b),d.push(v)}var w=g-f,y=B-h;w>y?B=h+w:g=f+y;var C={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){A(C,e,+m(e,++_),+E(e,_),f,h,g,B)}};if(C.visit=function(e){!function e(n,t,r,a,A,o){if(!n(t,r,a,A,o)){var i=.5*(r+A),s=.5*(a+o),c=t.nodes;c[0]&&e(n,c[0],r,a,i,s),c[1]&&e(n,c[1],i,a,A,s),c[2]&&e(n,c[2],r,s,i,o),c[3]&&e(n,c[3],i,s,A,o)}}(e,C,f,h,g,B)},C.find=function(e){return function(e,n,t,r,a,A,o){var i,s=1/0;return function e(c,l,u,d,_){if(!(l>A||u>o||r>d||a>_)){if(p=c.point){var p,f=n-c.x,h=t-c.y,g=f*f+h*h;if(s>g){var B=Math.sqrt(s=g);r=n-B,a=t-B,A=n+B,o=t+B,i=p}}for(var m=c.nodes,E=.5*(l+d),b=.5*(u+_),v=(t>=b)<<1|n>=E,w=v+4;w>v;++v)if(c=m[3&v])switch(3&v){case 0:e(c,l,u,E,b);break;case 1:e(c,E,u,d,b);break;case 2:e(c,l,b,E,_);break;case 3:e(c,E,b,d,_)}}}(e,r,a,A,o),i}(C,e[0],e[1],f,h,g,B)},_=-1,null==n){for(;++_<p;)A(C,e[_],u[_],d[_],f,h,g,B);--_}else e.forEach(C.add);return u=d=e=l=null,C}var o,i=gt,s=Bt;return(o=arguments.length)?(i=qt,s=Jt,3===o&&(a=t,r=n,t=n=0),A(e)):(A.x=function(e){return arguments.length?(i=e,A):i},A.y=function(e){return arguments.length?(s=e,A):s},A.extent=function(e){return arguments.length?(null==e?n=t=r=a=null:(n=+e[0][0],t=+e[0][1],r=+e[1][0],a=+e[1][1]),A):null==n?null:[[n,t],[r,a]]},A.size=function(e){return arguments.length?(null==e?n=t=r=a=null:(n=t=0,r=+e[0],a=+e[1]),A):null==n?null:[r-n,a-t]},A)},AA.interpolateRgb=$t,AA.interpolateObject=Zt,AA.interpolateNumber=er,AA.interpolateString=nr;var oi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ii=new RegExp(oi.source,"g");AA.interpolate=tr,AA.interpolators=[function(e,n){var t=typeof n;return("string"===t?$A.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?$t:nr:n instanceof ie?$t:Array.isArray(n)?rr:"object"===t&&isNaN(n)?Zt:er)(e,n)}],AA.interpolateArray=rr;var si=function(){return v},ci=AA.map({linear:si,poly:function(e){return function(n){return Math.pow(n,e)}},quad:function(){return or},cubic:function(){return ir},sin:function(){return cr},exp:function(){return lr},circle:function(){return ur},elastic:function(e,n){var t;return arguments.length<2&&(n=.45),arguments.length?t=n/MA*Math.asin(1/e):(e=1,t=n/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-t)*MA/n)}},back:function(e){return e||(e=1.70158),function(n){return n*n*((e+1)*n-e)}},bounce:function(){return dr}}),li=AA.map({in:v,out:ar,"in-out":Ar,"out-in":function(e){return Ar(ar(e))}});AA.ease=function(e){var n=e.indexOf("-"),t=n>=0?e.slice(0,n):e,r=n>=0?e.slice(n+1):"in";return t=ci.get(t)||si,function(e){return function(n){return 0>=n?0:n>=1?1:e(n)}}((r=li.get(r)||v)(t.apply(null,oA.call(arguments,1))))},AA.interpolateHcl=function(e,n){e=AA.hcl(e),n=AA.hcl(n);var t=e.h,r=e.c,a=e.l,A=n.h-t,o=n.c-r,i=n.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?n.c:r),isNaN(A)?(A=0,t=isNaN(t)?n.h:t):A>180?A-=360:-180>A&&(A+=360),function(e){return ue(t+A*e,r+o*e,a+i*e)+""}},AA.interpolateHsl=function(e,n){e=AA.hsl(e),n=AA.hsl(n);var t=e.h,r=e.s,a=e.l,A=n.h-t,o=n.s-r,i=n.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?n.s:r),isNaN(A)?(A=0,t=isNaN(t)?n.h:t):A>180?A-=360:-180>A&&(A+=360),function(e){return ce(t+A*e,r+o*e,a+i*e)+""}},AA.interpolateLab=function(e,n){e=AA.lab(e),n=AA.lab(n);var t=e.l,r=e.a,a=e.b,A=n.l-t,o=n.a-r,i=n.b-a;return function(e){return _e(t+A*e,r+o*e,a+i*e)+""}},AA.interpolateRound=_r,AA.transform=function(e){var n=sA.createElementNS(AA.ns.prefix.svg,"g");return(AA.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new pr(t?t.matrix:ui)})(e)},pr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ui={a:1,b:0,c:0,d:1,e:0,f:0};AA.interpolateTransform=Br,AA.layout={},AA.layout.bundle=function(){return function(e){for(var n=[],t=-1,r=e.length;++t<r;)n.push(br(e[t]));return n}},AA.layout.chord=function(){function e(){var e,c,u,d,_,p={},f=[],h=AA.range(A),g=[];for(t=[],r=[],e=0,d=-1;++d<A;){for(c=0,_=-1;++_<A;)c+=a[d][_];f.push(c),g.push(AA.range(A)),e+=c}for(o&&h.sort(function(e,n){return o(f[e],f[n])}),i&&g.forEach(function(e,n){e.sort(function(e,t){return i(a[n][e],a[n][t])})}),e=(MA-l*A)/e,c=0,d=-1;++d<A;){for(u=c,_=-1;++_<A;){var B=h[d],m=g[B][_],E=a[B][m],b=c,v=c+=E*e;p[B+"-"+m]={index:B,subindex:m,startAngle:b,endAngle:v,value:E}}r[B]={index:B,startAngle:u,endAngle:c,value:f[B]},c+=l}for(d=-1;++d<A;)for(_=d-1;++_<A;){var w=p[d+"-"+_],y=p[_+"-"+d];(w.value||y.value)&&t.push(w.value<y.value?{source:y,target:w}:{source:w,target:y})}s&&n()}function n(){t.sort(function(e,n){return s((e.source.value+e.target.value)/2,(n.source.value+n.target.value)/2)})}var t,r,a,A,o,i,s,c={},l=0;return c.matrix=function(e){return arguments.length?(A=(a=e)&&a.length,t=r=null,c):a},c.padding=function(e){return arguments.length?(l=e,t=r=null,c):l},c.sortGroups=function(e){return arguments.length?(o=e,t=r=null,c):o},c.sortSubgroups=function(e){return arguments.length?(i=e,t=null,c):i},c.sortChords=function(e){return arguments.length?(s=e,t&&n(),c):s},c.chords=function(){return t||e(),t},c.groups=function(){return r||e(),r},c},AA.layout.force=function(){function e(e){return function(n,t,r,a){if(n.point!==e){var A=n.cx-e.x,o=n.cy-e.y,i=a-t,s=A*A+o*o;if(s>i*i/g){if(f>s){var c=n.charge/s;e.px-=A*c,e.py-=o*c}return!0}if(n.point&&s&&f>s){c=n.pointCharge/s;e.px-=A*c,e.py-=o*c}}return!n.charge}}function n(e){e.px=AA.event.x,e.py=AA.event.y,s.resume()}var t,r,a,A,o,i,s={},c=AA.dispatch("start","tick","end"),l=[1,1],u=.9,d=di,_=_i,p=-30,f=pi,h=.1,g=.64,B=[],m=[];return s.tick=function(){if((a*=.99)<.005)return t=null,c.end({type:"end",alpha:a=0}),!0;var n,r,s,d,_,f,g,E,b,v=B.length,w=m.length;for(r=0;w>r;++r)d=(s=m[r]).source,(f=(E=(_=s.target).x-d.x)*E+(b=_.y-d.y)*b)&&(E*=f=a*o[r]*((f=Math.sqrt(f))-A[r])/f,b*=f,_.x-=E*(g=d.weight+_.weight?d.weight/(d.weight+_.weight):.5),_.y-=b*g,d.x+=E*(g=1-g),d.y+=b*g);if((g=a*h)&&(E=l[0]/2,b=l[1]/2,r=-1,g))for(;++r<v;)(s=B[r]).x+=(E-s.x)*g,s.y+=(b-s.y)*g;if(p)for(function e(n,t,r){var a=0,A=0;if(n.charge=0,!n.leaf)for(var o,i=n.nodes,s=i.length,c=-1;++c<s;)null!=(o=i[c])&&(e(o,t,r),n.charge+=o.charge,a+=o.charge*o.cx,A+=o.charge*o.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=t*r[n.point.index];n.charge+=n.pointCharge=l,a+=l*n.point.x,A+=l*n.point.y}n.cx=a/n.charge,n.cy=A/n.charge}(n=AA.geom.quadtree(B),a,i),r=-1;++r<v;)(s=B[r]).fixed||n.visit(e(s));for(r=-1;++r<v;)(s=B[r]).fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*u,s.y-=(s.py-(s.py=s.y))*u);c.tick({type:"tick",alpha:a})},s.nodes=function(e){return arguments.length?(B=e,s):B},s.links=function(e){return arguments.length?(m=e,s):m},s.size=function(e){return arguments.length?(l=e,s):l},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(_="function"==typeof e?e:+e,s):_},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.chargeDistance=function(e){return arguments.length?(f=e*e,s):Math.sqrt(f)},s.gravity=function(e){return arguments.length?(h=+e,s):h},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,a?e>0?a=e:(t.c=null,t.t=NaN,t=null,c.end({type:"end",alpha:a=0})):e>0&&(c.start({type:"start",alpha:a=e}),t=Te(s.tick)),s):a},s.start=function(){function e(e,r){if(!t){for(t=new Array(a),s=0;a>s;++s)t[s]=[];for(s=0;c>s;++s){var A=m[s];t[A.source.index].push(A.target),t[A.target.index].push(A.source)}}for(var o,i=t[n],s=-1,l=i.length;++s<l;)if(!isNaN(o=i[s][e]))return o;return Math.random()*r}var n,t,r,a=B.length,c=m.length,u=l[0],f=l[1];for(n=0;a>n;++n)(r=B[n]).index=n,r.weight=0;for(n=0;c>n;++n)"number"==typeof(r=m[n]).source&&(r.source=B[r.source]),"number"==typeof r.target&&(r.target=B[r.target]),++r.source.weight,++r.target.weight;for(n=0;a>n;++n)r=B[n],isNaN(r.x)&&(r.x=e("x",u)),isNaN(r.y)&&(r.y=e("y",f)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(A=[],"function"==typeof d)for(n=0;c>n;++n)A[n]=+d.call(this,m[n],n);else for(n=0;c>n;++n)A[n]=d;if(o=[],"function"==typeof _)for(n=0;c>n;++n)o[n]=+_.call(this,m[n],n);else for(n=0;c>n;++n)o[n]=_;if(i=[],"function"==typeof p)for(n=0;a>n;++n)i[n]=+p.call(this,B[n],n);else for(n=0;a>n;++n)i[n]=p;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return r||(r=AA.behavior.drag().origin(v).on("dragstart.force",wr).on("drag.force",n).on("dragend.force",yr)),arguments.length?void this.on("mouseover.force",Cr).on("mouseout.force",Ur).call(r):r},AA.rebind(s,c,"on")};var di=20,_i=1,pi=1/0;AA.layout.hierarchy=function(){function e(a){var A,o=[a],i=[];for(a.depth=0;null!=(A=o.pop());)if(i.push(A),(c=t.call(e,A,A.depth))&&(s=c.length)){for(var s,c,l;--s>=0;)o.push(l=c[s]),l.parent=A,l.depth=A.depth+1;r&&(A.value=0),A.children=c}else r&&(A.value=+r.call(e,A,A.depth)||0),delete A.children;return Qr(a,function(e){var t,a;n&&(t=e.children)&&t.sort(n),r&&(a=e.parent)&&(a.value+=e.value)}),i}var n=Pr,t=Tr,r=Fr;return e.sort=function(t){return arguments.length?(n=t,e):n},e.children=function(n){return arguments.length?(t=n,e):t},e.value=function(n){return arguments.length?(r=n,e):r},e.revalue=function(n){return r&&(xr(n,function(e){e.children&&(e.value=0)}),Qr(n,function(n){var t;n.children||(n.value=+r.call(e,n,n.depth)||0),(t=n.parent)&&(t.value+=n.value)})),n},e},AA.layout.partition=function(){function e(e,r){var a=n.call(this,e,r);return function e(n,t,r,a){var A=n.children;if(n.x=t,n.y=n.depth*a,n.dx=r,n.dy=a,A&&(o=A.length)){var o,i,s,c=-1;for(r=n.value?r/n.value:0;++c<o;)e(i=A[c],t,s=i.value*r,a),t+=s}}(a[0],0,t[0],t[1]/function e(n){var t=n.children,r=0;if(t&&(a=t.length))for(var a,A=-1;++A<a;)r=Math.max(r,e(t[A]));return 1+r}(a[0])),a}var n=AA.layout.hierarchy(),t=[1,1];return e.size=function(n){return arguments.length?(t=n,e):t},Lr(e,n)},AA.layout.pie=function(){function e(o){var i,s=o.length,c=o.map(function(t,r){return+n.call(e,t,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),u=("function"==typeof a?a.apply(this,arguments):a)-l,d=Math.min(Math.abs(u)/s,+("function"==typeof A?A.apply(this,arguments):A)),_=d*(0>u?-1:1),p=AA.sum(c),f=p?(u-s*_)/p:0,h=AA.range(s),g=[];return null!=t&&h.sort(t===fi?function(e,n){return c[n]-c[e]}:function(e,n){return t(o[e],o[n])}),h.forEach(function(e){g[e]={data:o[e],value:i=c[e],startAngle:l,endAngle:l+=i*f+_,padAngle:d}}),g}var n=Number,t=fi,r=0,a=MA,A=0;return e.value=function(t){return arguments.length?(n=t,e):n},e.sort=function(n){return arguments.length?(t=n,e):t},e.startAngle=function(n){return arguments.length?(r=n,e):r},e.endAngle=function(n){return arguments.length?(a=n,e):a},e.padAngle=function(n){return arguments.length?(A=n,e):A},e};var fi={};AA.layout.stack=function(){function e(i,s){if(!(d=i.length))return i;var c=i.map(function(t,r){return n.call(e,t,r)}),l=c.map(function(n){return n.map(function(n,t){return[A.call(e,n,t),o.call(e,n,t)]})}),u=t.call(e,l,s);c=AA.permute(c,u),l=AA.permute(l,u);var d,_,p,f,h=r.call(e,l,s),g=c[0].length;for(p=0;g>p;++p)for(a.call(e,c[0][p],f=h[p],l[0][p][1]),_=1;d>_;++_)a.call(e,c[_][p],f+=l[_-1][p][1],l[_][p][1]);return i}var n=v,t=kr,r=Sr,a=Dr,A=Ir,o=Mr;return e.values=function(t){return arguments.length?(n=t,e):n},e.order=function(n){return arguments.length?(t="function"==typeof n?n:hi.get(n)||kr,e):t},e.offset=function(n){return arguments.length?(r="function"==typeof n?n:gi.get(n)||Sr,e):r},e.x=function(n){return arguments.length?(A=n,e):A},e.y=function(n){return arguments.length?(o=n,e):o},e.out=function(n){return arguments.length?(a=n,e):a},e};var hi=AA.map({"inside-out":function(e){var n,t,r=e.length,a=e.map(Rr),A=e.map(Hr),o=AA.range(r).sort(function(e,n){return a[e]-a[n]}),i=0,s=0,c=[],l=[];for(n=0;r>n;++n)t=o[n],s>i?(i+=A[t],c.push(t)):(s+=A[t],l.push(t));return l.reverse().concat(c)},reverse:function(e){return AA.range(e.length).reverse()},default:kr}),gi=AA.map({silhouette:function(e){var n,t,r,a=e.length,A=e[0].length,o=[],i=0,s=[];for(t=0;A>t;++t){for(n=0,r=0;a>n;n++)r+=e[n][t][1];r>i&&(i=r),o.push(r)}for(t=0;A>t;++t)s[t]=(i-o[t])/2;return s},wiggle:function(e){var n,t,r,a,A,o,i,s,c,l=e.length,u=e[0],d=u.length,_=[];for(_[0]=s=c=0,t=1;d>t;++t){for(n=0,a=0;l>n;++n)a+=e[n][t][1];for(n=0,A=0,i=u[t][0]-u[t-1][0];l>n;++n){for(r=0,o=(e[n][t][1]-e[n][t-1][1])/(2*i);n>r;++r)o+=(e[r][t][1]-e[r][t-1][1])/i;A+=o*e[n][t][1]}_[t]=s-=a?A/a*i:0,c>s&&(c=s)}for(t=0;d>t;++t)_[t]-=c;return _},expand:function(e){var n,t,r,a=e.length,A=e[0].length,o=1/a,i=[];for(t=0;A>t;++t){for(n=0,r=0;a>n;n++)r+=e[n][t][1];if(r)for(n=0;a>n;n++)e[n][t][1]/=r;else for(n=0;a>n;n++)e[n][t][1]=o}for(t=0;A>t;++t)i[t]=0;return i},zero:Sr});AA.layout.histogram=function(){function e(e,A){for(var o,i,s=[],c=e.map(t,this),l=r.call(this,c,A),u=a.call(this,l,c,A),d=(A=-1,c.length),_=u.length-1,p=n?1:1/d;++A<_;)(o=s[A]=[]).dx=u[A+1]-(o.x=u[A]),o.y=0;if(_>0)for(A=-1;++A<d;)(i=c[A])>=l[0]&&i<=l[1]&&((o=s[AA.bisect(u,i,1,_)-1]).y+=p,o.push(e[A]));return s}var n=!0,t=Number,r=zr,a=Kr;return e.value=function(n){return arguments.length?(t=n,e):t},e.range=function(n){return arguments.length?(r=Le(n),e):r},e.bins=function(n){return arguments.length?(a="number"==typeof n?function(e){return Wr(e,n)}:Le(n),e):a},e.frequency=function(t){return arguments.length?(n=!!t,e):n},e},AA.layout.pack=function(){function e(e,A){var o=t.call(this,e,A),i=o[0],s=a[0],c=a[1],l=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(i.x=i.y=0,Qr(i,function(e){e.r=+l(e.value)}),Qr(i,Xr),r){var u=r*(n?1:Math.max(2*i.r/s,2*i.r/c))/2;Qr(i,function(e){e.r+=u}),Qr(i,Xr),Qr(i,function(e){e.r-=u})}return function e(n,t,r,a){var A=n.children;if(n.x=t+=a*n.x,n.y=r+=a*n.y,n.r*=a,A)for(var o=-1,i=A.length;++o<i;)e(A[o],t,r,a)}(i,s/2,c/2,n?1:1/Math.max(2*i.r/s,2*i.r/c)),o}var n,t=AA.layout.hierarchy().sort(Vr),r=0,a=[1,1];return e.size=function(n){return arguments.length?(a=n,e):a},e.radius=function(t){return arguments.length?(n=null==t||"function"==typeof t?t:+t,e):n},e.padding=function(n){return arguments.length?(r=+n,e):r},Lr(e,t)},AA.layout.tree=function(){function e(e,s){var c=a.call(this,e,s),l=c[0],u=function(e){for(var n,t={A:null,children:[e]},r=[t];null!=(n=r.pop());)for(var a,A=n.children,o=0,i=A.length;i>o;++o)r.push((A[o]=a={_:A[o],parent:n,children:(a=A[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return t.children[0]}(l);if(Qr(u,n),u.parent.m=-u.z,xr(u,t),i)xr(l,r);else{var d=l,_=l,p=l;xr(l,function(e){e.x<d.x&&(d=e),e.x>_.x&&(_=e),e.depth>p.depth&&(p=e)});var f=A(d,_)/2-d.x,h=o[0]/(_.x+A(_,d)/2+f),g=o[1]/(p.depth||1);xr(l,function(e){e.x=(e.x+f)*h,e.y=e.depth*g})}return c}function n(e){var n=e.children,t=e.parent.children,r=e.i?t[e.i-1]:null;if(n.length){!function(e){for(var n,t=0,r=0,a=e.children,A=a.length;--A>=0;)(n=a[A]).z+=t,n.m+=t,t+=n.s+(r+=n.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+A(e._,r._),e.m=e.z-a):e.z=a}else r&&(e.z=r.z+A(e._,r._));e.parent.A=function(e,n,t){if(n){for(var r,a=e,o=e,i=n,s=a.parent.children[0],c=a.m,l=o.m,u=i.m,d=s.m;i=na(i),a=ea(a),i&&a;)s=ea(s),(o=na(o)).a=e,(r=i.z+u-a.z-c+A(i._,a._))>0&&(ta(ra(i,e,t),e,r),c+=r,l+=r),u+=i.m,c+=a.m,d+=s.m,l+=o.m;i&&!na(o)&&(o.t=i,o.m+=u-l),a&&!ea(s)&&(s.t=a,s.m+=c-d,t=e)}return t}(e,r,e.parent.A||t[0])}function t(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e){e.x*=o[0],e.y=e.depth*o[1]}var a=AA.layout.hierarchy().sort(null).value(null),A=Zr,o=[1,1],i=null;return e.separation=function(n){return arguments.length?(A=n,e):A},e.size=function(n){return arguments.length?(i=null==(o=n)?r:null,e):i?null:o},e.nodeSize=function(n){return arguments.length?(i=null==(o=n)?null:r,e):i?o:null},Lr(e,a)},AA.layout.cluster=function(){function e(e,A){var o,i=n.call(this,e,A),s=i[0],c=0;Qr(s,function(e){var n=e.children;n&&n.length?(e.x=function(e){return e.reduce(function(e,n){return e+n.x},0)/e.length}(n),e.y=function(e){return 1+AA.max(e,function(e){return e.y})}(n)):(e.x=o?c+=t(e,o):0,e.y=0,o=e)});var l=function e(n){var t=n.children;return t&&t.length?e(t[0]):n}(s),u=function e(n){var t,r=n.children;return r&&(t=r.length)?e(r[t-1]):n}(s),d=l.x-t(l,u)/2,_=u.x+t(u,l)/2;return Qr(s,a?function(e){e.x=(e.x-s.x)*r[0],e.y=(s.y-e.y)*r[1]}:function(e){e.x=(e.x-d)/(_-d)*r[0],e.y=(1-(s.y?e.y/s.y:1))*r[1]}),i}var n=AA.layout.hierarchy().sort(null).value(null),t=Zr,r=[1,1],a=!1;return e.separation=function(n){return arguments.length?(t=n,e):t},e.size=function(n){return arguments.length?(a=null==(r=n),e):a?null:r},e.nodeSize=function(n){return arguments.length?(a=null!=(r=n),e):a?r:null},Lr(e,n)},AA.layout.treemap=function(){function e(e,n){for(var t,r,a=-1,A=e.length;++a<A;)r=(t=e[a]).value*(0>n?0:n),t.area=isNaN(r)||0>=r?0:r}function n(t){var A=t.children;if(A&&A.length){var o,i,s,c=u(t),l=[],d=A.slice(),p=1/0,f="slice"===_?c.dx:"dice"===_?c.dy:"slice-dice"===_?1&t.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(d,c.dx*c.dy/t.value),l.area=0;(s=d.length)>0;)l.push(o=d[s-1]),l.area+=o.area,"squarify"!==_||(i=r(l,f))<=p?(d.pop(),p=i):(l.area-=l.pop().area,a(l,f,c,!1),f=Math.min(c.dx,c.dy),l.length=l.area=0,p=1/0);l.length&&(a(l,f,c,!0),l.length=l.area=0),A.forEach(n)}}function t(n){var r=n.children;if(r&&r.length){var A,o=u(n),i=r.slice(),s=[];for(e(i,o.dx*o.dy/n.value),s.area=0;A=i.pop();)s.push(A),s.area+=A.area,null!=A.z&&(a(s,A.z?o.dx:o.dy,o,!i.length),s.length=s.area=0);r.forEach(t)}}function r(e,n){for(var t,r=e.area,a=0,A=1/0,o=-1,i=e.length;++o<i;)(t=e[o].area)&&(A>t&&(A=t),t>a&&(a=t));return n*=n,(r*=r)?Math.max(n*a*p/r,r/(n*A*p)):1/0}function a(e,n,t,r){var a,A=-1,o=e.length,i=t.x,c=t.y,l=n?s(e.area/n):0;if(n==t.dx){for((r||l>t.dy)&&(l=t.dy);++A<o;)(a=e[A]).x=i,a.y=c,a.dy=l,i+=a.dx=Math.min(t.x+t.dx-i,l?s(a.area/l):0);a.z=!0,a.dx+=t.x+t.dx-i,t.y+=l,t.dy-=l}else{for((r||l>t.dx)&&(l=t.dx);++A<o;)(a=e[A]).x=i,a.y=c,a.dx=l,c+=a.dy=Math.min(t.y+t.dy-c,l?s(a.area/l):0);a.z=!1,a.dy+=t.y+t.dy-c,t.x+=l,t.dx-=l}}function A(r){var a=o||i(r),A=a[0];return A.x=A.y=0,A.value?(A.dx=c[0],A.dy=c[1]):A.dx=A.dy=0,o&&i.revalue(A),e([A],A.dx*A.dy/A.value),(o?t:n)(A),d&&(o=a),a}var o,i=AA.layout.hierarchy(),s=Math.round,c=[1,1],l=null,u=aa,d=!1,_="squarify",p=.5*(1+Math.sqrt(5));return A.size=function(e){return arguments.length?(c=e,A):c},A.padding=function(e){function n(n){return Aa(n,e)}return arguments.length?(u=null==(l=e)?aa:"function"==(t=typeof e)?function(n){var t=e.call(A,n,n.depth);return null==t?aa(n):Aa(n,"number"==typeof t?[t,t,t,t]:t)}:"number"===t?(e=[e,e,e,e],n):n,A):l;var t},A.round=function(e){return arguments.length?(s=e?Math.round:Number,A):s!=Number},A.sticky=function(e){return arguments.length?(d=e,o=null,A):d},A.ratio=function(e){return arguments.length?(p=e,A):p},A.mode=function(e){return arguments.length?(_=e+"",A):_},Lr(A,i)},AA.random={normal:function(e,n){var t=arguments.length;return 2>t&&(n=1),1>t&&(e=0),function(){var t,r,a;do{a=(t=2*Math.random()-1)*t+(r=2*Math.random()-1)*r}while(!a||a>1);return e+n*t*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var e=AA.random.normal.apply(AA,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=AA.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(e){return function(){for(var n=0,t=0;e>t;t++)n+=Math.random();return n}}},AA.scale={};var Bi={floor:v,ceil:v};AA.scale.linear=function(){return function e(n,t,r,a){function A(){var e=Math.min(n.length,t.length)>2?ua:sa,A=a?Er:mr;return i=e(n,t,A,r),s=e(t,n,A,tr),o}function o(e){return i(e)}var i,s;return o.invert=function(e){return s(e)},o.domain=function(e){return arguments.length?(n=e.map(Number),A()):n},o.range=function(e){return arguments.length?(t=e,A()):t},o.rangeRound=function(e){return o.range(e).interpolate(_r)},o.clamp=function(e){return arguments.length?(a=e,A()):a},o.interpolate=function(e){return arguments.length?(r=e,A()):r},o.ticks=function(e){return fa(n,e)},o.tickFormat=function(e,t){return ha(n,e,t)},o.nice=function(e){return _a(n,e),A()},o.copy=function(){return e(n,t,r,a)},A()}([0,1],[0,1],tr,!1)};var mi={s:1,g:1,p:1,r:1,e:1};AA.scale.log=function(){return function e(n,t,r,a){function A(e){return(r?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return r?Math.pow(t,e):-Math.pow(t,-e)}function i(e){return n(A(e))}return i.invert=function(e){return o(n.invert(e))},i.domain=function(e){return arguments.length?(r=e[0]>=0,n.domain((a=e.map(Number)).map(A)),i):a},i.base=function(e){return arguments.length?(t=+e,n.domain(a.map(A)),i):t},i.nice=function(){var e=ca(a.map(A),r?Math:bi);return n.domain(e),a=e.map(o),i},i.ticks=function(){var e=oa(a),n=[],i=e[0],s=e[1],c=Math.floor(A(i)),l=Math.ceil(A(s)),u=t%1?2:t;if(isFinite(l-c)){if(r){for(;l>c;c++)for(var d=1;u>d;d++)n.push(o(c)*d);n.push(o(c))}else for(n.push(o(c));c++<l;)for(d=u-1;d>0;d--)n.push(o(c)*d);for(c=0;n[c]<i;c++);for(l=n.length;n[l-1]>s;l--);n=n.slice(c,l)}return n},i.tickFormat=function(e,n){if(!arguments.length)return Ei;arguments.length<2?n=Ei:"function"!=typeof n&&(n=AA.format(n));var r=Math.max(1,t*e/i.ticks().length);return function(e){var a=e/o(Math.round(A(e)));return t-.5>a*t&&(a*=t),r>=a?n(e):""}},i.copy=function(){return e(n.copy(),t,r,a)},da(i,n)}(AA.scale.linear().domain([0,1]),10,!0,[1,10])};var Ei=AA.format(".0e"),bi={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};AA.scale.pow=function(){return function e(n,t,r){function a(e){return n(A(e))}var A=Ba(t),o=Ba(1/t);return a.invert=function(e){return o(n.invert(e))},a.domain=function(e){return arguments.length?(n.domain((r=e.map(Number)).map(A)),a):r},a.ticks=function(e){return fa(r,e)},a.tickFormat=function(e,n){return ha(r,e,n)},a.nice=function(e){return a.domain(_a(r,e))},a.exponent=function(e){return arguments.length?(A=Ba(t=e),o=Ba(1/t),n.domain(r.map(A)),a):t},a.copy=function(){return e(n.copy(),t,r)},da(a,n)}(AA.scale.linear(),1,[0,1])},AA.scale.sqrt=function(){return AA.scale.pow().exponent(.5)},AA.scale.ordinal=function(){return function e(n,t){function r(e){return o[((A.get(e)||("range"===t.t?A.set(e,n.push(e)):NaN))-1)%o.length]}function a(e,t){return AA.range(n.length).map(function(n){return e+t*n})}var A,o,i;return r.domain=function(e){if(!arguments.length)return n;n=[],A=new _;for(var a,o=-1,i=e.length;++o<i;)A.has(a=e[o])||A.set(a,n.push(a));return r[t.t].apply(r,t.a)},r.range=function(e){return arguments.length?(o=e,i=0,t={t:"range",a:arguments},r):o},r.rangePoints=function(e,A){arguments.length<2&&(A=0);var s=e[0],c=e[1],l=n.length<2?(s=(s+c)/2,0):(c-s)/(n.length-1+A);return o=a(s+l*A/2,l),i=0,t={t:"rangePoints",a:arguments},r},r.rangeRoundPoints=function(e,A){arguments.length<2&&(A=0);var s=e[0],c=e[1],l=n.length<2?(s=c=Math.round((s+c)/2),0):(c-s)/(n.length-1+A)|0;return o=a(s+Math.round(l*A/2+(c-s-(n.length-1+A)*l)/2),l),i=0,t={t:"rangeRoundPoints",a:arguments},r},r.rangeBands=function(e,A,s){arguments.length<2&&(A=0),arguments.length<3&&(s=A);var c=e[1]<e[0],l=e[c-0],u=(e[1-c]-l)/(n.length-A+2*s);return o=a(l+u*s,u),c&&o.reverse(),i=u*(1-A),t={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(e,A,s){arguments.length<2&&(A=0),arguments.length<3&&(s=A);var c=e[1]<e[0],l=e[c-0],u=e[1-c],d=Math.floor((u-l)/(n.length-A+2*s));return o=a(l+Math.round((u-l-(n.length-A)*d)/2),d),c&&o.reverse(),i=Math.round(d*(1-A)),t={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return i},r.rangeExtent=function(){return oa(t.a[0])},r.copy=function(){return e(n,t)},r.domain(n)}([],{t:"range",a:[[]]})},AA.scale.category10=function(){return AA.scale.ordinal().range(vi)},AA.scale.category20=function(){return AA.scale.ordinal().range(wi)},AA.scale.category20b=function(){return AA.scale.ordinal().range(yi)},AA.scale.category20c=function(){return AA.scale.ordinal().range(Ci)};var vi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ee),wi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ee),yi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ee),Ci=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ee);AA.scale.quantile=function(){return function e(n,t){function r(){var e=0,r=t.length;for(A=[];++e<r;)A[e-1]=AA.quantile(n,e/r);return a}function a(e){return isNaN(e=+e)?void 0:t[AA.bisect(A,e)]}var A;return a.domain=function(e){return arguments.length?(n=e.map(s).filter(c).sort(i),r()):n},a.range=function(e){return arguments.length?(t=e,r()):t},a.quantiles=function(){return A},a.invertExtent=function(e){return 0>(e=t.indexOf(e))?[NaN,NaN]:[e>0?A[e-1]:n[0],e<A.length?A[e]:n[n.length-1]]},a.copy=function(){return e(n,t)},r()}([],[])},AA.scale.quantize=function(){return function e(n,t,r){function a(e){return r[Math.max(0,Math.min(i,Math.floor(o*(e-n))))]}function A(){return o=r.length/(t-n),i=r.length-1,a}var o,i;return a.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],A()):[n,t]},a.range=function(e){return arguments.length?(r=e,A()):r},a.invertExtent=function(e){return[e=0>(e=r.indexOf(e))?NaN:e/o+n,e+1/o]},a.copy=function(){return e(n,t,r)},A()}(0,1,[0,1])},AA.scale.threshold=function(){return function e(n,t){function r(e){return e>=e?t[AA.bisect(n,e)]:void 0}return r.domain=function(e){return arguments.length?(n=e,r):n},r.range=function(e){return arguments.length?(t=e,r):t},r.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},r.copy=function(){return e(n,t)},r}([.5],[0,1])},AA.scale.identity=function(){return function e(n){function t(e){return+e}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(e){return fa(n,e)},t.tickFormat=function(e,t){return ha(n,e,t)},t.copy=function(){return e(n)},t}([0,1])},AA.svg={},AA.svg.arc=function(){function e(){var e=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),l=o.apply(this,arguments)-kA,u=i.apply(this,arguments)-kA,d=Math.abs(u-l),_=l>u?0:1;if(e>c&&(p=c,c=e,e=p),d>=DA)return n(c,_)+(e?n(e,1-_):"")+"Z";var p,f,h,g,B,m,E,b,v,w,y,C,U=0,L=0,x=[];if((g=(+s.apply(this,arguments)||0)/2)&&(h=A===Ui?Math.sqrt(e*e+c*c):+A.apply(this,arguments),_||(L*=-1),c&&(L=ae(h/c*Math.sin(g))),e&&(U=ae(h/e*Math.sin(g)))),c){B=c*Math.cos(l+L),m=c*Math.sin(l+L),E=c*Math.cos(u-L),b=c*Math.sin(u-L);var Q=Math.abs(u-l-2*L)<=IA?0:1;if(L&&Ca(B,m,E,b)===_^Q){var T=(l+u)/2;B=c*Math.cos(T),m=c*Math.sin(T),E=b=null}}else B=m=0;if(e){v=e*Math.cos(u-U),w=e*Math.sin(u-U),y=e*Math.cos(l+U),C=e*Math.sin(l+U);var F=Math.abs(l-u+2*U)<=IA?0:1;if(U&&Ca(v,w,y,C)===1-_^F){var P=(l+u)/2;v=e*Math.cos(P),w=e*Math.sin(P),y=C=null}}else v=w=0;if(d>PA&&(p=Math.min(Math.abs(c-e)/2,+a.apply(this,arguments)))>.001){f=c>e^_?0:1;var O=p,I=p;if(IA>d){var M=null==y?[v,w]:null==E?[B,m]:vt([B,m],[y,C],[E,b],[v,w]),D=B-M[0],k=m-M[1],S=E-M[0],R=b-M[1],H=1/Math.sin(Math.acos((D*S+k*R)/(Math.sqrt(D*D+k*k)*Math.sqrt(S*S+R*R)))/2),N=Math.sqrt(M[0]*M[0]+M[1]*M[1]);I=Math.min(p,(e-N)/(H-1)),O=Math.min(p,(c-N)/(H+1))}if(null!=E){var K=Ua(null==y?[v,w]:[y,C],[B,m],c,O,_),W=Ua([E,b],[v,w],c,O,_);p===O?x.push("M",K[0],"A",O,",",O," 0 0,",f," ",K[1],"A",c,",",c," 0 ",1-_^Ca(K[1][0],K[1][1],W[1][0],W[1][1]),",",_," ",W[1],"A",O,",",O," 0 0,",f," ",W[0]):x.push("M",K[0],"A",O,",",O," 0 1,",f," ",W[0])}else x.push("M",B,",",m);if(null!=y){var z=Ua([B,m],[y,C],e,-I,_),V=Ua([v,w],null==E?[B,m]:[E,b],e,-I,_);p===I?x.push("L",V[0],"A",I,",",I," 0 0,",f," ",V[1],"A",e,",",e," 0 ",_^Ca(V[1][0],V[1][1],z[1][0],z[1][1]),",",1-_," ",z[1],"A",I,",",I," 0 0,",f," ",z[0]):x.push("L",V[0],"A",I,",",I," 0 0,",f," ",z[0])}else x.push("L",v,",",w)}else x.push("M",B,",",m),null!=E&&x.push("A",c,",",c," 0 ",Q,",",_," ",E,",",b),x.push("L",v,",",w),null!=y&&x.push("A",e,",",e," 0 ",F,",",1-_," ",y,",",C);return x.push("Z"),x.join("")}function n(e,n){return"M0,"+e+"A"+e+","+e+" 0 1,"+n+" 0,"+-e+"A"+e+","+e+" 0 1,"+n+" 0,"+e}var t=Ea,r=ba,a=ma,A=Ui,o=va,i=wa,s=ya;return e.innerRadius=function(n){return arguments.length?(t=Le(n),e):t},e.outerRadius=function(n){return arguments.length?(r=Le(n),e):r},e.cornerRadius=function(n){return arguments.length?(a=Le(n),e):a},e.padRadius=function(n){return arguments.length?(A=n==Ui?Ui:Le(n),e):A},e.startAngle=function(n){return arguments.length?(o=Le(n),e):o},e.endAngle=function(n){return arguments.length?(i=Le(n),e):i},e.padAngle=function(n){return arguments.length?(s=Le(n),e):s},e.centroid=function(){var e=(+t.apply(this,arguments)+ +r.apply(this,arguments))/2,n=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-kA;return[Math.cos(n)*e,Math.sin(n)*e]},e};var Ui="auto";AA.svg.line=function(){return La(v)};var Li=AA.map({linear:xa,"linear-closed":Qa,step:function(e){for(var n=0,t=e.length,r=e[0],a=[r[0],",",r[1]];++n<t;)a.push("H",(r[0]+(r=e[n])[0])/2,"V",r[1]);return t>1&&a.push("H",r[0]),a.join("")},"step-before":Ta,"step-after":Fa,basis:Ia,"basis-open":function(e){if(e.length<4)return xa(e);for(var n,t=[],r=-1,a=e.length,A=[0],o=[0];++r<3;)n=e[r],A.push(n[0]),o.push(n[1]);for(t.push(Ma(Ti,A)+","+Ma(Ti,o)),--r;++r<a;)n=e[r],A.shift(),A.push(n[0]),o.shift(),o.push(n[1]),Da(t,A,o);return t.join("")},"basis-closed":function(e){for(var n,t,r=-1,a=e.length,A=a+4,o=[],i=[];++r<4;)t=e[r%a],o.push(t[0]),i.push(t[1]);for(n=[Ma(Ti,o),",",Ma(Ti,i)],--r;++r<A;)t=e[r%a],o.shift(),o.push(t[0]),i.shift(),i.push(t[1]),Da(n,o,i);return n.join("")},bundle:function(e,n){var t=e.length-1;if(t)for(var r,a,A=e[0][0],o=e[0][1],i=e[t][0]-A,s=e[t][1]-o,c=-1;++c<=t;)a=c/t,(r=e[c])[0]=n*r[0]+(1-n)*(A+a*i),r[1]=n*r[1]+(1-n)*(o+a*s);return Ia(e)},cardinal:function(e,n){return e.length<3?xa(e):e[0]+Pa(e,Oa(e,n))},"cardinal-open":function(e,n){return e.length<4?xa(e):e[1]+Pa(e.slice(1,-1),Oa(e,n))},"cardinal-closed":function(e,n){return e.length<3?Qa(e):e[0]+Pa((e.push(e[0]),e),Oa([e[e.length-2]].concat(e,[e[1]]),n))},monotone:function(e){return e.length<3?xa(e):e[0]+Pa(e,Sa(e))}});Li.forEach(function(e,n){n.key=e,n.closed=/-closed$/.test(e)});var xi=[0,2/3,1/3,0],Qi=[0,1/3,2/3,0],Ti=[0,1/6,2/3,1/6];AA.svg.line.radial=function(){var e=La(Ra);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ta.reverse=Fa,Fa.reverse=Ta,AA.svg.area=function(){return Ha(v)},AA.svg.area.radial=function(){var e=Ha(Ra);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},AA.svg.chord=function(){function e(e,o){var i=n(this,a,e,o),s=n(this,A,e,o);return"M"+i.p0+t(i.r,i.p1,i.a1-i.a0)+(function(e,n){return e.a0==n.a0&&e.a1==n.a1}(i,s)?r(i.r,i.p1,i.r,i.p0):r(i.r,i.p1,s.r,s.p0)+t(s.r,s.p1,s.a1-s.a0)+r(s.r,s.p1,i.r,i.p0))+"Z"}function n(e,n,t,r){var a=n.call(e,t,r),A=o.call(e,a,r),c=i.call(e,a,r)-kA,l=s.call(e,a,r)-kA;return{r:A,a0:c,a1:l,p0:[A*Math.cos(c),A*Math.sin(c)],p1:[A*Math.cos(l),A*Math.sin(l)]}}function t(e,n,t){return"A"+e+","+e+" 0 "+ +(t>IA)+",1 "+n}function r(e,n,t,r){return"Q 0,0 "+r}var a=ct,A=lt,o=Na,i=va,s=wa;return e.radius=function(n){return arguments.length?(o=Le(n),e):o},e.source=function(n){return arguments.length?(a=Le(n),e):a},e.target=function(n){return arguments.length?(A=Le(n),e):A},e.startAngle=function(n){return arguments.length?(i=Le(n),e):i},e.endAngle=function(n){return arguments.length?(s=Le(n),e):s},e},AA.svg.diagonal=function(){function e(e,a){var A=n.call(this,e,a),o=t.call(this,e,a),i=(A.y+o.y)/2,s=[A,{x:A.x,y:i},{x:o.x,y:i},o];return"M"+(s=s.map(r))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var n=ct,t=lt,r=Ka;return e.source=function(t){return arguments.length?(n=Le(t),e):n},e.target=function(n){return arguments.length?(t=Le(n),e):t},e.projection=function(n){return arguments.length?(r=n,e):r},e},AA.svg.diagonal.radial=function(){var e=AA.svg.diagonal(),n=Ka,t=e.projection;return e.projection=function(e){return arguments.length?t(function(e){return function(){var n=e.apply(this,arguments),t=n[0],r=n[1]-kA;return[t*Math.cos(r),t*Math.sin(r)]}}(n=e)):n},e},AA.svg.symbol=function(){function e(e,r){return(Fi.get(n.call(this,e,r))||Va)(t.call(this,e,r))}var n=za,t=Wa;return e.type=function(t){return arguments.length?(n=Le(t),e):n},e.size=function(n){return arguments.length?(t=Le(n),e):t},e};var Fi=AA.map({circle:Va,cross:function(e){var n=Math.sqrt(e/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(e){var n=Math.sqrt(e/(2*Oi)),t=n*Oi;return"M0,"+-n+"L"+t+",0 0,"+n+" "+-t+",0Z"},square:function(e){var n=Math.sqrt(e)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(e){var n=Math.sqrt(e/Pi),t=n*Pi/2;return"M0,"+t+"L"+n+","+-t+" "+-n+","+-t+"Z"},"triangle-up":function(e){var n=Math.sqrt(e/Pi),t=n*Pi/2;return"M0,"+-t+"L"+n+","+t+" "+-n+","+t+"Z"}});AA.svg.symbolTypes=Fi.keys();var Pi=Math.sqrt(3),Oi=Math.tan(30*SA);yA.transition=function(e){for(var n,t,r=Ii||++Si,a=qa(e),A=[],o=Mi||{time:Date.now(),ease:sr,delay:0,duration:250},i=-1,s=this.length;++i<s;){A.push(n=[]);for(var c=this[i],l=-1,u=c.length;++l<u;)(t=c[l])&&Ja(t,l,a,r,o),n.push(t)}return Ga(A,a,r)},yA.interrupt=function(e){return this.each(null==e?Di:ja(qa(e)))};var Ii,Mi,Di=ja(qa()),ki=[],Si=0;ki.call=yA.call,ki.empty=yA.empty,ki.node=yA.node,ki.size=yA.size,AA.transition=function(e,n){return e&&e.transition?Ii?e.transition(n):e:AA.selection().transition(e)},AA.transition.prototype=ki,ki.select=function(e){var n,t,r,a=this.id,A=this.namespace,o=[];e=P(e);for(var i=-1,s=this.length;++i<s;){o.push(n=[]);for(var c=this[i],l=-1,u=c.length;++l<u;)(r=c[l])&&(t=e.call(r,r.__data__,l,i))?("__data__"in r&&(t.__data__=r.__data__),Ja(t,l,A,a,r[A][a]),n.push(t)):n.push(null)}return Ga(o,A,a)},ki.selectAll=function(e){var n,t,r,a,A,o=this.id,i=this.namespace,s=[];e=O(e);for(var c=-1,l=this.length;++c<l;)for(var u=this[c],d=-1,_=u.length;++d<_;)if(r=u[d]){A=r[i][o],t=e.call(r,r.__data__,d,c),s.push(n=[]);for(var p=-1,f=t.length;++p<f;)(a=t[p])&&Ja(a,p,i,o,A),n.push(a)}return Ga(s,i,o)},ki.filter=function(e){var n,t,r=[];"function"!=typeof e&&(e=V(e));for(var a=0,A=this.length;A>a;a++){r.push(n=[]);for(var o,i=0,s=(o=this[a]).length;s>i;i++)(t=o[i])&&e.call(t,t.__data__,i,a)&&n.push(t)}return Ga(r,this.namespace,this.id)},ki.tween=function(e,n){var t=this.id,r=this.namespace;return arguments.length<2?this.node()[r][t].tween.get(e):G(this,null==n?function(n){n[r][t].tween.remove(e)}:function(a){a[r][t].tween.set(e,n)})},ki.attr=function(e,n){function t(){this.removeAttribute(A)}function r(){this.removeAttributeNS(A.space,A.local)}if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var a="transform"==e?Br:tr,A=AA.ns.qualify(e);return Ya(this,"attr."+e,n,A.local?function(e){return null==e?r:(e+="",function(){var n,t=this.getAttributeNS(A.space,A.local);return t!==e&&(n=a(t,e),function(e){this.setAttributeNS(A.space,A.local,n(e))})})}:function(e){return null==e?t:(e+="",function(){var n,t=this.getAttribute(A);return t!==e&&(n=a(t,e),function(e){this.setAttribute(A,n(e))})})})},ki.attrTween=function(e,n){var t=AA.ns.qualify(e);return this.tween("attr."+e,t.local?function(e,r){var a=n.call(this,e,r,this.getAttributeNS(t.space,t.local));return a&&function(e){this.setAttributeNS(t.space,t.local,a(e))}}:function(e,r){var a=n.call(this,e,r,this.getAttribute(t));return a&&function(e){this.setAttribute(t,a(e))}})},ki.style=function(e,n,t){function r(){this.style.removeProperty(e)}var a=arguments.length;if(3>a){if("string"!=typeof e){for(t in 2>a&&(n=""),e)this.style(t,e[t],n);return this}t=""}return Ya(this,"style."+e,n,function(n){return null==n?r:(n+="",function(){var r,a=o(this).getComputedStyle(this,null).getPropertyValue(e);return a!==n&&(r=tr(a,n),function(n){this.style.setProperty(e,r(n),t)})})})},ki.styleTween=function(e,n,t){return arguments.length<3&&(t=""),this.tween("style."+e,function(r,a){var A=n.call(this,r,a,o(this).getComputedStyle(this,null).getPropertyValue(e));return A&&function(n){this.style.setProperty(e,A(n),t)}})},ki.text=function(e){return Ya(this,"text",e,Xa)},ki.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var n;this[e].count<2&&(n=this.parentNode)&&n.removeChild(this)})},ki.ease=function(e){var n=this.id,t=this.namespace;return arguments.length<1?this.node()[t][n].ease:("function"!=typeof e&&(e=AA.ease.apply(AA,arguments)),G(this,function(r){r[t][n].ease=e}))},ki.delay=function(e){var n=this.id,t=this.namespace;return arguments.length<1?this.node()[t][n].delay:G(this,"function"==typeof e?function(r,a,A){r[t][n].delay=+e.call(r,r.__data__,a,A)}:(e=+e,function(r){r[t][n].delay=e}))},ki.duration=function(e){var n=this.id,t=this.namespace;return arguments.length<1?this.node()[t][n].duration:G(this,"function"==typeof e?function(r,a,A){r[t][n].duration=Math.max(1,e.call(r,r.__data__,a,A))}:(e=Math.max(1,e),function(r){r[t][n].duration=e}))},ki.each=function(e,n){var t=this.id,r=this.namespace;if(arguments.length<2){var a=Mi,A=Ii;try{Ii=t,G(this,function(n,a,A){Mi=n[r][t],e.call(n,n.__data__,a,A)})}finally{Mi=a,Ii=A}}else G(this,function(a){var A=a[r][t];(A.event||(A.event=AA.dispatch("start","end","interrupt"))).on(e,n)});return this},ki.transition=function(){for(var e,n,t,r=this.id,a=++Si,A=this.namespace,o=[],i=0,s=this.length;s>i;i++){o.push(e=[]);for(var c,l=0,u=(c=this[i]).length;u>l;l++)(n=c[l])&&Ja(n,l,A,a,{time:(t=n[A][r]).time,ease:t.ease,delay:t.delay+t.duration,duration:t.duration}),e.push(n)}return Ga(o,A,a)},AA.svg.axis=function(){function e(e){e.each(function(){var e,c=AA.select(this),l=this.__chart__||t,u=this.__chart__=t.copy(),d=null==s?u.ticks?u.ticks.apply(u,i):u.domain():s,_=null==n?u.tickFormat?u.tickFormat.apply(u,i):v:n,p=c.selectAll(".tick").data(d,u),f=p.enter().insert("g",".domain").attr("class","tick").style("opacity",PA),h=AA.transition(p.exit()).style("opacity",PA).remove(),g=AA.transition(p.order()).style("opacity",1),B=Math.max(a,0)+o,m=ia(u),E=c.selectAll(".domain").data([0]),b=(E.enter().append("path").attr("class","domain"),AA.transition(E));f.append("line"),f.append("text");var w,y,C,U,L=f.select("line"),x=g.select("line"),Q=p.select("text").text(_),T=f.select("text"),F=g.select("text"),P="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=$a,w="x",C="y",y="x2",U="y2",Q.attr("dy",0>P?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+m[0]+","+P*A+"V0H"+m[1]+"V"+P*A)):(e=Za,w="y",C="x",y="y2",U="x2",Q.attr("dy",".32em").style("text-anchor",0>P?"end":"start"),b.attr("d","M"+P*A+","+m[0]+"H0V"+m[1]+"H"+P*A)),L.attr(U,P*a),T.attr(C,P*B),x.attr(y,0).attr(U,P*a),F.attr(w,0).attr(C,P*B),u.rangeBand){var O=u,I=O.rangeBand()/2;l=u=function(e){return O(e)+I}}else l.rangeBand?l=u:h.call(e,u,l);f.call(e,l,u),g.call(e,u,u)})}var n,t=AA.scale.linear(),r=Ri,a=6,A=6,o=3,i=[10],s=null;return e.scale=function(n){return arguments.length?(t=n,e):t},e.orient=function(n){return arguments.length?(r=n in Hi?n+"":Ri,e):r},e.ticks=function(){return arguments.length?(i=iA(arguments),e):i},e.tickValues=function(n){return arguments.length?(s=n,e):s},e.tickFormat=function(t){return arguments.length?(n=t,e):n},e.tickSize=function(n){var t=arguments.length;return t?(a=+n,A=+arguments[t-1],e):a},e.innerTickSize=function(n){return arguments.length?(a=+n,e):a},e.outerTickSize=function(n){return arguments.length?(A=+n,e):A},e.tickPadding=function(n){return arguments.length?(o=+n,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Ri="bottom",Hi={top:1,right:1,bottom:1,left:1};AA.svg.brush=function(){function e(A){A.each(function(){var A=AA.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=A.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),A.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var i=A.selectAll(".resize").data(f,v);i.exit().remove(),i.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ni[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),i.style("display",e.empty()?"none":null);var s,u=AA.transition(A),d=AA.transition(o);c&&(s=ia(c),d.attr("x",s[0]).attr("width",s[1]-s[0]),t(u)),l&&(s=ia(l),d.attr("y",s[0]).attr("height",s[1]-s[0]),r(u)),n(u)})}function n(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+u[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function t(e){e.select(".extent").attr("x",u[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function r(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function a(){function a(){var e=AA.mouse(m),a=!1;B&&(e[0]+=B[0],e[1]+=B[1]),U||(AA.event.altKey?(g||(g=[(u[0]+u[1])/2,(d[0]+d[1])/2]),Q[0]=u[+(e[0]<g[0])],Q[1]=d[+(e[1]<g[1])]):g=null),y&&f(e,c,0)&&(t(v),a=!0),C&&f(e,l,1)&&(r(v),a=!0),a&&(n(v),b({type:"brush",mode:U?"move":"resize"}))}function f(e,n,t){var r,a,o=ia(n),s=o[0],c=o[1],l=Q[t],f=t?d:u,h=f[1]-f[0];return U&&(s-=l,c-=h+l),r=(t?p:_)?Math.max(s,Math.min(c,e[t])):e[t],U?a=(r+=l)+h:(g&&(l=Math.max(s,Math.min(c,2*g[t]-r))),r>l?(a=r,r=l):a=l),f[0]!=r||f[1]!=a?(t?i=null:A=null,f[0]=r,f[1]=a,!0):void 0}function h(){a(),v.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),AA.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L(),b({type:"brushend"})}var g,B,m=this,E=AA.select(AA.event.target),b=s.of(m,arguments),v=AA.select(m),w=E.datum(),y=!/^(n|s)$/.test(w)&&c,C=!/^(e|w)$/.test(w)&&l,U=E.classed("extent"),L=$(m),Q=AA.mouse(m),T=AA.select(o(m)).on("keydown.brush",function(){32==AA.event.keyCode&&(U||(g=null,Q[0]-=u[1],Q[1]-=d[1],U=2),x())}).on("keyup.brush",function(){32==AA.event.keyCode&&2==U&&(Q[0]+=u[1],Q[1]+=d[1],U=0,x())});if(AA.event.changedTouches?T.on("touchmove.brush",a).on("touchend.brush",h):T.on("mousemove.brush",a).on("mouseup.brush",h),v.interrupt().selectAll("*").interrupt(),U)Q[0]=u[0]-Q[0],Q[1]=d[0]-Q[1];else if(w){var F=+/w$/.test(w),P=+/^n/.test(w);B=[u[1-F]-Q[0],d[1-P]-Q[1]],Q[0]=u[F],Q[1]=d[P]}else AA.event.altKey&&(g=Q.slice());v.style("pointer-events","none").selectAll(".resize").style("display",null),AA.select("body").style("cursor",E.style("cursor")),b({type:"brushstart"}),a()}var A,i,s=T(e,"brushstart","brush","brushend"),c=null,l=null,u=[0,0],d=[0,0],_=!0,p=!0,f=Ki[0];return e.event=function(e){e.each(function(){var e=s.of(this,arguments),n={x:u,y:d,i:A,j:i},t=this.__chart__||n;this.__chart__=n,Ii?AA.select(this).transition().each("start.brush",function(){A=t.i,i=t.j,u=t.x,d=t.y,e({type:"brushstart"})}).tween("brush:brush",function(){var t=rr(u,n.x),r=rr(d,n.y);return A=i=null,function(a){u=n.x=t(a),d=n.y=r(a),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){A=n.i,i=n.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(n){return arguments.length?(f=Ki[!(c=n)<<1|!l],e):c},e.y=function(n){return arguments.length?(f=Ki[!c<<1|!(l=n)],e):l},e.clamp=function(n){return arguments.length?(c&&l?(_=!!n[0],p=!!n[1]):c?_=!!n:l&&(p=!!n),e):c&&l?[_,p]:c?_:l?p:null},e.extent=function(n){var t,r,a,o,s;return arguments.length?(c&&(t=n[0],r=n[1],l&&(t=t[0],r=r[0]),A=[t,r],c.invert&&(t=c(t),r=c(r)),t>r&&(s=t,t=r,r=s),t==u[0]&&r==u[1]||(u=[t,r])),l&&(a=n[0],o=n[1],c&&(a=a[1],o=o[1]),i=[a,o],l.invert&&(a=l(a),o=l(o)),a>o&&(s=a,a=o,o=s),a==d[0]&&o==d[1]||(d=[a,o])),e):(c&&(A?(t=A[0],r=A[1]):(t=u[0],r=u[1],c.invert&&(t=c.invert(t),r=c.invert(r)),t>r&&(s=t,t=r,r=s))),l&&(i?(a=i[0],o=i[1]):(a=d[0],o=d[1],l.invert&&(a=l.invert(a),o=l.invert(o)),a>o&&(s=a,a=o,o=s))),c&&l?[[t,a],[r,o]]:c?[t,r]:l&&[a,o])},e.clear=function(){return e.empty()||(u=[0,0],d=[0,0],A=i=null),e},e.empty=function(){return!!c&&u[0]==u[1]||!!l&&d[0]==d[1]},AA.rebind(e,s,"on")};var Ni={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ki=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wi=io.format=po.timeFormat,zi=Wi.utc,Vi=zi("%Y-%m-%dT%H:%M:%S.%LZ");Wi.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eA:Vi,eA.parse=function(e){var n=new Date(e);return isNaN(n)?null:n},eA.toString=Vi.toString,io.second=Se(function(e){return new so(1e3*Math.floor(e/1e3))},function(e,n){e.setTime(e.getTime()+1e3*Math.floor(n))},function(e){return e.getSeconds()}),io.seconds=io.second.range,io.seconds.utc=io.second.utc.range,io.minute=Se(function(e){return new so(6e4*Math.floor(e/6e4))},function(e,n){e.setTime(e.getTime()+6e4*Math.floor(n))},function(e){return e.getMinutes()}),io.minutes=io.minute.range,io.minutes.utc=io.minute.utc.range,io.hour=Se(function(e){var n=e.getTimezoneOffset()/60;return new so(36e5*(Math.floor(e/36e5-n)+n))},function(e,n){e.setTime(e.getTime()+36e5*Math.floor(n))},function(e){return e.getHours()}),io.hours=io.hour.range,io.hours.utc=io.hour.utc.range,io.month=Se(function(e){return(e=io.day(e)).setDate(1),e},function(e,n){e.setMonth(e.getMonth()+n)},function(e){return e.getMonth()}),io.months=io.month.range,io.months.utc=io.month.utc.range;var ji=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gi=[[io.second,1],[io.second,5],[io.second,15],[io.second,30],[io.minute,1],[io.minute,5],[io.minute,15],[io.minute,30],[io.hour,1],[io.hour,3],[io.hour,6],[io.hour,12],[io.day,1],[io.day,2],[io.week,1],[io.month,1],[io.month,3],[io.year,1]],Yi=Wi.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Ln]]),Xi={range:function(e,n,t){return AA.range(Math.ceil(e/t)*t,+n,t).map(tA)},floor:v,ceil:v};Gi.year=io.year,io.scale=function(){return nA(AA.scale.linear(),Gi,Yi)};var qi=Gi.map(function(e){return[e[0].utc,e[1]]}),Ji=zi.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Ln]]);qi.year=io.year.utc,io.scale.utc=function(){return nA(AA.scale.linear(),qi,Ji)},AA.text=xe(function(e){return e.responseText}),AA.json=function(e,n){return Qe(e,"application/json",rA,n)},AA.html=function(e,n){return Qe(e,"text/html",aA,n)},AA.xml=xe(function(e){return e.responseXML}),this.d3=AA,void 0===(a="function"==typeof(r=AA)?r.call(n,t,n,e):r)||(e.exports=a)}()},function(e,n,t){},function(e,n,t){(function(t){var r,a,A;a=[],void 0===(A="function"==typeof(r=function(){"use strict";var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0;function r(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){o(r.response,n,t)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var n=new XMLHttpRequest;return n.open("HEAD",e,!1),n.send(),n.status>=200&&n.status<=299}function A(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,o){var i=n.URL||n.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?a(s.href)?r(e,t,o):A(s,s.target="_blank"):A(s)):(s.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){A(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download","string"==typeof e)if(a(e))r(e,n,t);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){A(o)})}else navigator.msSaveOrOpenBlob(function(e,n){return void 0===n?n={autoBom:!1}:"object"!=typeof n&&(console.warn("Depricated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,t),n)}:function(e,t,a,A){if((A=A||open("","_blank"))&&(A.document.title=A.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,a);var o="application/octet-stream"===e.type,i=/constructor/i.test(n.HTMLElement)||n.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&i)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),A?A.location.href=e:location=e,A=null},c.readAsDataURL(e)}else{var l=n.URL||n.webkitURL,u=l.createObjectURL(e);A?A.location=u:location.href=u,A=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});n.saveAs=o.saveAs=o,e.exports=o})?r.apply(n,a):r)||(e.exports=A)}).call(this,t(5))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){var r;!function(){const t=n||{}||this||window;void 0===(r=(()=>t).apply(n,[]))||(e.exports=r),t.default=t;const a="http://www.w3.org/2000/xmlns/",A="http://www.w3.org/2000/svg",o=/url\(["']?(.+?)["']?\)/,i={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},s=e=>e instanceof HTMLElement||e instanceof SVGElement,c=e=>{if(!s(e))throw new Error(`an HTMLElement or SVGElement is required; got ${e}`)},l=e=>new Promise((n,t)=>{s(e)?n(e):t(new Error(`an HTMLElement or SVGElement is required; got ${e}`))}),u=e=>{const n=Object.keys(i).filter(n=>e.indexOf(`.${n}`)>0).map(e=>i[e]);return n?n[0]:(console.error(`Unknown font format for ${e}. Fonts may not be working correctly.`),"application/octet-stream")},d=(e,n,t)=>{const r=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[t]||null!==n.getAttribute(t)&&!n.getAttribute(t).match(/%$/)&&parseInt(n.getAttribute(t))||e.getBoundingClientRect()[t]||parseInt(n.style[t])||parseInt(window.getComputedStyle(e).getPropertyValue(t));return null==r||isNaN(parseFloat(r))?0:r},_=e=>{const n=window.atob(e.split(",")[1]),t=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let e=0;e<n.length;e++)a[e]=n.charCodeAt(e);return new Blob([r],{type:t})},p=e=>Promise.all(Array.from(e.querySelectorAll("image")).map(e=>{let n=e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("href");return n?((e=>e&&0===e.lastIndexOf("http",0)&&-1===e.lastIndexOf(window.location.host))(n)&&(n+=(-1===n.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise((t,r)=>{const a=document.createElement("canvas"),A=new Image;A.crossOrigin="anonymous",A.src=n,A.onerror=(()=>r(new Error(`Could not load ${n}`))),A.onload=(()=>{a.width=A.width,a.height=A.height,a.getContext("2d").drawImage(A,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",a.toDataURL("image/png")),t(!0)})})):Promise.resolve(null)})),f={},h=e=>Promise.all(e.map(e=>new Promise((n,t)=>{if(f[e.url])return n(f[e.url]);const r=new XMLHttpRequest;r.addEventListener("load",()=>{const t=(e=>{let n="";const t=new Uint8Array(e);for(let e=0;e<t.byteLength;e++)n+=String.fromCharCode(t[e]);return window.btoa(n)})(r.response),a=e.text.replace(o,`url("data:${e.format};base64,${t}")`)+"\n";f[e.url]=a,n(a)}),r.addEventListener("error",t=>{console.warn(`Failed to load font from: ${e.url}`,t),f[e.url]=null,n(null)}),r.addEventListener("abort",t=>{console.warn(`Aborted loading font from: ${e.url}`,t),n(null)}),r.open("GET",e.url),r.responseType="arraybuffer",r.send()}))).then(e=>e.filter(e=>e).join(""));let g=null;const B=(e,n)=>{const{selectorRemap:t,modifyStyle:r,modifyCss:a,fonts:A}=n||{},i=a||((e,n)=>{return`${t?t(e):e}{${r?r(n):n}}\n`}),s=[],c=void 0===A,l=A||[];return(()=>g||(g=Array.from(document.styleSheets).map(e=>{try{return{rules:e.cssRules,href:e.href}}catch(n){return console.warn(`Stylesheet could not be loaded: ${e.href}`,n),{}}})))().forEach(({rules:n,href:t})=>{n&&Array.from(n).forEach(n=>{if(void 0!==n.style)if(((e,n)=>{if(n)try{return e.querySelector(n)||e.parentNode&&e.parentNode.querySelector(n)}catch(e){console.warn(`Invalid CSS selector "${n}"`,e)}})(e,n.selectorText))s.push(i(n.selectorText,n.style.cssText));else if(c&&n.cssText.match(/^@font-face/)){const e=((e,n)=>{const t=e.cssText.match(o),r=t&&t[1]||"";if(!r||r.match(/^data:/)||"about:blank"===r)return;const a=r.startsWith("../")?`${n}/../${r}`:r.startsWith("./")?`${n}/.${r}`:r;return{text:e.cssText,format:u(a),url:a}})(n,t);e&&l.push(e)}else s.push(n.cssText)})}),h(l).then(e=>s.join("\n")+e)};t.prepareSvg=((e,n,t)=>{c(e);const{left:r=0,top:o=0,width:i,height:s,scale:l=1,responsive:u=!1}=n||{};return p(e).then(()=>{let c=e.cloneNode(!0);c.style.backgroundColor=(n||{}).backgroundColor||e.style.backgroundColor;const{width:_,height:p}=((e,n,t,r)=>{if("svg"===e.tagName)return{width:t||d(e,n,"width"),height:r||d(e,n,"height")};if(e.getBBox){const{x:n,y:t,width:r,height:a}=e.getBBox();return{width:n+r,height:t+a}}})(e,c,i,s);if("svg"!==e.tagName){if(!e.getBBox)return void console.error("Attempted to render non-SVG element",e);{null!=c.getAttribute("transform")&&c.setAttribute("transform",c.getAttribute("transform").replace(/translate\(.*?\)/,""));const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.appendChild(c),c=e}}return c.setAttribute("version","1.1"),c.setAttribute("viewBox",[r,o,_,p].join(" ")),c.getAttribute("xmlns")||c.setAttributeNS(a,"xmlns",A),c.getAttribute("xmlns:xlink")||c.setAttributeNS(a,"xmlns:xlink","http://www.w3.org/1999/xlink"),u?(c.removeAttribute("width"),c.removeAttribute("height"),c.setAttribute("preserveAspectRatio","xMinYMin meet")):(c.setAttribute("width",_*l),c.setAttribute("height",p*l)),Array.from(c.querySelectorAll("foreignObject > *")).forEach(e=>{"svg"===e.tagName?e.setAttributeNS(a,"xmlns",A):e.getAttribute("xmlns")||e.setAttributeNS(a,"xmlns",a)}),B(e,n).then(e=>{const n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=`<![CDATA[\n${e}\n]]>`;const r=document.createElement("defs");r.appendChild(n),c.insertBefore(r,c.firstChild);const a=document.createElement("div");a.appendChild(c);const A=a.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof t)return{src:A,width:_,height:p};t(A,_,p)})})}),t.svgAsDataUri=((e,n,r)=>(c(e),t.prepareSvg(e,n).then(({src:e,width:n,height:t})=>{const a=`data:image/svg+xml;base64,${window.btoa((e=>decodeURIComponent(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,n)=>{const t=String.fromCharCode(`0x${n}`);return"%"===t?"%25":t})))('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+e))}`;return"function"==typeof r&&r(a,n,t),a}))),t.svgAsPngUri=((e,n,r)=>{c(e);const{encoderType:a="image/png",encoderOptions:A=.8,canvg:o}=n||{},i=({src:e,width:n,height:t})=>{const i=document.createElement("canvas"),s=i.getContext("2d"),c=window.devicePixelRatio||1;let l;i.width=n*c,i.height=t*c,i.style.width=`${i.width}px`,i.style.height=`${i.height}px`,s.setTransform(c,0,0,c,0,0),o?o(i,e):s.drawImage(e,0,0);try{l=i.toDataURL(a,A)}catch(e){if("undefined"!=typeof SecurityError&&e instanceof SecurityError||"SecurityError"===e.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw e}return"function"==typeof r&&r(l,i.width,i.height),Promise.resolve(l)};return o?t.prepareSvg(e,n).then(i):t.svgAsDataUri(e,n).then(e=>new Promise((n,t)=>{const r=new Image;r.onload=(()=>n(i({src:r,width:r.width,height:r.height}))),r.onerror=(()=>{t(`There was an error loading the data URI as an image on the following SVG\n${window.atob(e.slice(26))}Open the following link to see browser's diagnosis\n${e}`)}),r.src=e}))}),t.download=((e,n)=>{if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(_(n),e);else{const t=document.createElement("a");if("download"in t){t.download=e,t.style.display="none",document.body.appendChild(t);try{const e=_(n),r=URL.createObjectURL(e);t.href=r,t.onclick=(()=>requestAnimationFrame(()=>URL.revokeObjectURL(r)))}catch(e){console.error(e),console.warn("Error while getting object URL. Falling back to string URL."),t.href=n}t.click(),document.body.removeChild(t)}else window.open(n,"_temp","menubar=no,toolbar=no,status=no")}}),t.saveSvg=((e,n,r)=>l(e).then(e=>t.svgAsDataUri(e,r||{})).then(e=>t.download(n,e))),t.saveSvgAsPng=((e,n,r)=>l(e).then(e=>t.svgAsPngUri(e,r||{})).then(e=>t.download(n,e)))}()},function(e,n,t){"use strict";t.r(n);t(2),t(3),t(4),t(6);class r{constructor(e){this._mapController=e}onAdd(e){this._map=e,this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl mapboxgl-ctrl-group",this._snapshotButton=this.buildSnapshotButton(),this._toggleButton=this.buildToggleButton(),this._helpButton=this.buildHelpButton(),this._exportButton=this.buildExportSchemaButton(),this._layersButton=this.buildLayersButton(),this._popupsButton=this.buildPopupsButton(),this._maskButton=this.buildMaskButton(),this._boundaryButton=this.buildBoundaryButton(),this._labelsButton=this.buildLabelsButton(),this._layerDiv=document.createElement("div"),this._layerDiv.classList.add("mapboxgl-ctrl-group"),this._layerDiv.classList.add("sub-group"),this._layerDiv.classList.add("collapsed");var n=document.createElement("div");n.classList.add("mapboxgl-popup-tip"),n.classList.add("ctrl"),this._layerDiv.appendChild(n),this._layerDiv.appendChild(this.buildLabel("popup")),this._layerDiv.appendChild(this._popupsButton),this._layerDiv.appendChild(this.buildLabel("boundary")),this._layerDiv.appendChild(this._boundaryButton),this._layerDiv.appendChild(this.buildLabel("mask")),this._layerDiv.appendChild(this._maskButton),this._layerDiv.appendChild(this.buildLabel("labels")),this._layerDiv.appendChild(this._labelsButton),this._cameraButton=this.buildCameraButton(),this._cameraLabel=this.buildLabel(),this._saveButton=this.buildSaveCameraButton(),this._deleteButton=this.buildDeleteCameraButton(),this._nextButton=this.buildNextCameraButton(),this._iterDiv=document.createElement("div"),this._iterDiv.classList.add("mapboxgl-ctrl-group"),this._iterDiv.classList.add("sub-group"),this._iterDiv.classList.add("collapsed");var t=document.createElement("div");return t.classList.add("mapboxgl-popup-tip"),t.classList.add("ctrl"),this._iterDiv.appendChild(t),this._iterDiv.appendChild(this._cameraLabel),this._iterDiv.appendChild(this._nextButton),this._iterDiv.appendChild(this._saveButton),this._iterDiv.appendChild(this._deleteButton),this._container.appendChild(this._snapshotButton),this._container.appendChild(this._iterDiv),this._container.appendChild(this._cameraButton),this._container.appendChild(this._toggleButton),this._container.appendChild(this._layerDiv),this._container.appendChild(this._layersButton),this._container.appendChild(this._helpButton),this._container.appendChild(this._exportButton),this.updateCameras(),this.updateLayers(),this.updateToggle(),this._container}fire(e){"toggle"==e?this.updateToggle():"camera"==e?this.updateCameras():"layers"==e&&this.updateLayers()}onRemove(){this._container.parentNode.removeChild(this._container),this._map=void 0}buildLabel(e){var n=document.createElement("div");return n.classList.add("mapbox-custom-label"),e&&(n.innerHTML=e),n}updateCameras(){var e=this._mapController.getCamera();this._cameraLabel.innerHTML=e,this._mapController&&0!=this._mapController.getCameras().length?(this._nextButton.firstChild.classList.contains("inactive")&&this._nextButton.firstChild.classList.remove("inactive"),this._nextButton.classList.contains("disabled")&&this._nextButton.classList.remove("disabled")):(this._nextButton.firstChild.classList.contains("inactive")||this._nextButton.firstChild.classList.add("inactive"),this._nextButton.classList.contains("disabled")||this._nextButton.classList.add("disabled")),"default"===e?(this._deleteButton.classList.contains("collapsed")||this._deleteButton.classList.add("collapsed"),this._saveButton.title="Save new view",this._saveButton.firstChild.src="img/save-icon.png",this._saveButton.classList.contains("collapsed")&&this._saveButton.classList.remove("collapsed")):(this._deleteButton.classList.contains("collapsed")&&this._deleteButton.classList.remove("collapsed"),this._saveButton.title="Update view",this._saveButton.firstChild.src="img/reset-icon.png")}buildCameraButton(){var e=this,n=document.createElement("img");n.src="img/perspective-icon.png",n.classList.add("mapbox-custom-ctrl"),n.classList.add("inactive");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Camera",t.appendChild(n),t.selected=!1,t.addEventListener("click",r=>{t.selected?(t.selected=!1,n.classList.contains("inactive")||n.classList.add("inactive"),e._iterDiv.classList.contains("collapsed")||e._iterDiv.classList.add("collapsed")):(t.selected=!0,n.classList.remove("inactive"),e._iterDiv.classList.remove("collapsed"),e._layersButton.selected&&e._layersButton.click())}),t}buildDeleteCameraButton(){var e=this,n=document.createElement("img");n.src="img/trash-mapbox-icon.svg",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Delete View",t.appendChild(n),t.addEventListener("click",n=>{e._mapController&&e._mapController.deleteCamera(e._mapController.getCamera())}),t}buildSaveCameraButton(){var e=this,n=document.createElement("img");n.src="img/save-icon.png",n.style="transform: scale(0.8, 0.8); ",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Save View",t.appendChild(n),t.addEventListener("click",n=>{e._mapController&&e._mapController.saveCamera(e._mapController.getCamera())}),t}buildNextCameraButton(){var e=this,n=document.createElement("img");n.src="img/right-arrow-icon.png",n.style="transform: scale(0.8, 0.8); ",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Next Saved View [Tab]",t.appendChild(n),t.addEventListener("click",n=>{e._mapController&&e._mapController.getCameras().length&&e._mapController.nextCamera()}),t}updateLayers(){this._mapController.isBoundaryVisible()?this._boundaryButton.firstChild.classList.remove("inactive"):this._boundaryButton.firstChild.classList.contains("inactive")||this._boundaryButton.firstChild.classList.add("inactive"),this._mapController.isMasked()?this._maskButton.firstChild.classList.remove("inactive"):this._maskButton.firstChild.classList.contains("inactive")||this._maskButton.firstChild.classList.add("inactive"),this._mapController.areLabelsVisible()?this._labelsButton.firstChild.classList.remove("inactive"):this._labelsButton.firstChild.classList.contains("inactive")||this._labelsButton.firstChild.classList.add("inactive"),this._mapController.arePopupsVisible()?this._popupsButton.firstChild.classList.remove("inactive"):this._popupsButton.firstChild.classList.contains("inactive")||this._popupsButton.firstChild.classList.add("inactive")}buildLayersButton(){var e=this,n=document.createElement("img");n.src="img/levels-icon.png",n.classList.add("mapbox-custom-ctrl"),n.classList.add("inactive");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Layers",t.appendChild(n),t.selected=!1,t.addEventListener("click",r=>{t.selected?(t.selected=!1,n.classList.contains("inactive")||n.classList.add("inactive"),e._layerDiv.classList.contains("collapsed")||e._layerDiv.classList.add("collapsed")):(t.selected=!0,n.classList.remove("inactive"),e._layerDiv.classList.remove("collapsed"),e._cameraButton.selected&&e._cameraButton.click())}),t}buildPopupsButton(){var e=this,n=document.createElement("img");n.src="img/view-icon.png",n.style="transform: scale(0.8, 0.8); ",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Popups",t.appendChild(n),t.addEventListener("click",n=>{e._mapController.togglePopupsVisible(!e._mapController.arePopupsVisible())}),t}buildBoundaryButton(){var e=this,n=document.createElement("img");n.src="img/view-icon.png",n.style="transform: scale(0.8, 0.8); ",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Boundaries",t.appendChild(n),t.addEventListener("click",n=>{e._mapController.toggleBoundaryVisible(!e._mapController.isBoundaryVisible())}),t}buildMaskButton(){var e=this,n=document.createElement("img");n.src="img/view-icon.png",n.style="transform: scale(0.8, 0.8); ",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Mask",t.appendChild(n),t.addEventListener("click",n=>{e._mapController.toggleMask(!e._mapController.isMasked())}),t}buildLabelsButton(){var e=this,n=document.createElement("img");n.src="img/view-icon.png",n.style="transform: scale(0.8, 0.8); ",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Labels",t.appendChild(n),t.addEventListener("click",n=>{e._mapController.toggleLabelsVisible(!e._mapController.areLabelsVisible())}),t}updateToggle(){this._mapController.isExtruded()?(this._toggleButton.title="Plan View",this._toggleButton.firstChild.classList.remove("inactive")):(this._toggleButton.title="3D View",this._toggleButton.firstChild.classList.contains("inactive")||this._toggleButton.firstChild.classList.add("inactive"))}buildToggleButton(){var e=this,n=document.createElement("img");n.src="img/cube-icon.png",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="3D View",t.appendChild(n),t.addEventListener("click",n=>{e._mapController.toggleExtruded(!e._mapController.isExtruded())}),t}buildHelpButton(){var e=document.createElement("img");e.src="img/help-icon.png",e.classList.add("mapbox-custom-ctrl");var n=document.createElement("button");return n.classList.add("mapboxgl-ctrl-icon"),n.type="button",n.title="App Info",n.appendChild(e),n.addEventListener("click",e=>{console.log("help")}),n}buildSnapshotButton(){var e=this,n=document.createElement("img");n.src="img/camera-icon.png",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Snapshot Map",t.appendChild(n),t.addEventListener("click",n=>{e._map.getCanvas().toBlob(function(e){saveAs(e,"output.png")})}),t}buildExportSchemaButton(){var e=this,n=document.createElement("img");n.src="img/export-icon.png",n.style="transform: scale(0.8, 0.8); ",n.classList.add("mapbox-custom-ctrl");var t=document.createElement("button");return t.classList.add("mapboxgl-ctrl-icon"),t.type="button",t.title="Export Scheme",t.appendChild(n),t.addEventListener("click",n=>{var t=function(e){for(var n=[],t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return new Uint8Array(n)},r=e._mapController.buildSchema(),a=r.data,A=JSON.stringify(a,null,2),o=t(A),i=new Blob([o],{type:"application/octet-stream"});saveAs(i,"schema.json"),r.geometry&&(a=r.geometry,o=t(A=JSON.stringify(a,null,2)),i=new Blob([o],{type:"application/octet-stream"}),saveAs(i,"filter.geojson"))}),t}}function a(e,n){var t={source:e,data:[],clamp:{},highlighted:[],dimensions:{},dimensionTitleRotation:0,brushed:!1,brushedColor:null,alphaOnBrushed:0,mode:"default",rate:20,width:600,minWidth:200,height:300,minHeight:200,margin:{top:24,right:0,bottom:12,left:0},nullValueSeparator:"undefined",nullValueSeparatorPadding:{top:8,right:0,bottom:8,left:0},color:"#069",composite:"source-over",alpha:.7,duration:0,bundlingStrength:.5,bundleDimension:null,smoothness:0,showControlPoints:!1,hideAxis:[]};!function(e,n){Object.keys(n).forEach(t=>{e[t]=n[t]})}(t,n),n&&n.dimensionTitles&&(console.warn("dimensionTitles passed in config is deprecated. Add title to dimension object."),d3.entries(n.dimensionTitles).forEach(function(e){t.dimensions[e.key]?t.dimensions[e.key].title=t.dimensions[e.key].title?t.dimensions[e.key].title:e.value:t.dimensions[e.key]={title:e.value}}));var r,a=function(e,n){return e=a.selection=d3.select(e),t.width=e[0][0].clientWidth,t.height=e[0][0].clientHeight,t.label=n||null,t.width<t.minWidth&&(t.width=t.minWidth),t.height<t.minHeight&&(t.height=t.minHeight),["marks","foreground","brushed","highlight"].forEach(function(n){p[n]=e.append("canvas").attr("class",n)[0][0],_[n]=p[n].getContext("2d")}),a.svg=e.append("svg").attr("class",n||"").attr("width",t.width).attr("height",t.height).append("svg:g").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),a},A=d3.dispatch.apply(this,["render","resize","highlight","brush","brushend","axesreorder","axisupdated","rangeset","overflow"].concat(d3.keys(t))),o=function(){return t.width-t.margin.right-t.margin.left},i=function(){return t.height-t.margin.top-t.margin.bottom},s={brushable:!1,reorderable:!1,axes:!1,interactive:!1,debug:!1},c=d3.scale.ordinal(),l={},u={},d=(d3.svg.line(),d3.svg.axis().orient("left").ticks(5)),_={},p={},f=d3.dispatch.apply(this,d3.keys(t)).on("composite",function(e){_.foreground.globalCompositeOperation=e.value,_.brushed.globalCompositeOperation=e.value}).on("alpha",function(e){_.foreground.globalAlpha=e.value,_.brushed.globalAlpha=e.value}).on("brushedColor",function(e){_.brushed.strokeStyle=e.value}).on("width",function(e){a.resize()}).on("height",function(e){a.resize()}).on("margin",function(e){a.resize()}).on("rate",function(e){m.rate(e.value),B.rate(e.value)}).on("dimensions",function(e){t.dimensions=a.applyDimensionDefaults(d3.keys(e.value)),c.domain(a.getOrderedDimensionKeys()),a.sortDimensions(),s.interactive&&a.render().updateAxes()}).on("bundleDimension",function(e){d3.keys(t.dimensions).length||a.detectDimensions(),a.autoscale(),"number"==typeof e.value?e.value<d3.keys(t.dimensions).length?t.bundleDimension=t.dimensions[e.value]:e.value<t.hideAxis.length&&(t.bundleDimension=t.hideAxis[e.value]):t.bundleDimension=e.value,t.clusterCentroids=function(e){var n=d3.map(),r=d3.map();return t.data.forEach(function(n){var a=t.dimensions[e].yscale(n[e]);r.has(a)||r.set(a,0);var A=r.get(a);r.set(a,A+1)}),t.data.forEach(function(a){d3.keys(t.dimensions).map(function(A,o){var i=t.dimensions[e].yscale(a[e]);if(!n.has(i)){var s=d3.map();n.set(i,s)}n.get(i).has(A)||n.get(i).set(A,0);var c=n.get(i).get(A);c+=t.dimensions[A].yscale(a[A])/r.get(i),n.get(i).set(A,c)})}),n}(t.bundleDimension),s.interactive&&a.render()}).on("hideAxis",function(e){var n;a.dimensions(a.applyDimensionDefaults()),a.dimensions((n=t.dimensions,e.value.forEach(function(e){delete n[e]}),n))});function h(){return"bottom"==t.nullValueSeparator?[i()+1-t.nullValueSeparatorPadding.bottom-t.nullValueSeparatorPadding.top,1]:"top"==t.nullValueSeparator?[i()+1,1+t.nullValueSeparatorPadding.bottom+t.nullValueSeparatorPadding.top]:[i()+1,1]}function g(){if(t.brushed&&t.brushed.length!==t.data.length)return!0;var e=I.currentMode().brushState();for(var n in e)if(e.hasOwnProperty(n))return!0;return!1}a.state=t,a.flags=s,function(e,n,t){d3.keys(n).forEach(function(r){e[r]=function(A){if(!arguments.length)return n[r];"dimensions"===r&&"[object Array]"===Object.prototype.toString.call(A)&&(console.warn("pc.dimensions([]) is deprecated, use pc.dimensions({})"),A=a.applyDimensionDefaults(A));var o=n[r];return n[r]=A,f[r].call(a,{value:A,previous:o}),t[r].call(a,{value:A,previous:o}),e}})}(a,t,A),d3.rebind(a,A,"on"),a.defaultScales=function(){return{date:function(e){var n=d3.extent(t.data,function(n){return n[e]?n[e].getTime():null});return n[0]===n[1]?d3.scale.ordinal().domain([n[0]]).rangePoints(h()):d3.time.scale().domain(n).range(h())},number:function(e){var n=d3.extent(t.data,function(n){return+n[e]});return n[0]===n[1]?d3.scale.ordinal().domain([n[0]]).rangePoints(h()):d3.scale.linear().domain(n).range(h())},string:function(e){var n,r={};return t.data.map(function(n){void 0===n[e]&&"undefined"!==t.nullValueSeparator||(void 0===r[n[e]]?r[n[e]]=1:r[n[e]]=r[n[e]]+1)}),n=Object.getOwnPropertyNames(r).sort(function(e,n){return r[e]-r[n]}),d3.scale.ordinal().domain(n).rangePoints(h())},boolean:function(e){return this.string(e)}}},a.autoscale=function(){var e=a.defaultScales();return d3.keys(t.dimensions).forEach(function(n){t.dimensions[n].yscale&&!t.dimensions[n].yscale||t.clamp[n]||(t.dimensions[n].yscale=e[t.dimensions[n].type](n)),l[n]||(l[n]=e[t.dimensions[n].type](n))}),c.rangePoints([0,o()],1),a.selection.selectAll("canvas").style("margin-top",t.margin.top+"px").style("margin-left",t.margin.left+"px").attr("width",o()+2).attr("height",i()+2),_.foreground.strokeStyle=t.color,_.foreground.lineWidth=1.4,_.foreground.globalCompositeOperation=t.composite,_.foreground.globalAlpha=t.alpha,_.brushed.strokeStyle=t.brushedColor,_.brushed.lineWidth=1.4,_.brushed.globalCompositeOperation=t.composite,_.brushed.globalAlpha=t.alpha,_.highlight.lineWidth=3,this},a.scale=function(e,n){return t.dimensions[e].yscale.domain(n),this},a.flip=function(e){return t.dimensions[e].yscale.domain(t.dimensions[e].yscale.domain().reverse()),this},a.commonScale=function(e,n){var r=n||"number";void 0===e&&(e=!0),d3.keys(t.dimensions).length||a.detectDimensions(),a.autoscale();var A=d3.keys(t.dimensions).filter(function(e){return t.dimensions[e].type==r});if(e){var o=d3.extent(A.map(function(e,n){return t.dimensions[e].yscale.domain()}).reduce(function(e,n){return e.concat(n)}));A.forEach(function(e){t.dimensions[e].yscale.domain(o)})}else A.forEach(function(e){t.dimensions[e].yscale.domain(d3.extent(t.data,function(e){return+e[k]}))});return null!==t.bundleDimension&&a.bundleDimension(t.bundleDimension),this},a.detectDimensions=function(){return a.dimensions(a.applyDimensionDefaults()),this},a.applyDimensionDefaults=function(e){var n=a.detectDimensionTypes(t.data);t.types=n,e=e||d3.keys(n);var r={},A=0;return e.forEach(function(e){r[e]=t.dimensions[e]?t.dimensions[e]:{},r[e].orient=r[e].orient?r[e].orient:"left",r[e].ticks=r[e].ticks?r[e].ticks:5,r[e].innerTickSize=r[e].innerTickSize?r[e].innerTickSize:6,r[e].outerTickSize=r[e].outerTickSize?r[e].outerTickSize:0,r[e].tickPadding=r[e].tickPadding?r[e].tickPadding:3,r[e].type=r[e].type?r[e].type:n[e],r[e].index=r[e].index?r[e].index:A,A++}),r},a.getOrderedDimensionKeys=function(){return d3.keys(t.dimensions).sort(function(e,n){return d3.ascending(t.dimensions[e].index,t.dimensions[n].index)})},a.toType=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},a.toTypeCoerceNumbers=function(e){return parseFloat(e)==e&&null!=e?"number":a.toType(e)},a.detectDimensionTypes=function(e){var n={};return d3.keys(e[0]).forEach(function(t){n[isNaN(Number(t))?t:parseInt(t)]=a.toTypeCoerceNumbers(e[0][t])}),n},a.render=function(){return d3.keys(t.dimensions).length||a.detectDimensions(),a.autoscale(),a.render[t.mode](),1===d3.keys(t.dimensions).length&&a.axisPlot(),A.render.call(this),this},a.renderBrushed=function(){return d3.keys(t.dimensions).length||a.detectDimensions(),a.renderBrushed[t.mode](),A.render.call(this),this},a.render.default=function(){a.clear("foreground"),a.clear("highlight"),a.renderBrushed.default(),t.data.forEach(U)};var B=d3.renderQueue(U).rate(50).clear(function(){a.clear("foreground"),a.clear("highlight")});a.render.queue=function(){a.renderBrushed.queue(),B(t.data)},a.renderBrushed.default=function(){a.clear("brushed"),g()&&t.brushed.forEach(C)};var m=d3.renderQueue(C).rate(50).clear(function(){a.clear("brushed")});function E(e){for(var n=[],r=d3.keys(t.dimensions),a=r.length,A=0;A<a;++A){var o=S(r[A]),i=t.dimensions[r[A]].yscale(e[r[A]]);if(n.push([o,i]),A<a-1){var s=o+.5*(S(r[A+1])-o),c=i+.5*(t.dimensions[r[A+1]].yscale(e[r[A+1]])-i);if(null!==t.bundleDimension){var l=.5*(t.clusterCentroids.get(t.dimensions[t.bundleDimension].yscale(e[t.bundleDimension])).get(r[A])+t.clusterCentroids.get(t.dimensions[t.bundleDimension].yscale(e[t.bundleDimension])).get(r[A+1]));c=l+(1-t.bundlingStrength)*(c-l)}n.push([s,c])}}return n}function b(e,n){var r=function(e){var n=e.length,r=t.smoothness,a=[];a.push(e[0]),a.push($V([e[0].e(1)+2*r*(e[1].e(1)-e[0].e(1)),e[0].e(2)]));for(var A=1;A<n-1;++A){var o=e[A],i=e[A-1],s=e[A+1],c=i.subtract(s);a.push(o.add(c.x(r))),a.push(o),a.push(o.subtract(c.x(r)))}return a.push($V([e[n-1].e(1)+2*r*(e[n-2].e(1)-e[n-1].e(1)),e[n-1].e(2)])),a.push(e[n-1]),a}(E(e));n.moveTo(r[0].e(1),r[0].e(2));for(var a=1;a<r.length;a+=3){if(t.showControlPoints)for(var A=0;A<3;A++)n.fillRect(r[a+A].e(1),r[a+A].e(2),2,2);n.bezierCurveTo(r[a].e(1),r[a].e(2),r[a+1].e(1),r[a+1].e(2),r[a+2].e(1),r[a+2].e(2))}}function v(e,n){n.beginPath(),null!==t.bundleDimension&&t.bundlingStrength>0||t.smoothness>0?b(e,n):y(e,n),n.stroke()}function w(){return"bottom"==t.nullValueSeparator?i()+1:"top"==t.nullValueSeparator?1:(console.log("A value is NULL, but nullValueSeparator is not set; set it to 'bottom' or 'top'."),i()+1)}function y(e,n){d3.entries(t.dimensions).forEach(function(r,a){0==a?n.moveTo(S(r.key),void 0===e[r.key]?w():t.dimensions[r.key].yscale(e[r.key])):n.lineTo(S(r.key),void 0===e[r.key]?w():t.dimensions[r.key].yscale(e[r.key]))})}function C(e,n){return null!==t.brushedColor?_.brushed.strokeStyle=d3.functor(t.brushedColor)(e,n):_.brushed.strokeStyle=d3.functor(t.color)(e,n),v(e,_.brushed)}function U(e,n){return _.foreground.strokeStyle=d3.functor(t.color)(e,n),v(e,_.foreground)}function L(e,n){return _.highlight.strokeStyle=d3.functor(t.color)(e,n),v(e,_.highlight)}function x(e){return t.source.states[e].propertyLabel}function Q(e){var n=l[e].domain();return void 0===n[0]?"none":e in l?n[n.length-1].toFixed(2):e}function T(e){var n=l[e].domain();return void 0===n[0]?"none":e in l?n[0].toFixed(2):e}function F(e){var n=this.parentNode,t=this.getBBox(),r=n.getBBox();t.x=r.x,t.y=r.y;var a=d3.select(this),A=d3.select(n),o=A.append("foreignObject").attr("class","axis-object").attr({x:t.x,y:d3.transform(a.attr("transform")).translate[1]-14,height:15,width:100}).append("xhtml:div").attr("class","axis-div").append("input").attr({value:function(){return this.focus(),parseFloat(a.text())},class:"axis-text",size:8}).on("blur",function(){P(e,a,A,o.node().value)}).on("keypress",function(){d3.event||(d3.event=window.event);var n=d3.event;13==n.keyCode&&(void 0!==n.cancelBubble&&(n.cancelBubble=!0),n.stopPropagation&&n.stopPropagation(),n.preventDefault(),P(e,a,A,o.node().value))})}function P(e,n,t,r){r=+parseFloat(r);try{t.select("foreignObject.axis-object").remove()}catch(e){}var o=a.brushExtents(),i=+T(e),s=+Q(e),c=n.attr("class")==="axis-min "+e?"min":"max",l=+parseFloat(t.select(".axis-min").text()),u=+parseFloat(t.select(".axis-max").text()),d=r<i,_=r>s,p="min"===c?u:l,f=[];r<p?(f[0]=r,f[1]=p):(f[0]=p,f[1]=r),f[0]===f[1]&&("min"===c?f[1]=s:f[0]=i),isNaN(f[0])||isNaN(f[1])||(o[e]=f,a.brushExtents(o),n.text(r),(d||_)&&A.overflow.call(a,f,e))}function O(e){e.selectAll(".axis-max").remove(),e.selectAll(".axis-min").remove(),e.append("svg:text").attr("contentEditable","true").attr("text-anchor","middle").attr("y",0).attr("x",0).attr("class",function(e){return void 0!==t.types[e]&&"number"===t.types[e]?"axis-max "+e:"axis-category "+e}).attr("transform","translate(0,"+(i()+20)+")").text(function(e){return void 0!==t.types[e]&&"number"===t.types[e]?Q(e):""}).on("click",function(e){return void 0!==t.types[e]&&"number"===t.types[e]?F.bind(this)(e):e=>{}}),e.append("svg:text").attr("contentEditable","true").attr("text-anchor","middle").attr("y",0).attr("x",0).attr("class",function(e){return void 0!==t.types[e]&&"number"===t.types[e]?"axis-min "+e:"axis-category "+e}).attr("transform","translate(0,"+(i()+40)+")").text(function(e){return void 0!==t.types[e]&&"number"===t.types[e]?T(e):""}).on("click",function(e){return void 0!==t.types[e]&&"number"===t.types[e]?F.bind(this)(e):e=>{}})}a.renderBrushed.queue=function(){g()?m(t.brushed):m([])},a.compute_centroids=E,a.shadows=function(){return s.shadows=!0,a.alphaOnBrushed(.1),a.render(),this},a.axisDots=function(e){e=e||.1;var n=a.ctx.marks,r=2*Math.PI;return n.globalAlpha=1,t.data.forEach(function(a,A){n.fillStyle=d3.functor(t.color)(a,A),n.strokeStyle=d3.functor(t.color)(a,A),d3.entries(t.dimensions).forEach(function(A,o){n.beginPath(),n.arc(S(A.key),t.dimensions[A.key].yscale(a[A.key]),e,0,r),n.stroke(),n.fill()})}),this},a.axisPlot=function(){var n=a.ctx.marks,r=2*Math.PI;n.globalAlpha=.5;var A=function(){var n={},r=t.source.active;return d3.entries(t.dimensions).forEach(function(a,A){var o=t.source.states[a.key],i=a.key,s=[];null!==r&&i!==r||("number"===o.propertyType?(o.propertyStops.forEach((e,n)=>{s.push({value:parseFloat(Math.round(100*e[0])/100).toFixed(2),data:[],count:0,index:n,min:null,max:null,perc:0,valid:!0})}),t.data.forEach(e=>{for(var n=0,r=0;r<s.length&&!(s[r].value>e[i]);r++)n=r;s[n].count+=1,s[n].perc=s[n].count/t.data.length,s[n].data.push(e),(null==s[n].min||s[n].min>e[i])&&(s[n].min=e[i]),(null==s[n].max||s[n].max<e[i])&&(s[n].max=e[i])})):"string"===o.propertyType&&(o.propertyStops.forEach((n,t)=>{var r=!0;Object.keys(e.filters).forEach(t=>{var a={};a[i]=n[0],e.filters[t](a)&&(r=!1)}),s.push({value:n[0].toString(),data:[],count:0,index:t,perc:0,valid:r})}),t.data.forEach(e=>{for(var n=0,r=0;r<s.length&&(n=r,s[r].value!==e[i]);r++);s[n].count+=1,s[n].perc=s[n].count/t.data.length,s[n].data.push(e)})),n[i]=s)}),n}();Object.keys(A).forEach(e=>{var a=e;t.dimensions[e];A[e].forEach(e=>{var A={};A[a]=e.value,n.fillStyle=d3.functor(t.color)(A,e.index),n.strokeStyle=d3.functor(t.color)(A,e.index),n.beginPath(),n.arc(S(a),t.dimensions[a].yscale(e.value),1+20*e.perc,0,r),n.stroke(),n.fill()})})},a.clear=function(e){return _[e].clearRect(0,0,o()+2,i()+2),"brushed"===e&&g()&&(_.brushed.fillStyle=a.selection.style("background-color"),_.brushed.globalAlpha=1-t.alphaOnBrushed,_.brushed.fillRect(0,0,o()+2,i()+2),_.brushed.globalAlpha=t.alpha),this},d3.rebind(a,d,"ticks","orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),a.scaleAxis=function(e,n){return null==n?(t.clamp[e]&&delete t.clamp[e],l[e]&&delete l[e],n=t.dimensions[e].yscale.domain(),a.autoscale().updateAxes().render()):(a.scale(e,n),t.clamp[e]=n,d3.select(this.parentElement).transition().duration(t.duration).call(d.scale(t.dimensions[e].yscale)),a.updateAxes().render()),A.rangeset.call(a,n,e),this},a.resetAxis=function(){return t.clamp={},l={},a.autoscale().updateAxes().render(),this},a.createAxes=function(){return r&&a.removeAxes(),(r=a.svg.selectAll(".dimension").data(a.getOrderedDimensionKeys(),function(e){return e}).enter().append("svg:g").attr("class","dimension").attr("transform",function(e){return"translate("+c(e)+")"})).append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each(function(e){d3.select(this).call(a.applyAxisConfig(d,t.dimensions[e]))}).append("svg:text").attr({"text-anchor":"middle",y:-10,transform:"translate(0,-5) rotate("+t.dimensionTitleRotation+")",x:0,class:"label"}).text(x),O(r),"top"==t.nullValueSeparator?a.svg.append("line").attr("x1",0).attr("y1",1+t.nullValueSeparatorPadding.top).attr("x2",o()).attr("y2",1+t.nullValueSeparatorPadding.top).attr("stroke-width",1).attr("stroke","#777").attr("fill","none").attr("shape-rendering","crispEdges"):"bottom"==t.nullValueSeparator&&a.svg.append("line").attr("x1",0).attr("y1",i()+1-t.nullValueSeparatorPadding.bottom).attr("x2",o()).attr("y2",i()+1-t.nullValueSeparatorPadding.bottom).attr("stroke-width",1).attr("stroke","#777").attr("fill","none").attr("shape-rendering","crispEdges"),s.axes=!0,this},a.removeAxes=function(){return r.remove(),this},a.updateAxes=function(){var e=a.svg.selectAll(".dimension").data(a.getOrderedDimensionKeys());if(Object.keys(t.dimensions).forEach(e=>{l[e]=a.defaultScales()[t.dimensions[e].type](e)}),e.enter().append("svg:g").attr("class","dimension").attr("transform",function(e){return"translate("+S(e)+")"}).style("opacity",0).append("svg:g").attr("class","axis").attr("transform","translate(0,0)").each(function(e){d3.select(this).call(a.applyAxisConfig(d,t.dimensions[e]))}).append("svg:text").attr({"text-anchor":"middle",y:-10,transform:"translate(0,-5) rotate("+t.dimensionTitleRotation+")",x:0,class:"label"}).text(x),O(e),e.attr("opacity",0),e.select(".axis").each(function(e){d3.select(this).call(a.applyAxisConfig(d,t.dimensions[e]))}),e.select(".label").text(x).attr("transform","translate(0,-5) rotate("+t.dimensionTitleRotation+")"),e.exit().remove(),(r=a.svg.selectAll(".dimension")).attr("transform",function(e){return"translate("+S(e)+")"}).style("opacity",1),a.svg.selectAll(".axis").each(function(e){d3.select(this).call(a.applyAxisConfig(d,t.dimensions[e]))}),s.brushable&&a.brushable(),s.reorderable&&a.reorderable(),"None"!==a.brushMode()){var n=a.brushMode();a.brushMode("None"),a.brushMode(n)}return A.axisupdated.call(a),this},a.applyAxisConfig=function(e,n){return e.scale(n.yscale).orient(n.orient).ticks(n.ticks).tickValues(n.tickValues).innerTickSize(n.innerTickSize).outerTickSize(n.outerTickSize).tickPadding(n.tickPadding).tickFormat(n.tickFormat)},a.reorderable=function(){return r||a.createAxes(),r.style("cursor","move").call(d3.behavior.drag().on("dragstart",function(e){u[e]=this.__origin__=c(e)}).on("drag",function(e){u[e]=Math.min(o(),Math.max(0,this.__origin__+=d3.event.dx)),a.sortDimensions(),c.domain(a.getOrderedDimensionKeys()),a.render(),r.attr("transform",function(e){return"translate("+S(e)+")"})}).on("dragend",function(e){for(var n=0,r=t.dimensions[e].index,o=this,i=this.parentElement;null!=(o=o.previousElementSibling);)++n;n!==r&&(A.axesreorder.call(a,a.getOrderedDimensionKeys()),n>r?i.insertBefore(this,i.children[r-1]):r+1<i.children.length?i.insertBefore(this,i.children[r+1]):i.appendChild(this)),delete this.__origin__,delete u[e],d3.select(this).transition().attr("transform","translate("+c(e)+")"),a.render()})),s.reorderable=!0,this},a.reorder=function(e){var n=a.getOrderedDimensionKeys()[0];a.sortDimensionsByRowData(e);if(n!==a.getOrderedDimensionKeys()[0]){c.domain(a.getOrderedDimensionKeys());var A=t.highlighted.slice(0);a.unhighlight(),r.transition().duration(t.duration).attr("transform",function(e){return"translate("+c(e)+")"}),a.render(),0!==A.length&&a.highlight(A)}},a.sortDimensionsByRowData=function(e){var n=t.dimensions,r=d3.keys(t.dimensions).sort(function(n,r){var a=t.dimensions[n].yscale(e[n])-t.dimensions[r].yscale(e[r]);return 0===a?n.localeCompare(r):a});t.dimensions={},r.forEach(function(e,r){t.dimensions[e]=n[e],t.dimensions[e].index=r})},a.sortDimensions=function(){var e=t.dimensions,n=d3.keys(t.dimensions).sort(function(e,n){return S(e)-S(n)});t.dimensions={},n.forEach(function(n,r){t.dimensions[n]=e[n],t.dimensions[n].index=r})},a.adjacent_pairs=function(e){for(var n=[],t=0;t<e.length-1;t++)n.push([e[t],e[t+1]]);return n};var I={modes:{None:{install:function(e){},uninstall:function(e){},selected:function(){return[]},brushState:function(){return{}}}},mode:"None",predicate:"AND",currentMode:function(){return this.modes[this.mode]}};function M(e){t.brushed=e,A.brush.call(a,t.brushed),a.renderBrushed()}function D(e){if(!arguments.length)return I.predicate;if("AND"!==(e=String(e).toUpperCase())&&"OR"!==e)throw"Invalid predicate "+e;return I.predicate=e,t.brushed=I.currentMode().selected(),a.renderBrushed(),a}function S(e){0===c.range().length&&c.rangePoints([0,o()],1);var n=u[e];return null==n?c(e):n}return a.brushModes=function(){return Object.getOwnPropertyNames(I.modes)},a.brushMode=function(e){if(0===arguments.length)return I.mode;if(-1===a.brushModes().indexOf(e))throw"pc.brushmode: Unsupported brush mode: "+e;return e!==I.mode&&("None"!==I.mode&&a.brushReset(),I.modes[I.mode].uninstall(a),I.mode=e,I.modes[I.mode].install(),"None"===e?delete a.brushPredicate:a.brushPredicate=D),a},function(){var e={};function n(n){return!e[n].empty()}function o(){var r=d3.keys(t.dimensions).filter(n),a=r.map(function(n){return e[n].extent()});if(0===r.length)return t.data;var A={date:function(e,n,r){return"function"==typeof t.dimensions[n].yscale.rangePoints?a[r][0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=a[r][1]:a[r][0]<=e[n]&&e[n]<=a[r][1]},number:function(e,n,r){return"function"==typeof t.dimensions[n].yscale.rangePoints?a[r][0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=a[r][1]:a[r][0]<=e[n]&&e[n]<=a[r][1]},string:function(e,n,r){return a[r][0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=a[r][1]}};return t.data.filter(function(e){switch(I.predicate){case"AND":return r.every(function(n,r){return A[t.dimensions[n].type](e,n,r)});case"OR":return r.some(function(n,r){return A[t.dimensions[n].type](e,n,r)});default:throw"Unknown brush predicate "+t.brushPredicate}})}function i(n){if(void 0===n){n={};return d3.keys(t.dimensions).forEach(function(t){var r=e[t];if(void 0!==r&&!r.empty()){var a=r.extent();a.sort(d3.ascending),n[t]=a}}),n}var A={};r.selectAll(".brush").each(function(e){A[e]=d3.select(this)}),d3.keys(t.dimensions).forEach(function(t){if(void 0!==n[t]){var r=e[t];void 0!==r&&(r.extent(n[t]),r(A[t]),r.event(A[t]))}}),a.renderBrushed()}function s(n){return t.brushed=!1,r&&(r.selectAll(".brush").each(function(n){d3.select(this).call(e[n].clear())}),a.renderBrushed()),this}I.modes["1D-axes"]={install:function(){return r||a.createAxes(),r.append("svg:g").attr("class","brush").each(function(n){var r,i;d3.select(this).call((r=n,(i=d3.svg.brush()).y(t.dimensions[r].yscale).on("brushstart",function(){null!==d3.event.sourceEvent&&d3.event.sourceEvent.stopPropagation()}).on("brush",function(e){M(o());var n=d3.selectAll(".axis-max."+e)[0],t=d3.selectAll(".axis-min."+e)[0];0!==n.length&&0!==t.length&&(-1===d3.keys(a.brushExtents()).indexOf(e)?l[e].domain().length>1?(d3.select(n[0]).text(l[e].domain()[1].toFixed(2)),d3.select(t[0]).text(l[e].domain()[0].toFixed(2))):(d3.select(n[0]).text(l[e].domain()[0].toFixed(2)),d3.select(t[0]).text(l[e].domain()[0].toFixed(2))):(d3.select(n[0]).text((+a.brushExtents()[e][1]).toFixed(2)),d3.select(t[0]).text((+a.brushExtents()[e][0]).toFixed(2))))}).on("brushend",function(e){A.brushend.call(a,t.brushed,r)}),e[r]=i,i))}).selectAll("rect").style("visibility",null).attr("x",-15).attr("width",30),a.brushExtents=i,a.brushReset=s,a},uninstall:function(){r.selectAll(".brush").remove(),e={},delete a.brushExtents,delete a.brushReset},selected:o,brushState:i}}(),function(){var e,n={};function r(){return function(){var r,A,o=d3.mouse(e[0][0]);o[0]=o[0]-t.margin.left,o[1]=o[1]-t.margin.top,A={p1:o,dims:r=function(e){var n={i:-1,left:void 0,right:void 0};return d3.keys(t.dimensions).some(function(r,A){if(c(r)<e[0]){var o=d3.keys(t.dimensions)[a.getOrderedDimensionKeys().indexOf(r)+1];return n.i=A,n.left=r,n.right=o,!1}return!0}),void 0===n.left?(n.i=0,n.left=a.getOrderedDimensionKeys()[0],n.right=a.getOrderedDimensionKeys()[1]):void 0===n.right&&(n.i=d3.keys(t.dimensions).length-1,n.right=n.left,n.left=a.getOrderedDimensionKeys()[d3.keys(t.dimensions).length-2]),n}(o),minX:c(r.left),maxX:c(r.right),minY:0,maxY:i()},n[r.i]=A,n.active=r.i,A.p1[0]=Math.min(Math.max(A.minX,o[0]),A.maxX),A.p2=A.p1.slice()}}function s(){return function(){var e=d3.event,r=n[n.active];r.p2[0]=Math.min(Math.max(r.minX+1,e.x-t.margin.left),r.maxX),r.p2[1]=Math.min(Math.max(r.minY,e.y-t.margin.top),r.maxY),function e(n,t){var r=a.selection.select("svg").select("g#strums"),A=n.dims.i,o=[n.p1,n.p2],i=r.selectAll("line#strum-"+A).data([n]),s=r.selectAll("circle#strum-"+A).data(o),c=d3.behavior.drag();i.enter().append("line").attr("id","strum-"+A).attr("class","strum"),i.attr("x1",function(e){return e.p1[0]}).attr("y1",function(e){return e.p1[1]}).attr("x2",function(e){return e.p2[0]}).attr("y2",function(e){return e.p2[1]}).attr("stroke","black").attr("stroke-width",2),c.on("drag",function(t,r){var a=d3.event;n["p"+(r+=1)][0]=Math.min(Math.max(n.minX+1,a.x),n.maxX),n["p"+r][1]=Math.min(Math.max(n.minY,a.y),n.maxY),e(n,r-1)}).on("dragend",d()),s.enter().append("circle").attr("id","strum-"+A).attr("class","strum"),s.attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",5).style("opacity",function(e,n){return void 0!==t&&n===t?.8:0}).on("mouseover",function(){d3.select(this).style("opacity",.8)}).on("mouseout",function(){d3.select(this).style("opacity",0)}).call(c)}(r,1)}}function l(){var e=Object.getOwnPropertyNames(n),r=t.data;function a(e,r){var a=n[r],A=function(e,n){var t=[e.p1[0]-e.minX,e.p1[1]-e.minX],r=[e.p2[0]-e.minX,e.p2[1]-e.minX],a=1-n/t[0],A=t[1]*(1-a),o=1-n/r[0],i=r[1]*(1-o);return function(e){var n=e[0],t=e[1],r=a*n+A,s=o*n+i;return t>Math.min(r,s)&&t<Math.max(r,s)}}(a,n.width(r)),o=a.dims.left,i=a.dims.right,s=t.dimensions[o].yscale,c=t.dimensions[i].yscale;return A([s(e[o])-a.minX,c(e[i])-a.minX])}return 0===(e=e.filter(function(e){return!isNaN(e)})).length?r:r.filter(function(n){switch(I.predicate){case"AND":return e.every(function(e){return a(n,e)});case"OR":return e.some(function(e){return a(n,e)});default:throw"Unknown brush predicate "+t.brushPredicate}})}function u(){var e=n[n.active],t=a.selection.select("svg").select("g#strums");delete n[n.active],n.active=void 0,t.selectAll("line#strum-"+e.dims.i).remove(),t.selectAll("circle#strum-"+e.dims.i).remove()}function d(){return function(){var e=t.data,r=n[n.active];r&&r.p1[0]===r.p2[0]&&r.p1[1]===r.p2[1]&&u(),e=l(),n.active=void 0,t.brushed=e,a.renderBrushed(),A.brushend.call(a,t.brushed)}}I.modes["2D-strums"]={install:function(){var A=d3.behavior.drag();n.active=void 0,n.width=function(e){var t=n[e];if(void 0!==t)return t.maxX-t.minX},a.on("axesreorder.strums",function(){var e=Object.getOwnPropertyNames(n).filter(function(e){return!isNaN(e)});e.length>0&&(e.forEach(function(e){var r,a,A,o=n[e].dims;n.active=e,r=o.left,a=o.right,A=d3.keys(t.dimensions).length,d3.keys(t.dimensions).some(function(e,n){return e===r&&n+n<A&&t.dimensions[n+1]===a})||u()}),d()())}),a.selection.select("svg").append("g").attr("id","strums").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),a.brushReset=function(e){return function(){Object.getOwnPropertyNames(e).filter(function(e){return!isNaN(e)}).forEach(function(n){e.active=n,u()}),d()()}}(n),A.on("dragstart",r()).on("drag",s()).on("dragend",d()),e=a.selection.select("svg").insert("rect","g#strums").attr("id","strum-events").attr("x",t.margin.left).attr("y",t.margin.top).attr("width",o()).attr("height",i()+2).style("opacity",0).call(A)},uninstall:function(){a.selection.select("svg").select("g#strums").remove(),a.selection.select("svg").select("rect#strum-events").remove(),a.on("axesreorder.strums",void 0),delete a.brushReset,e=void 0},selected:l,brushState:function(){return n}}}(),function(){if("function"==typeof d3.svg.multibrush){var e={};I.modes["1D-axes-multi"]={install:function(){return r||a.createAxes(),r.append("svg:g").attr("class","brush").each(function(n){var r,i;d3.select(this).call((r=n,(i=d3.svg.multibrush()).y(t.dimensions[r].yscale).on("brushstart",function(){null!==d3.event.sourceEvent&&d3.event.sourceEvent.stopPropagation()}).on("brush",function(){M(o())}).on("brushend",function(){M(o()),A.brushend.call(a,t.brushed)}).extentAdaption(function(e){e.style("visibility",null).attr("x",-15).attr("width",30)}).resizeAdaption(function(e){e.selectAll("rect").attr("x",-15).attr("width",30)}),e[r]=i,i))}).selectAll("rect").style("visibility",null).attr("x",-15).attr("width",30),a.brushExtents=i,a.brushReset=s,a},uninstall:function(){r.selectAll(".brush").remove(),e={},delete a.brushExtents,delete a.brushReset},selected:o,brushState:i}}function n(n){return!e[n].empty()}function o(){var r=d3.keys(t.dimensions).filter(n),a=r.map(function(n){return e[n].extent()});if(0===r.length)return t.data;var A={date:function(e,n,r,a){return"function"==typeof t.dimensions[n].yscale.rangePoints?a[0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=a[1]:a[0]<=e[n]&&e[n]<=a[1]},number:function(e,n,r,a){return"function"==typeof t.dimensions[n].yscale.rangePoints?a[0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=a[1]:a[0]<=e[n]&&e[n]<=a[1]},string:function(e,n,r,a){return a[0]<=t.dimensions[n].yscale(e[n])&&t.dimensions[n].yscale(e[n])<=a[1]}};return t.data.filter(function(e){switch(I.predicate){case"AND":return r.every(function(n,r){return a[r].some(function(a){return A[t.dimensions[n].type](e,n,r,a)})});case"OR":return r.some(function(n,r){return a[r].some(function(a){return A[t.dimensions[n].type](e,n,r,a)})});default:throw"Unknown brush predicate "+t.brushPredicate}})}function i(){var n={};return d3.keys(t.dimensions).forEach(function(t){var r=e[t];if(void 0!==r&&!r.empty()){var a=r.extent();n[t]=a}}),n}function s(n){return t.brushed=!1,r&&(r.selectAll(".brush").each(function(n){d3.select(this).call(e[n].clear())}),a.renderBrushed()),this}}(),function(){var e,n={};function r(){return function(){var r,A,o=d3.mouse(e[0][0]);o[0]=o[0]-t.margin.left,o[1]=o[1]-t.margin.top,A={p1:o,dims:r=function(e){var n={i:-1,left:void 0,right:void 0};return d3.keys(t.dimensions).some(function(r,A){if(c(r)<e[0]){var o=d3.keys(t.dimensions)[a.getOrderedDimensionKeys().indexOf(r)+1];return n.i=A,n.left=r,n.right=o,!1}return!0}),void 0===n.left?(n.i=0,n.left=a.getOrderedDimensionKeys()[0],n.right=a.getOrderedDimensionKeys()[1]):void 0===n.right&&(n.i=d3.keys(t.dimensions).length-1,n.right=n.left,n.left=a.getOrderedDimensionKeys()[d3.keys(t.dimensions).length-2]),n}(o),minX:c(r.left),maxX:c(r.right),minY:0,maxY:i(),startAngle:void 0,endAngle:void 0,arc:d3.svg.arc().innerRadius(0)},n[r.i]=A,n.active=r.i,A.p1[0]=Math.min(Math.max(A.minX,o[0]),A.maxX),A.p2=A.p1.slice(),A.p3=A.p1.slice()}}function s(){return function(){var e=d3.event,r=n[n.active];r.p2[0]=Math.min(Math.max(r.minX+1,e.x-t.margin.left),r.maxX),r.p2[1]=Math.min(Math.max(r.minY,e.y-t.margin.top),r.maxY),r.p3=r.p2.slice(),function e(t,r){var A=a.selection.select("svg").select("g#arcs"),o=t.dims.i,i=[t.p2,t.p3],s=A.selectAll("line#arc-"+o).data([{p1:t.p1,p2:t.p2},{p1:t.p1,p2:t.p3}]),c=A.selectAll("circle#arc-"+o).data(i),l=d3.behavior.drag(),u=A.selectAll("path#arc-"+o).data([t]);u.enter().append("path").attr("id","arc-"+o).attr("class","arc").style("fill","orange").style("opacity",.5),u.attr("d",t.arc).attr("transform","translate("+t.p1[0]+","+t.p1[1]+")"),s.enter().append("line").attr("id","arc-"+o).attr("class","arc"),s.attr("x1",function(e){return e.p1[0]}).attr("y1",function(e){return e.p1[1]}).attr("x2",function(e){return e.p2[0]}).attr("y2",function(e){return e.p2[1]}).attr("stroke","black").attr("stroke-width",2),l.on("drag",function(r,a){var A,i=d3.event;t["p"+(a+=2)][0]=Math.min(Math.max(t.minX+1,i.x),t.maxX),t["p"+a][1]=Math.min(Math.max(t.minY,i.y),t.maxY),A=3===a?n.startAngle(o):n.endAngle(o),(t.startAngle<Math.PI&&t.endAngle<Math.PI&&A<Math.PI||t.startAngle>=Math.PI&&t.endAngle>=Math.PI&&A>=Math.PI)&&(2===a?(t.endAngle=A,t.arc.endAngle(A)):3===a&&(t.startAngle=A,t.arc.startAngle(A))),e(t,a-2)}).on("dragend",f()),c.enter().append("circle").attr("id","arc-"+o).attr("class","arc"),c.attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",5).style("opacity",function(e,n){return void 0!==r&&n===r?.8:0}).on("mouseover",function(){d3.select(this).style("opacity",.8)}).on("mouseout",function(){d3.select(this).style("opacity",0)}).call(l)}(r,1)}}function l(e,n){return Math.sqrt(e*e+n*n)}u=Math.PI/180,function(){var e=180/Math.PI}();var u,d=function(e){var n=e;return e>Math.PI?(n=e-1.5*Math.PI,n=e-1.5*Math.PI):(n=e-.5*Math.PI,n=e-.5*Math.PI),-n};function _(){var e=Object.getOwnPropertyNames(n),r=t.data;function a(e,r){var a=n[r],A=function(e){var n=d(e.startAngle),t=d(e.endAngle);if(n>t){var r=n;n=t,t=r}return function(e){return e>=n&&e<=t}}(a),o=a.dims.left,i=a.dims.right,s=t.dimensions[o].yscale,c=t.dimensions[i].yscale,u=n.width(r),_=s(e[o])-c(e[i]),p=l(u,_);return A(Math.asin(_/p))}return 0===(e=e.filter(function(e){return!isNaN(e)})).length?r:r.filter(function(n){switch(I.predicate){case"AND":return e.every(function(e){return a(n,e)});case"OR":return e.some(function(e){return a(n,e)});default:throw"Unknown brush predicate "+t.brushPredicate}})}function p(){var e=n[n.active],t=a.selection.select("svg").select("g#arcs");delete n[n.active],n.active=void 0,t.selectAll("line#arc-"+e.dims.i).remove(),t.selectAll("circle#arc-"+e.dims.i).remove(),t.selectAll("path#arc-"+e.dims.i).remove()}function f(){return function(){var e=t.data,r=n[n.active];if(r&&r.p1[0]===r.p2[0]&&r.p1[1]===r.p2[1]&&p(),r){var o=n.startAngle(n.active);r.startAngle=o,r.endAngle=o,r.arc.outerRadius(n.length(n.active)).startAngle(o).endAngle(o)}e=_(),n.active=void 0,t.brushed=e,a.renderBrushed(),A.brushend.call(a,t.brushed)}}I.modes.angular={install:function(){var A=d3.behavior.drag();n.active=void 0,n.width=function(e){var t=n[e];if(void 0!==t)return t.maxX-t.minX},angle=function(e,n){var t=e[0]-n[0],r=e[1]-n[1],a=l(t,r);return Math.asin(r/a)},n.endAngle=function(e){var t=n[e];if(void 0!==t){var r=-angle(t.p1,t.p2)+Math.PI/2;return t.p1[0]>t.p2[0]&&(r=2*Math.PI-r),r}},n.startAngle=function(e){var t=n[e];if(void 0!==t){var r=-angle(t.p1,t.p3)+Math.PI/2;return t.p1[0]>t.p3[0]&&(r=2*Math.PI-r),r}},n.length=function(e){var t=n[e];if(void 0!==t)return l(t.p1[0]-t.p2[0],t.p1[1]-t.p2[1])},a.on("axesreorder.arcs",function(){var e=Object.getOwnPropertyNames(n).filter(function(e){return!isNaN(e)});e.length>0&&(e.forEach(function(e){var r,a,A,o=n[e].dims;n.active=e,r=o.left,a=o.right,A=d3.keys(t.dimensions).length,d3.keys(t.dimensions).some(function(e,n){return e===r&&n+n<A&&t.dimensions[n+1]===a})||p()}),f()())}),a.selection.select("svg").append("g").attr("id","arcs").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),a.brushReset=function(e){return function(){Object.getOwnPropertyNames(e).filter(function(e){return!isNaN(e)}).forEach(function(n){e.active=n,p()}),f()()}}(n),A.on("dragstart",r()).on("drag",s()).on("dragend",f()),e=a.selection.select("svg").insert("rect","g#arcs").attr("id","arc-events").attr("x",t.margin.left).attr("y",t.margin.top).attr("width",o()).attr("height",i()+2).style("opacity",0).call(A)},uninstall:function(){a.selection.select("svg").select("g#arcs").remove(),a.selection.select("svg").select("rect#arc-events").remove(),a.on("axesreorder.arcs",void 0),delete a.brushReset,e=void 0},selected:_,brushState:function(){return n}}}(),a.interactive=function(){return s.interactive=!0,this},a.xscale=c,a.ctx=_,a.canvas=p,a.g=function(){return r},a.resize=function(){return a.selection.select("svg").attr("width",t.width).attr("height",t.height),a.svg.attr("transform","translate("+t.margin.left+","+t.margin.top+")"),s.brushable&&a.brushReset(),a.autoscale(),r&&a.createAxes(),s.brushable&&a.brushable(),s.reorderable&&a.reorderable(),A.resize.call(this,{width:t.width,height:t.height,margin:t.margin}),this},a.highlight=function(e){return 0===arguments.length?t.highlighted:0===e.length?a.unhighlight():(t.highlighted=e,a.clear("highlight"),d3.selectAll([p.foreground,p.brushed]).classed("faded",!0),e.forEach(L),A.highlight.call(this,e),this)},a.unhighlight=function(){return t.highlighted=[],a.clear("highlight"),d3.selectAll([p.foreground,p.brushed]).classed("faded",!1),this},a.intersection=function(e,n,t,r){return{x:((e.x*n.y-e.y*n.x)*(t.x-r.x)-(e.x-n.x)*(t.x*r.y-t.y*r.x))/((e.x-n.x)*(t.y-r.y)-(e.y-n.y)*(t.x-r.x)),y:((e.x*n.y-e.y*n.x)*(t.y-r.y)-(e.y-n.y)*(t.x*r.y-t.y*r.x))/((e.x-n.x)*(t.y-r.y)-(e.y-n.y)*(t.x-r.x))}},a.version="0.7.0",a.toString=function(){return"Parallel Coordinates: "+d3.keys(t.dimensions).length+" dimensions ("+d3.keys(t.data[0]).length+" total) , "+t.data.length+" rows"},a}d3.renderQueue=function(e){var n=[],t=10,r=function(){},a=0,A=function(e){e&&A.data(e),A.invalidate(),r(),A.render()};return A.render=function(){a=0;var r=!0;A.invalidate=function(){r=!1},d3.timer(function(){if(!r)return!0;if(a>n.length)return!0;for(var A=Math.min(a+t,n.length),o=a;o<A;o++)e(n[o],o);a+=t})},A.data=function(e){return A.invalidate(),n=e.slice(0),A},A.rate=function(e){return arguments.length?(t=e,A):t},A.remaining=function(){return n.length-a},A.clear=function(e){return arguments.length?(r=e,A):(r(),A)},A.invalidate=function(){},A};var A=t(0),o=t.n(A),i={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},s={POLYGON:"polygon",LINE:"line_string",POINT:"point"},c={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},l={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},u=function(e){const n=e.featureTarget;return!!n&&(!!n.properties&&n.properties.meta===l.VERTEX)};const d=MapboxDraw.modes.draw_line_string;var _=turf.length;function p(e,n,t,r=64){const a=e[1],A=e[0],o=n,i=[],s=o/(111.32*Math.cos(a*Math.PI/180)),c=o/110.574;let l,u,d;for(let e=0;e<r;e+=1)l=e/r*(2*Math.PI),u=s*Math.cos(l),d=c*Math.sin(l),i.push([A+u,a+d]);return i.push(i[0]),{type:"Feature",geometry:{type:"Polygon",coordinates:[i]},properties:{parent:t,active:"true"}}}d.onSetup=function(e){const n=(e=e||{}).featureId,t=e.centroidId;let r,a,A,o;return n?(r=this.getFeature(n),a=this.getFeature(r.properties.centroid),A=this.newFeature({type:c.FEATURE,properties:{},geometry:{type:c.LINE_STRING,coordinates:[a.coordinates]}}),o=1,this.deleteFeature([n],{silent:!0}),this.deleteFeature([r.properties.centroid],{silent:!0}),this.addFeature(A)):t?(a=this.getFeature(t),r=this.getFeature(a.properties.circle),A=this.newFeature({type:c.FEATURE,properties:{},geometry:{type:c.LINE_STRING,coordinates:[a.coordinates]}}),o=1,this.deleteFeature([t],{silent:!0}),this.deleteFeature([a.properties.circle],{silent:!0}),this.addFeature(A)):(A=this.newFeature({type:c.FEATURE,properties:{},geometry:{type:c.LINE_STRING,coordinates:[]}}),o=0,this.addFeature(A)),this.clearSelectedFeatures(),this.updateUIClasses({mouse:i.ADD}),this.activateUIButton(s.LINE),this.setActionableState({trash:!0}),this.map.getCanvas().style.cursor="crosshair",this.map.fire("draw.modechange",{mode:"radius"}),{line:A,currentVertexPosition:o,direction:"forward"}},d.clickAnywhere=function(e,n){return 1===e.currentVertexPosition?(e.line.addCoordinate(0,n.lngLat.lng,n.lngLat.lat),this.changeMode("simple_select",{featureIds:[e.line.id]})):(this.updateUIClasses({mouse:"add"}),e.line.updateCoordinate(e.currentVertexPosition,n.lngLat.lng,n.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition+=1,e.line.updateCoordinate(e.currentVertexPosition,n.lngLat.lng,n.lngLat.lat)):e.line.addCoordinate(0,n.lngLat.lng,n.lngLat.lat),null)},d.onStop=function(e){if(this.activateUIButton(),void 0===this.getFeature(e.line.id))return this.map.fire("draw.update",{features:[]}),void(this.map.getCanvas().style.cursor="");if(e.line.removeCoordinate("0"),e.line.isValid()){const n=e.line.toGeoJSON(),t=p(n.geometry.coordinates[0],_(n),null,256),r=this.newFeature({type:"Feature",properties:{meta:"centroid"},geometry:{type:"Point",coordinates:n.geometry.coordinates[0]}}),a=this.newFeature({type:"Feature",properties:{isCircle:!0,meta:"radius",centroid:r.id},geometry:{type:"Polygon",coordinates:t.geometry.coordinates}});r.properties.circle=a.id,this.addFeature(a),this.addFeature(r),this.map.fire("draw.create",{features:[a,r]}),this.deleteFeature([e.line.id],{silent:!0}),this.changeMode("simple_select",{},{silent:!0}),this.map.getCanvas().style.cursor=""}else this.deleteFeature([e.line.id],{silent:!0}),this.changeMode("simple_select",{},{silent:!0}),this.map.getCanvas().style.cursor=""},d.onMouseMove=function(e,n){e.line.updateCoordinate(e.currentVertexPosition,n.lngLat.lng,n.lngLat.lat),u(n)&&this.updateUIClasses({mouse:i.POINTER})},d.toDisplayFeatures=function(e,n,t){const r=n.properties.id===e.line.id;if(n.properties.active=r?"true":"false",!r)return t(n);if(n.geometry.coordinates.length<2)return null;n.properties.meta="feature";const a=function(e){const n=1e3*_(e);let t,r,a="m",A="0,0",i="feet",s="0,0";return t=n,n>=1e3&&(t=n/1e3,a="km",A="0.00"),(r=3.28084*n)>=5280&&(r/=5280,i="mi",s="0.00"),{metric:`${o()(t).format(A)} ${a}`,standard:`${o()(r).format(s)} ${i}`}}(n);var A,i,s;n.properties.datum=a.metric,t((A=e.line.id,i=n.geometry.coordinates["forward"===e.direction?n.geometry.coordinates.length-2:1],s=`${"forward"===e.direction?n.geometry.coordinates.length-2:1}`,{type:"Feature",properties:{meta:"vertex",parent:A,coord_path:s,active:!1?"true":"false"},geometry:{type:"Point",coordinates:i}})),t(n),t({type:"Feature",properties:{meta:"currentPosition",radiusMetric:a.metric,radiusStandard:a.standard,parent:e.line.id,active:"true"},geometry:{type:"Point",coordinates:n.geometry.coordinates[1]}});const c=p(n.geometry.coordinates[0],_(n,{units:"kilometers"}),e.line.id);return c.properties.meta="radius",t(c),null};var f=d;const h={onSetup:function(e){return this.setActionableState(),{}},onClick:function(e,n){},onKeyUp:function(e,n){},toDisplayFeatures:function(e,n,t){t(n)}};var g=h;class B{constructor(){}buildGeoJsonPolygonInteractionLayer(e){return{id:e.source+"-interaction",source:e.source,type:"line",minzoom:0,filter:e.filtered,paint:{"line-opacity":["interpolate",["linear"],["zoom"],7,["case",["boolean",["feature-state","hover"],!1],1,["boolean",["feature-state","selected"],!1],1,0],20,1],"line-color":["case",["boolean",["feature-state","hover"],!1],"#000000",["boolean",["feature-state","selected"],!1],"#000000","#ffffff"],"line-width":["interpolate",["linear"],["zoom"],7,0,20,["case",["boolean",["feature-state","hover"],!1],3,["boolean",["feature-state","selected"],!1],3,1]]}}}buildGeoJsonPolygonPropertyLayer(e,n){return{id:e.source+"-property",source:e.source,type:"fill-extrusion",minzoom:0,filter:e.filtered,paint:{"fill-extrusion-color":["case",["boolean",["feature-state","hover"],!1],"#000000",["boolean",["feature-state","selected"],!1],"#000000","#e5e5e5"],"fill-extrusion-height":n?0:["get",e.height],"fill-extrusion-base":n?0:["get",e.base],"fill-extrusion-opacity":.8,"fill-extrusion-vertical-gradient":!0}}}buildGeoJsonLineStringInteractionLayer(e){return{id:e.source+"-interaction",source:e.source,type:"line",minzoom:0,filter:e.filtered,paint:{"line-blur":.5,"line-opacity":["case",["boolean",["feature-state","hover"],!1],1,["boolean",["feature-state","selected"],!1],1,0],"line-color":"#000000","line-width":["case",["boolean",["feature-state","hover"],!1],10,["boolean",["feature-state","selected"],!1],10,.5]}}}buildGeoJsonLineStringPropertyLayer(e){return{id:e.source+"-property",source:e.source,type:"line",minzoom:0,filter:e.filtered,paint:{"line-color":"#e5e5e5","line-width":["interpolate",["linear"],["zoom"],10,.5,13,2,20,10],"line-blur":["interpolate",["linear"],["zoom"],10,0,20,2]}}}buildGeoJsonPointInteractionLayer(e){return{id:e.source+"-interaction",source:e.source,type:"circle",minzoom:0,filter:e.filtered,paint:{"circle-radius":5,"circle-color":"#000000","circle-stroke-width":0,"circle-opacity":["case",["boolean",["feature-state","hover"],!1],1,["boolean",["feature-state","selected"],!1],1,0]}}}buildGeoJsonPointPropertyLayer(e){return{id:e.source+"-property",source:e.source,type:"circle",filter:e.filtered,minzoom:0,paint:{"circle-radius":2,"circle-color":"#e5e5e5","circle-stroke-width":0,"circle-opacity":.5}}}buildMapBoxDrawLayerStyle(){return[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"black","fill-outline-color":"black","fill-opacity":0}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"black","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"black"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"black","line-dasharray":[.1,4],"line-width":1}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"black","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"black","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"black","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"black"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"black"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"black"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"black","fill-outline-color":"black","fill-opacity":0}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"black","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"black","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"black"}}]}}var m={Viridis:{10:["#440154","#472d7b","#3b528b","#2c728e","#21918c","#28ae80","#5ec962","#addc30","#d8e219","#fde725"]},Magma:{10:["#FCFFB2","#FBC17D","#FA8657","#ED504A","#C92D59","#981D69","#6B116F","#43006A","#1E0848","#080616"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}},E=t(1),b=t.n(E);const{MapboxLayer:v}=deck;class w{constructor(e,n){this._mapView=e,this.map=this._mapView.map,this.layers={},this.sources={},this.mask=null,this.legend=null,this.keys=[],this.loading=!1,this.cameras={},this.container=map._container,this.envelope=[],this.styleBuilder=new B,this.options={draw:!0,data:!0,filter:!0,download:!0,labels:!0,export:!0,active:null,camera:"default",mask:!0,boundary:!0,extrude:!1,popups:!0},n=n||{},Object.keys(n).forEach(e=>{this.options[e]=n[e]}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var t=this;document.addEventListener("keydown",function(e){t.keys.includes(e.key)||t.keys.push(e.key)}),document.addEventListener("keyup",function(e){t.keys.includes(e.key)&&t.keys.splice(t.keys.indexOf(e.key,1))}),document.addEventListener("keyup",function(e){"Tab"===e.key&&t.nextCamera()}),t.loader=document.getElementById("loader"),t.map.on("sourcedata",function(e){setTimeout(()=>{t.loading=!1,Object.keys(t.sources).forEach(n=>{e.target.isSourceLoaded(n)||(t.loading=!0)}),t.loading||t.loadingOverride?t.loader.classList.remove("collapsed"):t.loader.classList.contains("collapsed")||t.loader.classList.add("collapsed")},500)});var a=MapboxDraw.modes;!1===t.options.draw&&Object.keys(a).forEach(e=>{a[e]=g});var A=new MapboxDraw({displayControlsDefault:!1,defaultMode:"static",controls:{polygon:!1!==t.options.draw,trash:!1!==t.options.draw},styles:t.styleBuilder.buildMapBoxDrawLayerStyle(),modes:Object.assign({static:g,radius:f},a)});t.map.dragRotate.disable(),t.draw=A;var o=new r(t);function i(e){if(!e.bounds&&"draw.update"===e.type&&e.features&&e.features.length){var n=e.features.filter(e=>"Point"===e.geometry.type&&"centroid"===e.properties.meta);if(n.length)return void t.draw.changeMode("radius",{centroidId:n[0].id})}t.envelope=t.draw.getAll().features.filter(e=>"Polygon"===e.geometry.type||"MultiPolygon"===e.geometry.type),t.envelope.forEach(e=>{e.properties._kd||(e.properties._kd="draw")}),Object.keys(t.sources).forEach(n=>{var r=t.sources[n],a=r.active,A=!1;if(e.bounds){if(e.from===n)A=!0;else for(var o=0;o<r.boundaries.length;o++)if(r.boundaries[o]in e.bounds){A=!0;break}}else A=!0;console.log(n,A),A&&(r.brushed=[],t.updateCoordsView(n),t.updateFilteredFeatures(n),t.updatePropertyStates(n),t.updateFilter(n),null!=a&&t.selectProperty(n,a))}),t.updateLegend();var r=turf.featureCollection(t.envelope),a=turf.mask(r);t.mask.data.features=t.envelope.length?[a]:[],t.map.getSource("mask").setData(t.mask.data)}if(t.controls=o,t.map.addControl(o),t.map.addControl(A),t.map.on("draw.create",i),t.map.on("draw.delete",i),t.map.on("draw.update",i),t.map.on("draw.modechange",e=>{}),t.map.on("draw.selectionchange",e=>{e.features;e.features.forEach(e=>{"radius"==e.properties.meta&&t.draw.changeMode("radius",{featureId:e.id})})}),!1!==t.options.draw){var s=document.getElementsByClassName("mapbox-gl-draw_ctrl-draw-btn")[0].parentNode,c=document.createElement("img");c.src="img/mouse-icon.png",c.classList.add("mapbox-custom-ctrl"),c.classList.add("inactive");var l=document.createElement("button");l.classList.add("mapboxgl-ctrl-icon"),l.type="button",l.title="Select tool (s)",l.appendChild(c),l.addEventListener("click",e=>{"static"!==t.draw.getMode()?(t.draw.changeMode("static"),t.map.fire("draw.modechange",{mode:"static"})):(t.draw.changeMode("simple_select"),t.map.fire("draw.modechange",{mode:"simple_select"}))}),t.map.on("draw.modechange",e=>{"static"===e.mode?(c.classList.contains("inactive")||c.classList.add("inactive"),t.map.setPaintProperty("mask-boundary","fill-opacity",t.options.mask?1:0)):(c.classList.remove("inactive"),t.map.setPaintProperty("mask-boundary","fill-opacity",.6))});var u=document.createElement("img");u.src="img/mapbox/circle-icon.svg",u.classList.add("mapbox-custom-ctrl");var d=document.createElement("button");d.classList.add("mapboxgl-ctrl-icon"),d.type="button",d.title="Radius tool (r)",d.appendChild(u),d.addEventListener("click",e=>{t.draw.changeMode("radius")}),s.insertBefore(l,s.childNodes[0]),s.insertBefore(d,s.childNodes[1]),t.map.addLayer({id:"symbols-hot",type:"symbol",source:"mapbox-gl-draw-hot",layout:{"symbol-placement":"line-center","text-field":["get","datum"],"text-allow-overlap":!0,"text-ignore-placement":!0,"text-justify":"center","text-max-width":0,"text-offset":[0,.6],"text-anchor":"center"},paint:{}})}var _={type:"geojson",data:{type:"FeatureCollection",features:[]}};t.mask=_,t.map.addSource("mask",_),t.map.addLayer({id:"mask-boundary",source:"mask",type:"fill",minzoom:0,paint:{"fill-opacity":t.options.mask?1:0,"fill-color":"#FFF"}},"gl-draw-polygon-fill-inactive.cold"),t.toggleLabelsVisible(t.options.labels),t.toggleMask(t.options.mask),t.toggleBoundaryVisible(t.options.boundary)}buildSchema(){var e=this;var n,t,r=(n=e.draw.getAll(),(t=n.features.filter(e=>void 0===e.properties._kd||"draw"===e.properties._kd)).forEach((e,n)=>e.properties={_id:n}),n.features=t,n);return{geometry:r.features.length?r:null,data:{title:"UX.View",type:"SSDataSchema",options:e.options,cameras:Object.keys(e.cameras).map(n=>e.cameras[n]),schemas:(()=>r.features.length?[{id:"filter",url:null,options:{hidden:!0,visible:!1,include:!1,interactive:!1,legend:!1,index:-1,features:{selected:r.features.map(e=>e.properties._id)}}}]:[])().concat(Object.keys(e.sources).map(n=>{var t=e.sources[n],a=t.options;a.visible=t.visible,a.include=t.include,a.interactive=t.interactive,a.legend=t.legend,a.index=t.index,a.clean=t.clean;var A={filtered:a.properties&&a.properties.filtered?a.properties.filtered:e.getProperties(n),hidden:a.properties&&a.properties.hidden?a.properties.hidden:e.getProperties(n,!1,!0),selected:a.properties&&a.properties.selected?a.properties.selected:e.getProperties(n,!0,!1)};t.base&&(A.base=t.base),t.base&&!t.height&&(A.height="__default_null__"),t.height&&(A.height=t.height),t.height&&!t.base&&(A.base="__default_null__"),t.active&&(A.active=t.active),!1===t.clean&&(a.defaults=t.options.defaults||{string:"invalid data",number:-1,date:null,boolean:!1});var o={selected:a.features&&a.features.selected?a.features.selected:t.selected.map(e=>e._id)},i={xor:!(!a.boundary||!a.boundary.xor)||t.xor,filtered:a.boundary&&a.boundary.filtered?a.boundary.filtered:r.features.length?["filter"].concat(t.boundaries):t.boundaries},s=[];return A.filtered.forEach(n=>{var r=!1,a={property:n};if(t.states[n].propertyOptions&&(a=t.states[n].propertyOptions,r=!0),"string"===t.states[n].propertyType){var A=e.getBins(t.source,n).filter(e=>e.valid).map(e=>e.value),o=t.states[n].propertyCategories;a.selected=[],a.filtered=[],a.hidden=[],o.forEach(e=>{a.filtered.push(e),A.includes(e)?a.selected.push(e):(a.hidden.push(e),r=!0)})}else t.states[n].propertyType;null!==t.states[n].propertyStyleKey&&(a.color=t.states[n].propertyStyleKey,r=!0),!0===t.states[n].propertyReversed&&(a.reverse=!0,r=!0),t.states[n].propertyLabel!==n&&(a.label=t.states[n].propertyLabel,r=!0),""!==t.states[n].propertyUnit&&(a.unit=t.states[n].propertyUnit,r=!0),r&&s.push(a)}),a.properties=A,a.features=o,a.boundary=i,a.style=s,delete a.url,{id:t.source,url:t.url,options:a}}))}}}isExtruded(){return this.options.extrude}toggleExtruded(e){this.options.extrude=e;var n=this;this.options.extrude?(n.map.setPitch(30),n.map.touchZoomRotate.enableRotation(),n.map.dragRotate.enable()):(n.map.setPitch(0),n.map.setBearing(0),n.map.touchZoomRotate.disableRotation(),n.map.dragRotate.disable()),Object.keys(this.sources).forEach(e=>{var t=this.sources[e],r=t.layers.property;r&&(t.types.includes("Polygon")||t.types.includes("MultiPolygon"))&&(this.options.extrude?(n.map.setPaintProperty(r,"fill-extrusion-height",["get",t.height]),n.map.setPaintProperty(r,"fill-extrusion-base",["get",t.base])):(n.map.setPaintProperty(r,"fill-extrusion-height",0),n.map.setPaintProperty(r,"fill-extrusion-base",0)))}),this.controls.fire("toggle")}toggleBoundaryVisible(e){this.options.boundary=e;var n=this.options.boundary?"visible":"none";this.map.getStyle().layers.filter(e=>e.id.match("draw")&&e.id.match("static")).forEach(e=>{this.map.setLayoutProperty(e.id,"visibility",n)}),this.controls.fire("layers")}isBoundaryVisible(){return this.options.boundary}toggleMask(e){this.options.mask=e,"static"===this.draw.getMode()&&this.map.fire("draw.modechange",{mode:"static"}),this.controls.fire("layers")}isMasked(){return this.options.mask}toggleLabelsVisible(e){this.options.labels=e;for(var n=this,t=n.map.getStyle().layers,r=[],a=0;a<t.length;a++)"symbol"===t[a].type&&"symbols-hot"!==t[a].id&&r.push(t[a].id);r.forEach(e=>{n.map.setLayoutProperty(e,"visibility",n.options.labels?"visible":"none")}),this.controls.fire("layers")}areLabelsVisible(){return this.options.labels}addCamera(e,n){e in this.cameras||(this.cameras[e]=n),this.controls.fire("camera")}deleteCamera(e){e in this.cameras&&delete this.cameras[e],e===this.options.camera&&this.nextCamera(),this.controls.fire("camera")}saveCamera(e){var n,t,r={center:[this.map.getCenter().lng,this.map.getCenter().lat],zoom:this.map.getZoom(),bearing:this.map.getBearing(),pitch:this.map.getPitch(),plan:!this.isExtruded()};return"default"!=e&&null!=e&&null!=e||(e="camera_"+(n=46656*Math.random()|0,t=46656*Math.random()|0,(n=("000"+n.toString(36)).slice(-3))+(t=("000"+t.toString(36)).slice(-3)))),r.id=e,e in this.cameras?this.cameras[e]=r:this.addCamera(e,r),this.options.camera=e,this.controls.fire("camera"),r}nextCamera(){var e=Object.keys(this.cameras),n=this.options.camera,t=e.indexOf(n)+1;t>=e.length?this.options.camera="default":this.cameras[e[t]]&&this.toggleCamera(e[t],!0),this.controls.fire("camera")}getCameras(){return Object.keys(this.cameras)}getCamera(){return this.options.camera}toggleCamera(e,n){e in this.cameras?(this.options.camera=e,!0===this.cameras[e].plan?this.isExtruded()&&this.toggleExtruded(!this.isExtruded()):(this.cameras[e].plan,this.isExtruded()||this.toggleExtruded(!this.isExtruded())),this.map.flyTo(Object.assign({animate:n||!1},this.cameras[e]))):"default"===e?this.options.camera=e:console.err("camera not found : "+e),this.controls.fire("camera")}setLoading(e){this.loading=e,this.loadingOverride=e,e?self.loader.classList.remove("collapsed"):self.loader.classList.contains("collapsed")||self.loader.classList.add("collapsed")}isLoading(){return this.loading}areKeysDown(e){for(var n=0;n<e.length;n++)if(!this.keys.includes(e[n]))return!1;return!0}getSourceData(e){var n=this.sources[e];return null==n||null===n.coords?[]:n.coords.data()}addSource(e,n,t){var r=performance.now();function a(e,n){if(n&&n.color&&m[n.color]){var t=Object.keys(m[n.color]),r=t[t.length-1];return m[n.color][r]}var a={default:m.Viridis[10],category:m.Paired[12]},A=Object.keys(a),o=A[0];if(e in A)o=e;else for(var i=0;i<A.length;i++)-1!==e.toLowerCase().indexOf(A[i])&&(o=A[i]);return a[o]}console.log("call add source");var A=this;A.sources[e]=function(e,n){var t=performance.now();console.log("call wrangle");var r={options:n||{},data:e,properties:[],values:[],types:[],location:{center:[151.173,-33.877]}};if("FeatureCollection"===e.type){var a=e.features,A={},o={},i={};r.options.style&&r.options.style.forEach(e=>{e.property&&(i[e.property]=e)}),console.log(i),a.forEach((e,n)=>{if(r.options.properties&&r.options.properties.filtered){var t=Object.keys(e.properties).slice();t.forEach(n=>{r.options.properties.filtered.includes(n)||delete e.properties[n]})}e.properties=function(e){var n={};return Object.keys(e).forEach(t=>{var r=t.replace(/ /g,"_").replace(/\n/,"_").replace(/[^A-Z0-9]/gi,"_");n[r]=e[t]}),n}(e.properties);var a=C([e.properties]);Object.keys(a).forEach(n=>{var t=e.properties[n];i[n]&&i[n].filtered&&!i[n].filtered.includes(t)&&(e.properties[n]=null,t=null),n in o?null!==a[n]&&"null"!==a[n]&&(a[n],o[n]):null!==a[n]&&"null"!==a[n]&&(o[n]=a[n])})});var s=[];a.forEach((e,n)=>{var t=r.options.defaults||{string:"invalid data",number:-1,date:null,boolean:!1},a=!1;if(Object.keys(o).forEach(n=>{var r=e.properties[n];null==r||"null"===r||""===r?(e.properties[n]=t[o[n]],a=!0):y(r)!==o[n]&&(e.properties[n]=t[o[n]],a=!0),"number"===o[n]&&(e.properties[n]=+e.properties[n])}),!0===r.options.clean&&a)s.push(e);else{var i=Object.keys(e.properties);i.forEach(n=>{n in o||delete e.properties[n]});var c=e.geometry.type;r.types.includes(c)||r.types.push(c),"_id"in e.properties||(e.properties._id=n),e.id=e.properties._id;var l=0,u=0;switch(c){case"MultiPolygon":u=e.geometry.coordinates[0][0][0][0],l=e.geometry.coordinates[0][0][0][1];break;case"MultiLineString":case"Polygon":u=e.geometry.coordinates[0][0][0],l=e.geometry.coordinates[0][0][1];break;case"LineString":case"MultiPoint":u=e.geometry.coordinates[0][0],l=e.geometry.coordinates[0][1];break;case"Point":u=e.geometry.coordinates[0],l=e.geometry.coordinates[1]}e.properties.lat=l,e.properties.lon=u,Object.keys(e.properties).forEach(n=>{var t=e.properties[n];n in A?(A[n][0]>=t&&(A[n][0]=t),A[n][1]<=t&&(A[n][1]=t)):A[n]=[t,t]}),r.values.push(e.properties)}}),s.forEach(e=>{r.data.features.splice(r.data.features.indexOf(e),1)}),r.properties=A}var c=performance.now();return console.log("call to wrangle took "+(c-t)+" milliseconds."),r}(n,t),A.sources[e].index=Object.keys(A.sources).length-1,A.sources[e].source=e,A.sources[e].url=t.url,A.sources[e].states={},A.sources[e].interactive=!1!==A.sources[e].options.interactive,A.sources[e].visible=!1!==A.sources[e].options.visible,A.sources[e].include=!1!==A.sources[e].options.include,A.sources[e].legend=!1!==A.sources[e].options.legend,A.sources[e].clean=!0===A.sources[e].options.clean,A.sources[e].active=A.sources[e].options.properties&&A.sources[e].options.properties.active||null,A.sources[e].height=A.sources[e].options.properties&&A.sources[e].options.properties.height||"",A.sources[e].base=A.sources[e].options.properties&&A.sources[e].options.properties.base||"",A.sources[e].xor=A.sources[e].options.boundary&&A.sources[e].options.boundary.xor||!1,A.sources[e].boundaries=A.sources[e].options.boundary&&A.sources[e].options.boundary.filtered||["draw"],A.sources[e].mapped=[],A.sources[e].brushed=[],A.sources[e].coords=null,A.sources[e].grid=null,A.sources[e].boundary=null,A.sources[e].filtered=["in","_id"],A.sources[e].hovered=null,A.sources[e].hidden=[],A.sources[e].popups=[],A.sources[e].selected=[],A.sources[e].layers={property:[],interaction:[],clusters:[]},A.sources[e].filters={_default:e=>!1,_envelope:n=>{if(A.envelope.length>0){if(!n.lat||!n.lon)return!1;for(var t=turf.point([n.lon,n.lat]),r=!0,a=!1,o=A.sources[e].boundaries&&A.sources[e].boundaries.length?A.sources[e].boundaries:[],i=0;i<A.envelope.length;i++)if(o.includes(A.envelope[i].properties._kd)&&(a=!0,turf.inside(t,A.envelope[i]))){r=!1;break}return A.sources[e].xor&&(r=!r),a||(r=!1),r}return!1}},console.log("globalState built "+(performance.now()-r)+" milliseconds."),A.sources[e].values.forEach(n=>{var t=!0;Object.keys(A.sources[e].filters).forEach(r=>{A.sources[e].filters[r](n)&&(t=!1)}),t&&A.sources[e].filtered.push(n._id)}),console.log("filters built "+(performance.now()-r)+" milliseconds.");var o=Object.keys(A.sources[e].properties),i=C(A.sources[e].values);if(console.log("types detected "+(performance.now()-r)+" milliseconds."),o.sort(),o.forEach(n=>{var r=function(e,n){var r=null;t.style&&t.style.length&&t.style.forEach(n=>{n.property===e&&(r=n)});for(var A=[],o=n.properties[e],i=[o[0],o[1]],s=a(e,r),c=0;c<s.length;c++)A.push([o[0]+c*((i[1]-i[0])/s.length),s[c]]);var l={propertyStops:A,propertyInterval:o,propertyRange:i,propertyStyle:s,propertyStyleKey:null,propertyReversed:r&&r.reverse||!1,propertyLabel:r&&r.label||e,propertyUnit:r&&r.unit||""};return r&&(l.propertyOptions=r),l}(n,A.sources[e]);if(r.propertyType=i[n],"string"===r.propertyType){var o=[];A.sources[e].values.forEach(e=>{var t=e[n];o.includes(t)||o.push(t)}),o.sort(),r.propertyCategories=o,r.propertyStyle=a("category",r.propertyOptions||{}),r.propertyStops=[];for(var s=0;s<r.propertyCategories.length;s++)r.propertyStops.push([r.propertyCategories[s],r.propertyStyle[s%r.propertyStyle.length]])}else if("number"===r.propertyType){var c=0,l=0;A.sources[e].values.forEach(e=>{var t=e[n];c+=t,l+=1}),r.propertyAverage=l>0?c/l:0,r.propertyRangeAverage=r.propertyAverage,r.propertyBrushedAverage=r.propertyAverage,r.propertyBrushedInterval=r.propertyInterval}A.sources[e].states[n]=r,A.sources[e].hidden.push(n)}),console.log("propertyStates built "+(performance.now()-r)+" milliseconds."),1===Object.keys(A.sources).length&&"default"===A.options.camera){var s=turf.buffer(this.sources[e].data.features[0],10,{units:"miles"}),c=turf.bbox(s);A.map.fitBounds(c)}(A.map.addSource(e,{type:"geojson",data:n}),A.updatePropertyStates(e),t.features&&t.features.selected)&&n.features.filter(e=>t.features.selected.includes(e.id)).forEach(n=>{A.selectFeature(e,n.properties,{type:"map"})});A.updateBoundaries();var l=performance.now();console.log("call to add source took "+(l-r)+" milliseconds.")}toggleActiveSource(e,n){var t=this.sources[e];null!=t&&(this.options.active!==e||n?this.options.active=e:this.options.active=null,this._mapView.fire("active"),this.updateLegend())}getActiveSource(){return this.options.active}moveSourceUp(e){var n=this,t=n.sources[e];if(null!=t&&t.index!==Object.keys(n.sources).length-1){var r=n.sources[Object.keys(n.sources).filter(e=>n.sources[e].index===t.index+1)[0]];n.moveSourceDown(r.source)}}moveSourceDown(e){var n=this,t=n.sources[e];if(null!=t&&0!==t.index){var r=n.sources[Object.keys(n.sources).filter(e=>n.sources[e].index===t.index-1)[0]],a=[];Object.keys(r.layers).forEach(e=>{r.layers[e].forEach(e=>{a.push(e)})});var A=[],o=[];Object.keys(t.layers).forEach(e=>{t.layers[e].forEach(e=>{A.push(e)})});for(var i=n.map.getStyle().layers,s=null,c=0;c<i.length;c++)null==s&&a.includes(i[c].id)&&(s=i[c].id),A.includes(i[c].id)&&o.push(i[c].id);for(c=0;c<o.length;c++){var l=o[c];n.map.moveLayer(l,s)}r.index+=1,t.index-=1,n.updateLegend()}}getSourceKeys(){return Object.keys(this.sources)}getLayerKeys(){return Object.keys(this.layers)}getProperties(e,n,t){var r=this.sources[e];if(null==r)return[];var a=Object.keys(r.properties);if(n&&t);else if(t)a=r.hidden;else if(n){var A=[];a.forEach(e=>{r.hidden.includes(e)||A.push(e)}),a=A}return a.sort(),a}getPropertyState(e,n){var t=this.sources[e];return null==t?null:void 0===t.states[n]?null:t.states[n]}toggleSource(e,n){var t=this.sources[e];null!=t&&(t.include=n,this.toggleLayers(e,t.include),t.include||this.getActiveSource()!==e?t.visible&&t.include&&t.interactive&&null===this.getActiveSource()&&this.toggleActiveSource(e,!0):this.toggleActiveSource(e,!1),this.updateLegend())}addLayers(e){this.addInteractionLayer(e),this.addPropertyLayer(e)}toggleInteraction(e,n){var t=this.sources[e];null!=t&&(t.popups.forEach(e=>{e.toggleInteraction(n)}),t.interactive=n,t.interactive||this.getActiveSource()!==e?t.visible&&t.include&&t.interactive&&null===this.getActiveSource()&&this.toggleActiveSource(e,!0):this.toggleActiveSource(e,!1),this.updateLegend())}toggleXor(e,n){var t=this.sources[e];null!=t&&(t.xor=n,this.updateBoundaries(e,void 0,{xor:!0}))}isXor(e){var n=this.sources[e];return null!=n&&n.xor}toggleLayers(e,n){var t=this,r=t.sources[e],a=!0===n?"visible":"none";null!=r&&(Object.keys(r.layers).forEach(e=>{r.layers[e].forEach(e=>{t.map.setLayoutProperty(e,"visibility",a)})}),n?t.togglePopups(e,t.arePopupsVisible()):t.togglePopups(e,n),r.visible=n,r.visible||t.getActiveSource()!==e?r.visible&&r.include&&r.interactive&&null===t.getActiveSource()&&t.toggleActiveSource(e,!0):t.toggleActiveSource(e,!1),t.updateLegend())}togglePopupsVisible(e){var n=this;n.options.popups=e,Object.keys(n.sources).forEach(e=>{n.sources[e];n.togglePopups(e,n.options.popups)}),n.controls.fire("layers")}arePopupsVisible(){return this.options.popups}togglePopups(e,n){var t=this,r=t.sources[e];null!=r&&r.popups.forEach(e=>{n?e.toggleVisibility(t.arePopupsVisible()):e.toggleVisibility(n)})}updateWireFrameLayer(e){var n=this.sources[e];if(null!=n){for(var t=this.map.getStyle().layers,r=0;r<t.length;r++)if("symbol"===t[r].type){t[r].id;break}var a=n.data.features.slice(),A=n.base;a.forEach(e=>{var n=e.geometry.coordinates,t=A&&e.properties[A]?e.properties[A]:0;isNaN(n[0])?n.forEach(e=>{isNaN(e[0])?e.forEach(e=>{isNaN(e[0])?e.forEach(e=>{isNaN(e[0])?e.forEach(e=>{e[2]=t}):e[2]=t}):e[2]=t}):e[2]=t}):n[2]=t}),n.mapped=a}}addWireFrameLayer(e){var n=this.sources[e];if(null==n)return;if(!n.types.includes("Polygon")&&!n.types.includes("MultiPolygon"))return;for(var t,r=this.map.getStyle().layers,a=0;a<r.length;a++)if("symbol"===r[a].type){t=r[a].id;break}this.updateWireFrameLayer(e);var A=new v({type:GeoJsonLayer,id:e+"-wireframe",data:this.sources[e].mapped,opacity:.6,stroked:!0,filled:!1,extruded:!1,wireframe:!1,fp64:!1,lightSettings:{lightsPosition:[-125,50.5,5e3,-122.8,48.5,8e3],ambientRatio:.2,diffuseRatio:.5,specularRatio:.3,lightsStrength:[1,0,2,0],numberOfLights:2},getElevation:e=>0,getFillColor:e=>[255,255,255],getLineColor:e=>[255,255,255],lineWidthMaxPixels:1,lineWidthMinPixels:0,pickable:!1,onHover:n=>highlightFeature(e,n.properties,{type:"map"})});this.sources[e].layers.interaction.push(A.id),this.map.addLayer(A,t)}addInteractionLayer(e){var n=this.sources[e];if(null!=n){for(var t,r=this.map.getStyle().layers,a=0;a<r.length;a++)if("symbol"===r[a].type){t=r[a].id;break}if(n.types.length>1){n.types.forEach(e=>{e+"\n"}),"\nMap behavior may be unpredictable."}switch(n.types[0]){case"Polygon":case"MultiPolygon":var A=(o=this.styleBuilder.buildGeoJsonPolygonInteractionLayer(n)).id;this.sources[e].layers.interaction.push(A),this.map.addLayer(o,t);break;case"LineString":case"MultiLineString":A=(o=this.styleBuilder.buildGeoJsonLineStringInteractionLayer(n)).id;this.sources[e].layers.interaction.push(A),this.map.addLayer(o,t);break;case"Point":case"MultiPoint":var o;A=(o=this.styleBuilder.buildGeoJsonPointInteractionLayer(n)).id;this.sources[e].layers.interaction.push(A),this.map.addLayer(o,t),this.map.moveLayer(A)}}}addPropertyLayer(e){var n=this,t=n.sources[e];if(null!=t){for(var r,a=n.map.getStyle().layers,A=0;A<a.length;A++)if("symbol"===a[A].type){r=a[A].id;break}if(t.types.length>1){t.types.forEach(e=>{e+"\n"}),"\nMap behavior may be unpredictable."}switch(t.types[0]){case"Polygon":case"MultiPolygon":var o=(i=n.styleBuilder.buildGeoJsonPolygonPropertyLayer(t,!n.isExtruded())).id;n.sources[e].layers.property.push(o),n.map.addLayer(i,r);break;case"LineString":case"MultiLineString":o=(i=n.styleBuilder.buildGeoJsonLineStringPropertyLayer(t)).id;n.sources[e].layers.property.push(o),n.map.addLayer(i,r);break;case"Point":case"MultiPoint":var i;o=(i=n.styleBuilder.buildGeoJsonPointPropertyLayer(t)).id;n.sources[e].layers.property.push(o),n.map.addLayer(i,r)}n.sources[e].layers.property.forEach(t=>{n.map.on("mousemove",t,function(t){!1!==n.sources[e].interactive&&"static"===n.draw.getMode()&&t.features.length>0&&(n.map.getCanvas().style.cursor="pointer",n.highlightFeature(e,t.features[0].properties,{type:"map",location:t.lngLat}))}),n.map.on("mouseleave",t,function(){!1!==n.sources[e].interactive&&"static"===n.draw.getMode()&&(n.map.getCanvas().style.cursor="",n.unhighlightFeature(e))}),n.map.on("click",t,function(t){!1!==n.sources[e].interactive&&"static"===n.draw.getMode()&&t.features.length>0&&n.selectFeature(e,t.features[0].properties,{type:"map",location:t.lngLat})})})}}highlightFeature(e,n,t){var r=this.sources[e];null==t||null==t||t.type,null==t||null==t||t.location;if(null!=r){var a=r.selected.slice();a.push(n),r.hovered&&(this.map.setFeatureState({source:e,id:r.hovered._id},{hover:!1}),r.grid&&r.grid.unhighlight(r.hovered)),r.hovered=n,this.map.setFeatureState({source:e,id:r.hovered._id},{hover:!0}),r.coords&&r.coords.highlight(a),r.grid&&r.grid.highlight(r.hovered)}}unhighlightFeature(e){var n=this.sources[e];null!=n&&(n.hovered&&(this.map.setFeatureState({source:e,id:n.hovered._id},{hover:!1}),n.grid&&n.grid.unhighlight(n.hovered)),n.hovered=null,this.updateCoordsViewHighlighedFeatures(e))}selectFeature(e,n,t){var r=this,a=r.sources[e],A=null==t||null==t?null:t.type,o=null==t||null==t?null:t.location;if(null!=a){var i=a.types;if(0!==(s=a.data.features.filter(e=>n._id===e.id)).length){if(s.forEach(n=>{null==o&&(i.includes("MultiPolygon")?o=n.geometry.coordinates[0][0][0]:i.includes("Polygon")||i.includes("MultiLineString")?o=n.geometry.coordinates[0][0]:i.includes("LineString")||i.includes("MultiPoint")?o=n.geometry.coordinates[0]:i.includes("Point")&&(o=n.geometry.coordinates)),a.selected.push(n.properties),a.grid&&a.grid.select(n.properties,t),r.addFeaturePopup(e,n,o),r.map.setFeatureState({source:e,id:n.id},{selected:!0})}),r.updateCoordsViewHighlighedFeatures(e),"click"===A&&a.visible){var s;if(0===(s=a.data.features.filter(e=>n._id===e.id)).length)return;var c=turf.bbox(turf.featureCollection(s));r.map.fitBounds(c,{padding:20,maxZoom:15})}r.updateBoundaries()}}}deselectFeature(e,n){var t=this,r=t.sources[e];if(null!=r){var a=r.data.features.filter(e=>n._id===e.id);0!==a.length&&(a.forEach(n=>{var a=r.selected.indexOf(n.properties);-1!=a&&r.selected.splice(a,1),r.grid&&r.grid.deselect(n.properties),t.removeFeaturePopup(e,n),t.map.setFeatureState({source:e,id:n.id},{selected:!1})}),t.updateCoordsViewHighlighedFeatures(e),t.updateBoundaries())}}removeFeaturePopup(e,n){var t=this.sources[e];null!=t&&t.popups.filter(e=>e.properties._id==n.id).forEach(e=>{e.remove()})}addFeaturePopup(e,n,t){var r=this,a=r.sources[e];if(null!=a){var A=n.properties,o=(a.types,r.map.getFeatureState({source:e,id:n.id})),i=document.createElement("div"),s=n.geometry.type;null==t&&("MultiPolygon"===s?t=n.geometry.coordinates[0][0][0]:"Polygon"===s||"MultiLineString"===s?t=n.geometry.coordinates[0][0]:"LineString"===s||"MultiPoint"===s?t=n.geometry.coordinates[0]:"Point"===s&&(t=n.geometry.coordinates)),(p=document.createElement("div")).classList.add("popup-header"),p.id=e,i.appendChild(p);var c=document.createElement("div");if(c.classList.add("popup-label"),c.innerHTML=e,p.appendChild(c),(f=document.createElement("div")).classList.add("popup-content"),f.classList.add("collapsed"),i.appendChild(f),c.addEventListener("click",e=>{f.classList.toggle("collapsed")}),!o.selected){var l=document.createElement("div");l.classList.add("property-keys");var u=document.createElement("values");u.classList.add("property-values"),f.appendChild(l),f.appendChild(u);var d=new mapboxgl.Popup({closeButton:!0,closeOnClick:!1});d.setLngLat(t).setDOMContent(i).addTo(r.map),d.properties=A,a.popups.push(d),d._content.addEventListener("mouseenter",function(e){a.coords.highlight([A]),d._content.parentNode.parentNode.appendChild(d._content.parentNode)}),d._content.addEventListener("mouseleave",function(n){r.updateCoordsViewHighlighedFeatures(e)});var _=d3.select(d._content.parentNode)[0][0],p=d3.select(d._content).select(".popup-header")[0][0],f=d3.select(d._content).select(".popup-content")[0][0],h=_.style.transform.split("translate"),g=h[h.length-1].replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"","").replace(/px/g,"").split(" "),B=+g[0],m=+g[1],E=document.createElement("div");E.classList.add("popup-indicator"),d._content.parentNode.parentNode.appendChild(E);var b=null;d.updateContent=function(){l.innerHTML="",u.innerHTML="",Object.keys(n.properties).forEach(e=>{if(!a.hidden.includes(e)){var n=document.createElement("div");n.classList.add("popup-prop"),n.property=e,n.innerHTML=e;var t=document.createElement("div");t.classList.add("popup-value"),t.innerHTML=A[e],t.property=e,l.appendChild(n),u.appendChild(t)}}),d.toggleActive(a.active)},d.toggleInteraction=function(e){var n=i.parentNode,t=(i.parentNode.parentNode,n.firstChild);e?t.classList.remove("collapsed"):t.classList.contains("collapsed")||t.classList.add("collapsed")},d.toggleVisibility=function(e){var n=i.parentNode.parentNode;n&&(e?n.classList.remove("collapsed"):n.classList.contains("collapsed")||n.classList.add("collapsed")),E&&(e?E.classList.remove("collapsed"):E.classList.contains("collapsed")||E.classList.add("collapsed")),b&&(e?b.classList.remove("collapsed"):b.classList.contains("collapsed")||b.classList.add("collapsed"))},d.getKeys=function(){return Array.prototype.slice.call(f.childNodes[0].childNodes)},d.getValues=function(){return Array.prototype.slice.call(f.childNodes[1].childNodes)},d.toggleActive=function(e){d.getKeys().forEach(n=>{e&&n.property===e?n.classList.contains("active")||n.classList.add("active"):n.classList.remove("active")}),d.getValues().forEach(n=>{e&&n.property===e?n.classList.contains("active")||n.classList.add("active"):n.classList.remove("active")})},d.updateContent(),d.toggleVisibility(a.visible),d.toggleInteraction(a.interactive),r.map.on("move",function(e){h=_.style.transform.split("translate"),g=h[h.length-1].replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"","").replace(/px/g,"").split(" "),B=+g[0],m=+g[1],E&&(E.parentNode.removeChild(E),E=null),b&&(b.parentNode.removeChild(b),b=null)}),f.addEventListener("mouseenter",function(n){r.highlightFeature(e,A,{type:"map"})}),f.addEventListener("mouseleave",function(n){r.unhighlightFeature(e)}),p.addEventListener("mousedown",function(e){_.style["transition-timing-function"]="ease-in-out",_.style["transition-duration"]=".01s",_.style["transition-delay"]=".01s";var n=e.clientX,t=e.clientY,a=_.style.transform.split("translate"),A=a[a.length-1].replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"","").replace(/px/g,"").split(" "),o=a[a.length-2],i=+A[0],s=+A[1];E||((E=document.createElement("div")).classList.add("popup-indicator"),d._content.parentNode.parentNode.appendChild(E)),b||((b=document.createElement("div")).classList.add("popup-pointer"),b.classList.add("collapsed"),d._content.parentNode.parentNode.appendChild(b),b.style.top=s-5+"px",b.style.left=i-5+"px");var c=function(e){var a=e.clientX-n,A=e.clientY-t,c=1;r.areKeysDown(["Control"])&&(c=50);var l=Math.ceil((i+a)/c)*c,u=Math.ceil((s+A)/c)*c;_.style.transform="translate"+o+"translate("+l+"px, "+u+"px)",E&&(E.style.left=d3.min([l,B])+"px",E.style.top=d3.min([u,m])+"px",E.style.width=Math.abs(l-B)+"px",E.style.height=Math.abs(u-m)+"px",l<B?(E.style["border-left"]="2px dashed black",E.style["border-right"]=""):(E.style["border-left"]="",E.style["border-right"]="2px dashed black"),u<m?(E.style["border-bottom"]="2px dashed black",E.style["border-top"]=""):(E.style["border-bottom"]="",E.style["border-top"]="2px dashed black")),Math.abs(u-m)>5||Math.abs(l-B)>5?b&&b.classList.contains("collapsed")&&b.classList.remove("collapsed"):b&&(b.classList.contains("collapsed")||b.classList.add("collapsed"))};document.addEventListener("mousemove",c),document.addEventListener("mouseup",function(e){document.removeEventListener("mousemove",c),_.style["transition-duration"]="",_.style["transition-delay"]=""})}),d.on("close",function(){a.popups.splice(a.popups.indexOf(d),1),r.deselectFeature(e,d.properties),E&&(E.parentNode.removeChild(E),E=null),b&&(b.parentNode.removeChild(b),b=null)})}}}addBoundary(e,n,t){var r=this.sources[e],a=this.sources[n];("draw"===n||null!=r&&null!=a&&!a.boundaries.includes(e))&&(r.boundaries.includes(n)||r.boundaries.push(n),this.updateBoundaries(e,n,t))}removeBoundary(e,n,t){var r=this.sources[e],a=(this.sources[n],r.boundaries.indexOf(n));-1!=a&&r.boundaries.splice(a,1),this.updateBoundaries(e,n,t)}updateBoundaries(e,n,t){var r=this,a={},A=r.draw.getAll(),o=[],i=A.features.map(e=>e.id).sort(function(e,n){return(""+e).localeCompare(""+n)});Object.keys(r.sources).forEach(e=>{var n=r.sources[e];n.boundaries&&n.boundaries.length&&n.boundaries.forEach(n=>{n in a||(a[n]=[]),a[n].push(e)})}),A.features.forEach(e=>{"draw"!==e.properties._kd&&void 0!==e.properties._kd||o.push(e)}),Object.keys(r.sources).forEach(e=>{var n=r.sources[e];if(e in a){var t=n.selected.map(e=>e._id);n.data.features.filter(e=>t.includes(e.id)).forEach(n=>{n.properties._kd=e,o.push(n)})}}),A.features=o;var s=A.features.map(e=>e.id).sort(function(e,n){return(""+e).localeCompare(""+n)}),c=t&&t.xor;!function e(n,t){var r=Object.prototype.toString.call(n);if(r!==Object.prototype.toString.call(t))return!1;if(["[object Array]","[object Object]"].indexOf(r)<0)return!1;var a="[object Array]"===r?n.length:Object.keys(n).length;if(a!==("[object Array]"===r?t.length:Object.keys(t).length))return!1;var A=function(n,t){var r=Object.prototype.toString.call(n);if(["[object Array]","[object Object]"].indexOf(r)>=0){if(!e(n,t))return!1}else{if(r!==Object.prototype.toString.call(t))return!1;if("[object Function]"===r){if(n.toString()!==t.toString())return!1}else if(n!==t)return!1}};if("[object Array]"===r){for(var o=0;o<a;o++)if(!1===A(n[o],t[o]))return!1}else for(var i in n)if(n.hasOwnProperty(i)&&!1===A(n[i],t[i]))return!1;return!0}(i,s)||"draw"===n||c?(r.draw.set(A),r.map.fire("draw.update",{features:o,bounds:a,from:e,to:n}),r.updateBoundaryViews()):r.updateBoundaryViews()}addBoundaryView(e,n){var t=this.sources[e];if(null!=t)return t.boundary=function(e,n){var t={config:n,source:e,columns:null,data:[],sort:null,reverse:!0,headers:[],rows:[],stats:[],indexes:{},highlight:[],divider:null,max:100},r=function(e){return e=r.selection=d3.select(e),r};return r.rows=function(){return t.rows},r.headers=function(){return t.headers},r.stats=function(){return t.stats},r.max=function(e){return arguments.length?(t.max=e,r.render(),r):t.max},r.data=function(e){return arguments.length?(t.data=e.slice(),null===t.columns&&0!==e.length&&(t.columns=d3.keys(e[0])),null===t.sort&&0!==e.length&&r.sort(t.columns[0]),this):t.data},r.columns=function(e){return arguments.length?(t.columns=e,this):t.columns},r.sort=function(e){if(t.columns.includes(e))return t.reverse=t.sort!==e||!t.reverse,t.sort=e,t.data.sort(function(e,n){return"string"==typeof e[t.sort]&&"string"==typeof n[t.sort]?(""+e[t.sort]).localeCompare(""+n[t.sort]):e[t.sort]-n[t.sort]}),t.reverse&&t.data.reverse(),r.render(),t.headers.forEach(n=>{n.label.innerHTML===e?(n.button.style.visibility="visible",t.reverse?n.img.style.transform="rotate(-90deg) ":n.img.style.transform="rotate(90deg) "):n.button.style.visibility="hidden"}),this},r.highlight=function(e){var n=r.buildRow(e,t.indexes[e.index]);n.cells.forEach(e=>{e.bar.classList.contains("selected")||e.bar.classList.add("selected")}),n.img.classList.contains("selected")||n.img.classList.add("selected"),t.highlight[0].innerHTML=n.row.innerHTML},r.unhighlight=function(e){t.highlight[0].innerHTML=""},r.select=function(e,n){if(t.source.source,t.source.types,0===t.source.boundaries.filter(n=>e.source===n.source).length){var a=!1;if(t.rows.forEach(t=>{t.data.source===e.source&&(t.cells.forEach(e=>{e.value.classList.contains("selected")||e.value.classList.add("selected")}),t.img.classList.contains("selected")||t.img.classList.add("selected"),void 0!==n&&"click"!==n.type&&t.row.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),a=!0)}),!a){var A=r.selection[0][0],o=t.indexes[e.index],i=r.buildRow(e,o);i.cells.forEach(e=>{e.value.classList.contains("selected")||e.value.classList.add("selected")}),i.img.classList.contains("selected")||i.img.classList.add("selected"),i.row.addEventListener("click",n=>{t.source.boundaries.includes(e.source)?t.config.removeBoundary(t.source.source,e.source):t.config.addBoundary(t.source.source,e.source)}),t.rows.push({data:e,index:o,img:i.img,row:i.row,cells:i.cells}),t.divider.style.visibility="visible",A.appendChild(i.row),i.row.scrollIntoView(!1)}}},r.deselect=function(e){t.source.source,t.source.types,0!==t.source.boundaries.filter(n=>e.source===n.source).length&&t.rows.forEach((n,r)=>{n.data.source===e.source&&(n.cells.forEach(e=>{e.value.classList.remove("selected")}),n.img.classList.remove("selected"),n.index>=t.max&&(n.row.remove(),t.rows.splice(r,1)))})},r.buildRow=function(e,n){var r=document.createElement("div");r.classList.add("row");var a=document.createElement("img");a.classList.add("box-menu-img"),a.src="img/pointer-icon.png";var A=document.createElement("div");A.classList.add("box-menu-item"),A.style=" margin: 0; padding-left: 8px; padding-right: 0px",A.appendChild(a);var o=document.createElement("div");o.classList.add("box-menu-item"),o.style=" margin: 0px; padding-top: 1px; padding-left: 8px; padding-right: 0px; font-size: 9px; ",o.innerHTML=n,r.appendChild(A),r.appendChild(o);var i=[];return t.columns.forEach(n=>{t.source.states[n];var a=document.createElement("div");a.classList.add("cell");var A=document.createElement("div");A.classList.add("cell-value"),Array.isArray(e[n])?e[n].length&&"string"==typeof e[n][0]?A.innerHTML=e[n]:e[n].length?A.innerHTML=e[n].length:A.innerHTML="_":"object"==typeof e[n]?A.innerHTML="object":A.innerHTML=e[n],a.appendChild(A),r.appendChild(a),i.push({cell:a,value:A})}),{row:r,cells:i,img:a}},r.render=function(){var e=r.selection[0][0];e.innerHTML="",t.headers=[],t.rows=[],t.stats=[],t.indexes={},t.highlight=[],t.divider=null;var n=document.createElement("div");n.classList.add("header"),function(){var e=document.createElement("div");e.classList.add("box-menu-item"),e.style=" margin: 0; padding-left: 8px; padding-right: 0px";var n=document.createElement("div");return n.classList.add("box-menu-item"),n.style=" margin: 0px; padding-top: 1px; padding-left: 8px; padding-right: 0px; font-size: 9px; ",[e,n]}().forEach(e=>n.appendChild(e)),t.columns.forEach(e=>{t.source.states[e];var a=document.createElement("div");a.classList.add("cell"),a.classList.add("col");var A=document.createElement("div");A.classList.add("cell-label"),A.innerHTML=e,A.title=e;var o=document.createElement("img");o.classList.add("box-menu-img"),o.classList.add("selected"),o.style=" transform: rotate(-90deg); width: 10px; height: 10px; ",o.src="img/right-arrow-icon.png";var i=document.createElement("div");i.classList.add("box-menu-item"),i.style=" padding: 0; margin: 1px; top: 0; max-width: 10px; min-width: 0px;",i.style.visibility="hidden",i.appendChild(o),a.appendChild(A),a.appendChild(i),a.addEventListener("click",n=>{r.sort(e)}),n.appendChild(a),t.headers.push({cell:a,label:A,button:i,img:o})}),e.appendChild(n);var a=document.createElement("div");a.classList.add("row"),a.classList.add("highlight"),a.style["min-height"]="2px",a.style.height="2px",e.appendChild(a),t.highlight.push(a);var A=document.createElement("div");A.classList.add("row-content"),e.appendChild(A);var o=0;return t.data.forEach((e,n)=>{if(t.indexes[e.index]=n,!(n>=t.max)||t.source.boundaries.includes(e.source)){o==t.max&&(t.divider=document.createElement("div"),t.divider.innerHTML="... "+(t.data.length-o)+" more elements",t.divider.style="border-bottom : 1px solid grey; margin-top : 8px; margin-bottom: 8px; font-size : 8px; ",A.appendChild(t.divider));var a=r.buildRow(e,n);A.appendChild(a.row),a.row.addEventListener("click",n=>{t.source.boundaries.includes(e.source)?t.config.removeBoundary(t.source.source,e.source):t.config.addBoundary(t.source.source,e.source,{xor:!1,selected:!0})}),a.row.addEventListener("mouseenter",e=>{}),a.row.addEventListener("mouseleave",e=>{}),t.rows.push({data:e,index:n,img:a.img,row:a.row,cells:a.cells}),null!==t.source.boundaries&&t.source.boundaries.includes(e.source)?r.select(e,{type:"click",location:null}):r.deselect(e),o+=1}}),null==t.divider&&o>=t.max&&(t.divider=document.createElement("div"),t.divider.innerHTML="... "+(t.data.length-o)+" more elements",t.divider.style="border-bottom : 1px solid grey; margin-top : 8px; margin-bottom: 8px; font-size : 8px; ",t.divider.style.visibility="none",A.appendChild(t.divider)),A.scrollTop=0,this},r}(t,this)(n),this.updateBoundaryView(e),t.boundary}updateBoundaryViews(){var e=this;Object.keys(e.sources).forEach(n=>{e.updateBoundaryView(n)})}updateBoundaryView(e){var n=this,t=n.sources[e];if(null!=t&&null!==t.boundary){var r=[{source:"draw",types:["Polygon"],xor:"_",boundaries:[],selected:n.draw.getAll().features.filter(e=>"draw"===e.properties._kd||void 0===e.properties._kd).map(e=>e.properties)}];Object.keys(n.sources).forEach(t=>{t==e||n.sources[t].boundaries.includes(e)||r.push(n.sources[t])}),t.boundary.data(r).columns(["source","types","boundaries","selected","xor"]).render()}}addSheetView(e,n){var t=this.sources[e];if(null!=t&&null!==t.coords)return t.grid=function(e,n){var t={config:n,source:e,columns:null,data:[],sort:null,reverse:!0,headers:[],rows:[],stats:[],indexes:{},highlight:[],divider:null,max:100},r=function(e){return e=r.selection=d3.select(e),r};return r.rows=function(){return t.rows},r.headers=function(){return t.headers},r.stats=function(){return t.stats},r.max=function(e){return arguments.length?(t.max=e,r.render(),r):t.max},r.data=function(e){return arguments.length?(t.data=e.slice(),null===t.columns&&0!==e.length&&(t.columns=d3.keys(e[0])),null===t.sort&&0!==e.length&&r.sort(t.columns[0]),this):t.data},r.columns=function(e){return arguments.length?(t.columns=e,this):t.columns},r.sort=function(e){if(t.columns.includes(e)){t.reverse=t.sort!==e||!t.reverse,t.sort=e;var n=t.source.states[e].propertyType;return t.data.sort(function(e,r){return"string"===n?(""+e[t.sort]).localeCompare(""+r[t.sort]):e[t.sort]-r[t.sort]}),t.reverse&&t.data.reverse(),r.render(),t.headers.forEach(n=>{n.label.innerHTML===e?(n.button.style.visibility="visible",t.reverse?n.img.style.transform="rotate(-90deg) ":n.img.style.transform="rotate(90deg) "):n.button.style.visibility="hidden"}),this}},r.highlight=function(e){var n=r.buildRow(e,t.indexes[e._id]);n.cells.forEach(e=>{e.bar.classList.contains("selected")||e.bar.classList.add("selected")}),n.img.classList.contains("selected")||n.img.classList.add("selected"),t.highlight[0].innerHTML=n.row.innerHTML},r.unhighlight=function(e){t.highlight[0].innerHTML=""},r.select=function(e,n){if(t.source.source,t.source.types,0!==t.source.data.features.filter(n=>e._id===n.id).length){var a=!1;if(t.rows.forEach(t=>{t.data._id===e._id&&(t.cells.forEach(e=>{e.bar.classList.contains("selected")||e.bar.classList.add("selected")}),t.img.classList.contains("selected")||t.img.classList.add("selected"),void 0!==n&&"click"!==n.type&&t.row.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),a=!0)}),!a){var A=r.selection[0][0],o=t.indexes[e._id],i=r.buildRow(e,o);i.cells.forEach(e=>{e.bar.classList.contains("selected")||e.bar.classList.add("selected")}),i.img.classList.contains("selected")||i.img.classList.add("selected"),i.row.addEventListener("click",n=>{t.source.selected.includes(e)?t.config.deselectFeature(t.source.source,e):t.config.selectFeature(t.source.source,e,{type:"click",location:null})}),t.rows.push({data:e,index:o,img:i.img,row:i.row,cells:i.cells}),t.divider.style.visibility="visible",A.appendChild(i.row),i.row.scrollIntoView(!1)}}},r.deselect=function(e){t.source.source,t.source.types,0!==t.source.data.features.filter(n=>e._id===n.id).length&&t.rows.forEach((n,r)=>{n.data._id===e._id&&(n.cells.forEach(e=>{e.bar.classList.contains("selected")&&e.bar.classList.remove("selected")}),n.img.classList.remove("selected"),n.index>=t.max&&(n.row.remove(),t.rows.splice(r,1)))})},r.buildRow=function(e,n){var r=document.createElement("div");r.classList.add("row");var a=document.createElement("img");a.classList.add("box-menu-img"),a.src="img/pointer-icon.png";var A=document.createElement("div");A.classList.add("box-menu-item"),A.style=" margin: 0; padding-left: 8px; padding-right: 0px",A.appendChild(a);var o=document.createElement("div");o.classList.add("box-menu-item"),o.style=" margin: 0px; padding-top: 1px; padding-left: 8px; padding-right: 0px; font-size: 9px; ",o.innerHTML=n,r.appendChild(A),r.appendChild(o);var i=[];return Object.keys(t.source.coords.dimensions()).forEach(n=>{var a=t.source.states[n],A=a.propertyRange,o=document.createElement("div");o.classList.add("cell");var s=document.createElement("div");s.classList.add("cell-bar");var c=void 0!==a.propertyClamp&&null!==a.propertyClamp?a.propertyClamp:a.propertyRange,l=d3.scale.quantile().domain(c).range(a.propertyStops.map(e=>e[1]));t.source.active===n&&(s.style.background=l(e[n]),s.style.opacity=.5);var u=document.createElement("div");u.classList.add("cell-value"),"number"===a.propertyType?(o.style.background="rgba(204, 204, 204, 0.13)",u.innerHTML=void 0===e[n]?"":parseFloat(Math.round(100*e[n])/100).toFixed(2)+a.propertyUnit,s.style.width="calc("+(e[n]-A[0])/(A[1]-A[0])*100+"% - 4px)",o.appendChild(s)):u.innerHTML=e[n]+" "+a.propertyUnit,o.appendChild(u),r.appendChild(o),i.push({cell:o,bar:s,value:u})}),{row:r,cells:i,img:a}},r.render=function(){var e=r.selection[0][0];function n(){var e=document.createElement("div");e.classList.add("box-menu-item"),e.style=" margin: 0; padding-left: 8px; padding-right: 0px";var n=document.createElement("div");return n.classList.add("box-menu-item"),n.style=" margin: 0px; padding-top: 1px; padding-left: 8px; padding-right: 0px; font-size: 9px; ",[e,n]}e.innerHTML="",t.headers=[],t.rows=[],t.stats=[],t.indexes={},t.highlight=[],t.divider=null;var a=document.createElement("div");a.classList.add("header"),n().forEach(e=>a.appendChild(e)),Object.keys(t.source.coords.dimensions()).forEach(e=>{var n=t.source.states[e],A=(n.propertyRange,document.createElement("div"));A.classList.add("cell"),A.classList.add("col");var o=document.createElement("div");o.classList.add("cell-label"),o.innerHTML=n.propertyLabel,o.title=e;var i=document.createElement("img");i.classList.add("box-menu-img"),i.classList.add("selected"),i.style=" transform: rotate(-90deg); width: 10px; height: 10px; ",i.src="img/right-arrow-icon.png";var s=document.createElement("div");s.classList.add("box-menu-item"),s.style=" padding: 0; margin: 1px; top: 0; max-width: 10px; min-width: 0px;",s.style.visibility="hidden",s.appendChild(i),A.appendChild(o),A.appendChild(s),A.addEventListener("click",n=>{t.source.active!==e&&t.config.selectProperty(t.source.source,e),r.sort(e)}),a.appendChild(A),t.headers.push({cell:A,label:o,button:s,img:i})}),e.appendChild(a);var A=document.createElement("div");A.classList.add("row"),A.classList.add("stats"),n().forEach(e=>A.appendChild(e)),Object.keys(t.source.coords.dimensions()).forEach(e=>{var n=t.source.states[e],r=document.createElement("div");r.classList.add("cell"),r.classList.add("stats");var a=document.createElement("div");a.classList.add("cell-bar"),a.classList.add("stats");var o=document.createElement("div");if(o.classList.add("cell-value"),o.classList.add("stats"),"number"===n.propertyType){var i=void 0!==n.propertyClamp&&null!==n.propertyClamp?n.propertyClamp:n.propertyRange,s=n.propertyBrushedInterval,c=n.propertyBrushedAverage,l=(s[0]-i[0])/(i[1]-i[0]),u=(s[1]-s[0])/(i[1]-i[0]),d=(c-i[0])/(i[1]-i[0]);o.innerHTML=void 0===c?"":"avg : "+parseFloat(Math.round(100*c)/100).toFixed(2)+n.propertyUnit,a.style["margin-left"]=100*l+"%",a.style.width=100*u+"%",o.style["margin-left"]=100*d+"%",r.appendChild(a),r.appendChild(o)}A.appendChild(r),t.stats.push({cell:r,bar:a,value:o})}),e.appendChild(A);var o=document.createElement("div");o.classList.add("row"),o.classList.add("highlight"),e.appendChild(o),t.highlight.push(o);var i=document.createElement("div");i.classList.add("row-content"),e.appendChild(i);var s=0;return t.data.forEach((e,n)=>{if(t.indexes[e._id]=n,!(n>=t.max)||t.source.selected.includes(e)){s==t.max&&(t.divider=document.createElement("div"),t.divider.innerHTML="... "+(t.data.length-s)+" more elements",t.divider.style="border-bottom : 1px solid grey; margin-top : 8px; margin-bottom: 8px; font-size : 8px; ",i.appendChild(t.divider));var a=r.buildRow(e,n);i.appendChild(a.row),a.row.addEventListener("click",n=>{t.source.selected.includes(e)?t.config.deselectFeature(t.source.source,e):t.config.selectFeature(t.source.source,e,{type:"click",location:null})}),a.row.addEventListener("mouseenter",n=>{t.config.highlightFeature(t.source.source,e,{type:"click",location:null})}),a.row.addEventListener("mouseleave",e=>{t.config.unhighlightFeature(t.source.source)}),t.rows.push({data:e,index:n,img:a.img,row:a.row,cells:a.cells}),t.source.selected.includes(e)?r.select(e,{type:"click",location:null}):r.deselect(e),s+=1}}),null==t.divider&&s>=t.max&&(t.divider=document.createElement("div"),t.divider.innerHTML="... "+(t.data.length-s)+" more elements",t.divider.style="border-bottom : 1px solid grey; margin-top : 8px; margin-bottom: 8px; font-size : 8px; ",t.divider.style.visibility="none",i.appendChild(t.divider)),i.scrollTop=0,this},r}(t,this)(n),this.updateSheetView(e),t.grid}updateSheetView(e){var n=this.sources[e];if(null!=n&&null!==n.grid){var t=this.getProperties(e,!0,!1),r=0===n.brushed.length?n.coords.data():n.brushed;n.grid.data(r).columns(t).render()}}addCoordsView(e,n){var t=this,r=t.sources[e];if(null!=r){var A=[];r.values.forEach(e=>{var n=!0;Object.keys(r.filters).forEach(t=>{r.filters[t](e)&&(n=!1)}),n&&A.push(e)});var o={dimensionTitles:{}};return Object.keys(r.states).forEach(e=>{o.dimensionTitles[e]=r.states[e].propertyLabel}),r.coords=a(r,o)(n,e+"-pc").data(A).hideAxis(r.hidden).color(function(e){return"#000000"}).alpha(.05).composite("darken").margin({top:30,left:30,bottom:60,right:15}).mode("queue").brushMode("1D-axes").on("brushend",function(n,a){r.brushed=n,t.updatePropertyStates(e),t.updateSheetView(e),t.updateFilteredFeatures(e),t.updateClusterLayer(e,a),t.updateLegend()}).on("rangeset",function(e,n){}).on("overflow",function(n,r){t.remapProperty(e,r,n)}).render(),r.coords}}updateCoordsViewHighlighedFeatures(e){var n=this.sources[e];null!=n&&null!==n.coords&&n.coords.highlight(n.selected)}updateFilteredFeatures(e){var n=this,t=n.sources[e];if(null!=t&&null!==t.coords){var r=["in","_id"];Object.keys(t.coords.brushExtents()).length?t.brushed.forEach(e=>{var n=!0;Object.keys(t.filters).forEach(r=>{t.filters[r](e)&&(n=!1)}),n&&r.push(e._id)}):t.values.forEach(e=>{var n=!0;Object.keys(t.filters).forEach(r=>{t.filters[r](e)&&(n=!1)}),n&&r.push(e._id)}),t.layers.property.forEach(e=>{n.map.setFilter(e,r)}),t.layers.interaction.forEach(e=>{n.map.setFilter(e,r)}),t.selected.slice().forEach(t=>{r.includes(t._id)||n.deselectFeature(e,t)}),n.updateCoordsViewHighlighedFeatures(e)}}toggleProperty(e,n,t){var r=this,a=r.sources[e];if(null!=a){var A=a.hidden.indexOf(n);t||-1!=A?t&&A>=0&&a.hidden.splice(A,1):a.hidden.push(n),r.updateFilteredFeatures(e),null!==a.coords&&a.coords.hideAxis(a.hidden).render().updateAxes();var o=a.active;t||o!==n||(a.active=o=null),a.height=r.sources[e].options.properties&&r.sources[e].options.properties.height||"",a.base=r.sources[e].options.properties&&r.sources[e].options.properties.base||"",a.brushed=[],a.selected.forEach(n=>{r.deselectFeature(e,n)}),r.updateCoordsView(e),r.updateFilter(e),null!=o&&r.selectProperty(e,o),r.updateLegend()}}addFilters(e,n){var t=this.sources[e];if(null!=t){var r=t.active;n.forEach(e=>{t.filters[e.filterKey]=e.filter}),this.updateCoordsView(e),this.updateFilteredFeatures(e),this.updatePropertyStates(e),this.updateFilter(e),null!=r&&this.selectProperty(e,r),this.updateLegend()}}removeFilter(e,n){var t=this.sources[e];if(null!=t){var r=t.active;void 0!==t.filters[n]&&delete t.filters[n],this.updateCoordsView(e),this.updateFilteredFeatures(e),this.updatePropertyStates(e),this.updateFilter(e),null!=r&&this.selectProperty(e,r),this.updateLegend()}}updateFilter(e){var n=this.sources[e];void 0!==n&&null!=n&&Object.keys(n.filters).forEach(e=>{var n=d3.selectAll(".dimension")[0].filter(function(n){return n.__data__===e})[0];null!=n&&d3.select(n).select(".brush")[0][0].classList.add("zoom")})}updateCoordsView(e){var n=this,t=n.sources[e];if(null!=t&&null!==t.coords){var r=[];t.values.forEach(e=>{var n=!0;Object.keys(t.filters).forEach(r=>{t.filters[r](e)&&(n=!1)}),n&&r.push(e)}),t.coords.data(r).color("#000000").alpha(.05).render().updateAxes(),n.updateSheetView(e),n.updatePropertyLayer(e,null),n.updateClusterLayer(e,null),t.coords.selection.selectAll(".label")[0].forEach(e=>{e.classList.remove("selected")});try{t.coords.selection.selectAll("foreignObject").remove()}catch{}t.coords.selection.selectAll(".label")[0].forEach(function(r){r.hasEventListener||(r.hasEventListener=!0,r.addEventListener("click",function(a){var A=Object.keys(t.states).filter(e=>t.states[e].propertyLabel===r.innerHTML);A.length&&n.selectProperty(e,A[0])}))})}}restoreProperty(e,n){var t=this.sources[e];if(null!=t&&null!==t.coords){var r=t.states[n];if(null!=r){var a=n,A=t.coords.brushExtents(),o=A[a],i=!1;o?(o[0]<r.propertyInterval[0]&&(o[0]=r.propertyInterval[0]),o[1]>r.propertyInterval[1]&&(o[1]=r.propertyInterval[1]),(o[1]<r.propertyInterval[0]||o[0]>r.propertyInterval[1])&&(i=!0),A[a]=o):i=!0,r.propertyClamp=null,this.removeFilter(e,a),t.coords.scaleAxis(n,null),i||t.coords.brushExtents(A)}}}remapProperty(e,n,t){var r=this.sources[e];if(null!=r&&null!==r.coords){var a=r.states[n];if(null!=a){var A=n;a.propertyClamp=t,this.addFilters(e,[{filterKey:A,filter:e=>e[A]>=t[1]||e[A]<=t[0]}]);var o=r.coords.brushExtents();o[A]=t,r.coords.scaleAxis(n,t),r.coords.brushExtents(o)}}}selectProperty(e,n){var t=this,r=t.sources[e];if(null!=r&&null!==r.coords){var a=r.states[n];if(null!=a){var A=null;if(r.coords.selection.selectAll(".label")[0].forEach(e=>{e.innerHTML===a.propertyLabel&&(A=e)}),null!==A){try{r.coords.selection.selectAll("foreignObject").remove()}catch{}var o=d3.select(A.parentNode.parentNode).append("foreignObject"),i=o.attr({x:-75,y:-50,height:20,width:150}).append("xhtml:div").attr("class","axis-menu")[0][0],s=document.createElement("img");s.classList.add("axis-menu-img"),s.src="img/cube-icon.png",s.style=" transform: rotate(180deg); ",r.base===n&&s.classList.add("selected");var c=document.createElement("div");c.classList.add("axis-menu-item"),c.appendChild(s),!r.types.includes("Polygon")&&!r.types.includes("MultiPolygon")||"number"!==a.propertyType?s.classList.add("disabled"):(c.title="Base",c.addEventListener("click",a=>{r.base===n?(r.base="",s.classList.remove("selected")):(r.base=n,s.classList.contains("selected")||s.classList.add("selected"));var A=r.active,o=r.coords.brushExtents();r.brushed=[],t.updatePropertyLayer(e),t.updateCoordsView(e),t.updateFilteredFeatures(e),t.updatePropertyStates(e),t.updateFilter(e),null!=A&&t.selectProperty(e,A);o=r.coords.brushExtents(o)}));var l=document.createElement("img");l.classList.add("axis-menu-img"),l.src="img/cube-icon.png",r.height===n&&l.classList.add("selected");var u=document.createElement("div");u.classList.add("axis-menu-item"),u.appendChild(l),!r.types.includes("Polygon")&&!r.types.includes("MultiPolygon")||"number"!==a.propertyType?l.classList.add("disabled"):(u.title="Height",u.addEventListener("click",a=>{r.height===n?(r.height="",l.classList.remove("selected")):(r.height=n,l.classList.contains("selected")||l.classList.add("selected"));var A=r.active,o=r.coords.brushExtents();r.brushed=[],t.updatePropertyLayer(e),t.updateCoordsView(e),t.updateFilteredFeatures(e),t.updatePropertyStates(e),t.updateFilter(e),null!=A&&t.selectProperty(e,A);o=r.coords.brushExtents(o)}));var d=document.createElement("img");d.classList.add("axis-menu-img"),d.src="img/split-icon.png",a.propertyReversed?d.classList.add("selected"):d.classList.remove("selected");var _=document.createElement("div");_.classList.add("axis-menu-item"),_.appendChild(d),"number"!==a.propertyType?d.classList.add("disabled"):(_.title="Reverse",_.addEventListener("click",n=>{a.propertyReversed=!a.propertyReversed,a.propertyReversed?d.classList.add("selected"):d.classList.remove("selected");var A=r.active,o=r.coords.brushExtents();r.brushed=[],t.updateCoordsView(e),t.updateFilteredFeatures(e),t.updatePropertyStates(e),t.updateFilter(e),null!=A&&t.selectProperty(e,A),r.coords.brushExtents(o)}));var p=document.createElement("img");p.classList.add("axis-menu-img"),p.src="img/edit-icon.png";var f=document.createElement("div");f.classList.add("axis-menu-item"),f.title="Color",f.appendChild(p),f.addEventListener("click",n=>{var A=1*Math.round((n.clientX-5)/1),o=1*Math.round((n.clientY-5)/1),i=document.createElement("div");i.classList.add("hover-box"),i.style.top=o+"px",i.style.left=A+"px",Object.keys(m).forEach(n=>{var A=Object.keys(m[n]),o=m[n][A[A.length-1]],s=document.createElement("div");s.classList.add("hover-box-item"),s.classList.add("color"),o.forEach(e=>{var n=document.createElement("div");n.classList.add("color-range-block"),n.style.background=e,s.appendChild(n)}),s.addEventListener("click",A=>{a.propertyStyle=o,a.propertyStyleKey=n;var s=r.active,c=r.coords.brushExtents();r.brushed=[],t.updateCoordsView(e),t.updateFilteredFeatures(e),t.updatePropertyStates(e),t.updateFilter(e),null!=s&&t.selectProperty(e,s),r.coords.brushExtents(c),i.remove(),A.preventDefault()}),i.appendChild(s)}),i.addEventListener("mouseleave",e=>{i.remove()}),document.body.appendChild(i)});var h=document.createElement("img");h.classList.add("axis-menu-img"),h.src="img/plus-icon.png";var g=document.createElement("div");g.classList.add("axis-menu-item"),g.appendChild(h),"number"!==a.propertyType?h.classList.add("disabled"):(g.title="Zoom into",g.addEventListener("click",a=>{var A=n,o=r.coords.selection.selectAll(".dimension")[0],i=(d3.select(o.filter(function(e){return e.__data__===A})[0]).select(".extent"),r.coords.brushExtents()[A]);void 0!==i&&(t.remapProperty(e,n,i),a.stopPropagation())}));var B=document.createElement("img");B.classList.add("axis-menu-img"),B.src="img/minus-icon.png";var E=document.createElement("div");if(E.classList.add("axis-menu-item"),E.appendChild(B),"number"!==a.propertyType?B.classList.add("disabled"):(E.title="Zoom out",E.addEventListener("click",r=>{void 0!==a.propertyClamp&&null!==a.propertyClamp&&(t.restoreProperty(e,n),r.stopPropagation())})),a.propertyClamp){var b=document.createElement("div");b.classList.add("axis-bracket"),b.innerHTML="[",i.appendChild(b)}if(r.options.properties&&r.options.properties.base||i.appendChild(c),r.options.properties&&r.options.properties.height||i.appendChild(u),a.propertyOptions&&void 0!==a.propertyOptions.reverse&&null!==a.propertyOptions.reverse||i.appendChild(_),a.propertyOptions&&a.propertyOptions.color||i.appendChild(f),i.appendChild(g),i.appendChild(E),a.propertyClamp){var v=document.createElement("div");v.classList.add("axis-bracket"),v.innerHTML="]",i.appendChild(v)}var w="#000000",y=void 0!==a.propertyClamp&&null!==a.propertyClamp?a.propertyClamp:a.propertyRange,C=d3.scale.quantile().domain(y).range(a.propertyStops.map(e=>e[1]));"string"===a.propertyType&&(C=function(e){for(var n=0;n<a.propertyStops.length;n++)if(a.propertyStops[n][0]===e)return a.propertyStops[n][1];return"grey"}),r.coords.selection.selectAll(".label")[0].forEach(e=>{e.innerHTML!==a.propertyLabel&&e.classList.remove("selected")}),A.classList.contains("selected")?(A.classList.remove("selected"),o.remove(),r.active=null,n=null):(A.classList.add("selected"),r.active=n,w=function(e){return C(e[n])}),r.coords.color(w).alpha(.05).render(),r.grid&&r.grid.render(),r.popups.forEach(e=>{e.updateContent()}),t.updateCoordsViewHighlighedFeatures(e),t.updatePropertyLayer(e,n),t.updateClusterLayer(e,n),t.updateLegend()}}}}updateClusterLayer(e,n){return}updatePropertyLayer(e,n){var t=this,r=t.sources[e];if(null!=r&&null!==r.coords){var a=[];if(null==n)r.types.includes("LineString")||r.types.includes("MultiLineString")?r.layers.property.forEach(e=>{a.push({id:e,type:"line-color",paint:"#e5e5e5"})}):r.types.includes("Polygon")||r.types.includes("MultiPolygon")?r.layers.property.forEach(e=>{a.push({id:e,type:"fill-extrusion-color",paint:["case",["boolean",["feature-state","hover"],!1],"#000000",["boolean",["feature-state","selected"],!1],"#000000","#e5e5e5"]}),a.push({id:e,type:"fill-extrusion-height",paint:t.isExtruded()?["get",r.height]:0}),a.push({id:e,type:"fill-extrusion-base",paint:t.isExtruded()?["get",r.base]:0})}):(r.types.includes("Point")||r.types.includes("MultiPoint"))&&r.layers.property.forEach(e=>{a.push({id:e,type:"circle-color",paint:"#e5e5e5"})});else{var A,o=r.states[n],i=o.propertyStops;o.propertyInterval;if(o.propertyClamp&&o.propertyClamp,"number"===o.propertyType)A={property:n,type:"interval",stops:i.slice()};else if("string"===o.propertyType){A=["match",["get",n]];for(var s=0;s<o.propertyStops.length;s++)A.push(o.propertyStops[s][0].toString()),A.push(o.propertyStops[s][1]);A.push("grey")}r.types.includes("LineString")||r.types.includes("MultiLineString")?r.layers.property.forEach(e=>{a.push({id:e,type:"line-color",paint:A})}):r.types.includes("Polygon")||r.types.includes("MultiPolygon")?r.layers.property.forEach(e=>{a.push({id:e,type:"fill-extrusion-color",paint:A})}):(r.types.includes("Point")||r.types.includes("MultiPoint"))&&r.layers.property.forEach(e=>{a.push({id:e,type:"circle-color",paint:A})})}a.forEach(e=>{t.map.setPaintProperty(e.id,e.type,e.paint)})}}updatePropertyStates(e){var n=this.sources[e];null!=n&&Object.keys(n.states).forEach(e=>{var t=n.states[e],r=t.propertyStyle.slice();if(t.propertyReversed&&r.reverse(),"number"===t.propertyType){if(void 0!==t.propertyClamp&&null!==t.propertyClamp){var a=[],A=0,o=0;n.coords&&n.coords.data().length>0&&n.coords.data().forEach(n=>{A+=n[e],o+=1});for(var i=t.propertyClamp[0],s=0;s<r.length;i+=(t.propertyClamp[1]-t.propertyClamp[0])/r.length,s++)a.push([i,r[s]]);t.propertyRange=[t.propertyClamp[0],t.propertyClamp[1]],t.propertyRangeAverage=o>0?A/o:t.propertyAverage,t.propertyStops=a}else{a=[];var c=null,l=null;A=0,o=0;n.coords&&n.coords.data().length>0?n.coords.data().forEach(n=>{(null===c||n[e]<c)&&(c=n[e]),(null===l||n[e]>l)&&(l=n[e]),A+=n[e],o+=1}):(c=t.propertyInterval[0],l=t.propertyInterval[1]);for(i=c,s=0;s<r.length;i+=(l-c)/r.length,s++)a.push([i,r[s]]);t.propertyRange=[c,l],t.propertyRangeAverage=o>0?A/o:t.propertyAverage,t.propertyStops=a}if(n.brushed&&n.brushed.length>0){var u=null,d=null,_=0,p=0;n.brushed.forEach(n=>{(null===u||n[e]<u)&&(u=n[e]),(null===d||n[e]>d)&&(d=n[e]),_+=n[e],p+=1}),t.propertyBrushedInterval=[u,d],t.propertyBrushedAverage=_/p}else t.propertyBrushedInterval=t.propertyRange.slice(),t.propertyBrushedAverage=t.propertyRangeAverage}else if("string"===t.propertyType){for(a=[],i=0;i<t.propertyCategories.length;i++)a.push([t.propertyCategories[i],r[i%r.length]]);t.propertyStops=a}})}getBins(e,n){var t=this.sources[e],r=[];if(null==t)return r;n=n||t.active;var a=t.brushed,A=t.states[n];return null==n?r:(0===a.length&&null!==t.coords&&(a=t.coords.data()),"number"===A.propertyType?(A.propertyStops.forEach((e,n)=>{r.push({value:parseFloat(Math.round(100*e[0])/100).toFixed(2),data:[],count:0,index:n,min:null,max:null,perc:0,valid:!0})}),a.forEach(e=>{for(var t=0,A=0;A<r.length&&!(r[A].value>e[n]);A++)t=A;r[t].count+=1,r[t].perc=r[t].count/a.length,r[t].data.push(e),(null==r[t].min||r[t].min>e[n])&&(r[t].min=e[n]),(null==r[t].max||r[t].max<e[n])&&(r[t].max=e[n])})):"string"===A.propertyType&&(A.propertyStops.forEach((e,a)=>{var A=!0;Object.keys(t.filters).forEach(r=>{var a={};a[n]=e[0],t.filters[r](a)&&(A=!1)}),r.push({value:e[0].toString(),data:[],count:0,index:a,perc:0,valid:A})}),a.forEach(e=>{for(var t=0,A=0;A<r.length&&(t=A,r[A].value!==e[n]);A++);r[t].count+=1,r[t].perc=r[t].count/a.length,r[t].data.push(e)})),r)}addLegend(e){this.legend=e}buildLegend(e,n){var t=this,r=t.sources[e],a=n;if(null!=r){var A=r.states[r.active],o=t.getBins(e),i=document.createElement("div");i.classList.add("legend-header"),i.classList.add("legend-header-label");var s=document.createElement("div");s.classList.add("legend-header-key"),s.innerHTML=r.source;var c=document.createElement("div");c.classList.add("legend-header-property"),c.innerHTML=A.propertyLabel;var l=document.createElement("img");l.classList.add("box-menu-img"),l.src="img/camera-icon.png",l.style.height="18px",l.style.width="18px";var u=document.createElement("div");u.classList.add("box-menu-item"),u.title="Snapshot Readout",u.appendChild(l),u.addEventListener("click",e=>{!function(e){function n(e){var n,t,r,a=getComputedStyle(e),A=["height","width","min-height","min-width"],o="";for(n=0,t=a.length;n<t;n++)r=a[n],e instanceof SVGElement&&A.indexOf(r)>=0||(o+=r+":"+a.getPropertyValue(r)+";");e.setAttribute("style",o)}for(var t,r,a=((r=[]).push(t=e),function e(n){if(n&&n.hasChildNodes())for(var t=n.firstChild;t;)1===t.nodeType&&"SCRIPT"!=t.nodeName&&(r.push(t),e(t)),t=t.nextSibling}(t),r),A=a.length;A--;)n(a[A])}(n),b()(n).then(e=>{e.toBlob(function(e){saveAs(e,"chart.png"),console.log("saved as chart.png"),n.style="",n.innerHTML="",t.buildLegend(r.source,n)})})});var d=document.createElement("img");d.classList.add("box-menu-img"),d.src="img/expand-icon.png";var _=document.createElement("div");_.classList.add("box-menu-item"),_.title="Expand Readout",_.appendChild(d);var p=document.createElement("div");p.classList.add("legend-content-readouts");var f=document.createElement("div");f.classList.add("legend-content-bars");var h=document.createElement("div");h.classList.add("legend-content-hist"),a.appendChild(i),a.appendChild(p),i.appendChild(s),i.appendChild(c),i.appendChild(u),i.appendChild(_),p.appendChild(h),p.appendChild(f);for(var g=0;g<A.propertyStops.length;g++)if(!1!==o[g].valid){var B=document.createElement("div");B.classList.add("legend-item");var m=document.createElement("div");m.classList.add("legend-color"),m.style.background=A.propertyStops[g][1],m.style.width=100*o[g].perc+"px";var E=document.createElement("div");E.classList.add("legend-color"),E.style.background=A.propertyStops[g][1];var v=document.createElement("div");if(v.classList.add("legend-value"),"number"===A.propertyType){var w=parseFloat(Math.round(100*A.propertyStops[g][0])/100).toFixed(2),y=g==A.propertyStops.length-1?null:parseFloat(Math.round(100*A.propertyStops[g+1][0])/100).toFixed(2);v.innerHTML=null!==y?w+A.propertyUnit+" to "+y+A.propertyUnit:" > "+w+A.propertyUnit}else"string"===A.propertyType?v.innerHTML=A.propertyStops[g][0].toString():v.innerHTML=A.propertyStops[g][0];f.appendChild(B),B.appendChild(E),B.appendChild(v)}!function(e,n,t,r){var a=[];t.forEach(e=>{e.valid&&a.push(e)});var A=document.createElement("div");A.classList.add("legend-hist"),r.appendChild(A);var o={top:4,right:30,bottom:10,left:40},i=A.clientWidth-o.left-o.right,s=A.clientHeight-o.top-o.bottom;s<=0&&(s=200-o.top-o.bottom);i<=0&&(i=200-o.left-o.right);var c=d3.scale.ordinal().rangeRoundBands([0,i],.05),l=d3.scale.linear().range([s,0]),u=d3.svg.axis().scale(c).tickSize(0).orient("bottom"),d=d3.svg.axis().scale(l).orient("left").ticks(5),_=d3.select(A).append("svg").attr("width",i+o.left+o.right).attr("height",s+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")");c.domain(a.map(function(e){return e.value})),l.domain([0,d3.max(a,function(e){return e.count})]),_.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(u).selectAll("text").remove(),_.append("g").attr("class","y axis").call(d),_.selectAll("bar").data(a).enter().append("rect").style("fill",function(e){return n.propertyStops[e.index][1]}).style("opacity",.8).attr("x",function(e){return c(e.value)}).attr("width",c.rangeBand()).attr("y",function(e){return l(e.count)}).attr("height",function(e){return s-l(e.count)})}(0,A,o,h),function(e,n,t,r){var a=document.createElement("div");a.classList.add("legend-plot"),r.appendChild(a);var A=document.createElement("div");A.style["margin-left"]="40px",A.style["margin-right"]="30px",A.style["margin-top"]="-9px";var o=document.createElement("div");o.classList.add("cell-bar"),o.classList.add("stats");var i=document.createElement("div");i.classList.add("legend-plot-avg");var s=document.createElement("div");s.classList.add("legend-plot-avg");var c=document.createElement("div");if(c.classList.add("legend-plot-avg"),"number"===n.propertyType){var l=void 0!==n.propertyClamp&&null!==n.propertyClamp?n.propertyClamp:n.propertyRange,u=n.propertyBrushedInterval,d=n.propertyBrushedAverage,_=(u[0]-l[0])/(l[1]-l[0]),p=(u[1]-u[0])/(l[1]-l[0]),f=(d-l[0])/(l[1]-l[0]);i.innerHTML=void 0===d?"":"avg : "+parseFloat(Math.round(100*d)/100).toFixed(2)+n.propertyUnit,i.style["margin-left"]=100*f+"%",o.style.width=100*p+"%",o.style["margin-left"]=100*_+"%",s.innerHTML=void 0===u[0]?"":"min : "+parseFloat(Math.round(100*u[0])/100).toFixed(2)+n.propertyUnit,s.style["margin-left"]=100*_+"%",s.style["margin-top"]="0",s.style["padding-top"]="4px",s.style["background-size"]="100% 5%",s.style["background-image"]="linear-gradient(to right, #0c0c0c , transparent)",c.innerHTML=void 0===u[1]?"":"max : "+parseFloat(Math.round(100*u[1])/100).toFixed(2)+n.propertyUnit,c.style["margin-right"]=100*(1-(_+p))+"%",c.style["margin-left"]="0",c.style["margin-top"]="0",c.style["padding-top"]="4px",c.style["border-left"]="0",c.style["border-right"]="2px solid white",c.style["text-align"]="right",c.style["background-size"]="100% 5%",c.style["background-image"]="linear-gradient(to left, #0c0c0c , transparent)",A.appendChild(o),A.appendChild(i),A.appendChild(s),A.appendChild(c)}a.appendChild(A)}(0,A,0,h)}}updateLegend(){var e=this,n=e.legend;if(null!=n){n.innerHTML="";var t=document.createElement("div");t.classList.add("legend-readouts");var r=document.createElement("div");r.classList.add("legend-headers"),n.appendChild(t),n.appendChild(r);var a=Object.keys(e.sources).filter(n=>e.sources[n].include);a.sort((n,t)=>e.sources[t].index-e.sources[n].index),a.forEach(n=>{var A=e.sources[n],o=(e.legend,document.createElement("div"));o.classList.add("legend-div");var i=document.createElement("div");i.classList.add("legend-header"),i.classList.add("selected"),A.interactive?i.classList.add("interactive"):i.classList.add("static");var s=document.createElement("div");s.classList.add("legend-content");var c=document.createElement("div");c.classList.add("legend-indicator"),c.classList.add("mapboxgl-popup-tip");var l=document.createElement("div");l.classList.add("legend-header-key"),l.innerHTML=n,l.title=A.active?"Hide Legend":"";var u=document.createElement("div"),d=document.createElement("div");d.classList.add("legend-header-property"),d.classList.add("legend-header-option"),d.title="Active Property",d.innerHTML=A.active?e.getPropertyState(A.source,A.active).propertyLabel:"no active property",u.appendChild(d);var _=document.createElement("div");_.classList.add("legend-header-dropdown"),_.classList.add("collapsed"),u.appendChild(_);var p=document.createElement("div");p.classList.add("legend-indicator"),p.classList.add("mapboxgl-popup-tip"),p.style.bottom="5px";var f=e.getProperties(A.source,!0,!1);f.forEach(n=>{var t=e.getPropertyState(A.source,n),r=document.createElement("div");r.classList.add("legend-header-property"),r.classList.add("legend-header-option"),r.innerHTML=t.propertyLabel,r.value=n,n===A.active&&r.classList.add("active"),r.addEventListener("click",()=>{e.selectProperty(A.source,n)}),_.appendChild(r)}),_.childNodes.length&&_.appendChild(p),d.addEventListener("click",()=>{}),u.addEventListener("mouseenter",()=>{u.enter=!0,_.classList.remove("collapsed")}),u.addEventListener("mouseleave",()=>{u.enter=!1,setTimeout(()=>{u.enter||_.classList.contains("collapsed")||_.classList.add("collapsed")},100)}),A.legend&&A.active||(o.classList.add("collapsed"),c.classList.add("collapsed"),i.classList.remove("selected")),l.addEventListener("click",e=>{A.active&&(o.classList.toggle("collapsed"),c.classList.toggle("collapsed"),i.classList.toggle("selected"),A.legend=!A.legend,A.visible?o.classList.contains("collapsed")?l.title="Show Legend":(o.scrollIntoView(),l.title="Hide Legend"):l.title="")});var h=document.createElement("div");h.title="Move Layer Up",h.selected=!A.visible,h.classList.add("mapboxgl-popup-tip"),h.classList.add("legend-move"),h.classList.add("up"),h.classList.add("collapsed"),A.visible||h.classList.add("collapsed"),h.addEventListener("click",n=>{e.moveSourceUp(A.source)}),h.addEventListener("mouseenter",e=>{i.style.opacity=.6}),h.addEventListener("mouseleave",e=>{i.style.opacity=""});var g=document.createElement("div");g.title="Move Layer Down",g.selected=!A.visible,g.classList.add("mapboxgl-popup-tip"),g.classList.add("legend-move"),g.classList.add("down"),g.classList.add("collapsed"),A.visible||g.classList.add("collapsed"),g.addEventListener("click",n=>{e.moveSourceDown(A.source)}),g.addEventListener("mouseenter",e=>{i.style.opacity=.6}),g.addEventListener("mouseleave",e=>{i.style.opacity=""});var B=document.createElement("img");B.style="transform: scale(0.8, 0.8); ",B.src="img/filter2-icon.png",B.classList.add("mapbox-custom-ctrl");var m=document.createElement("div");m.title="Filter",m.selected=e.options.active===A.source,m.classList.add("legend-header-visibility"),m.appendChild(B),A.visible||m.classList.add("collapsed"),m.selected||(B.classList.add("inactive"),m.classList.add("inactive")),m.addEventListener("click",n=>{e.toggleActiveSource(A.source,e.getActiveSource()!==A.source)});var E=document.createElement("img");E.src="img/view-icon.png",E.style="transform: scale(0.8, 0.8); ",E.classList.add("mapbox-custom-ctrl"),A.visible||E.classList.add("inactive");var b=document.createElement("div");b.title=A.visible?"Hide Map Layer":"Show Map Layer",b.classList.add("legend-header-visibility"),b.appendChild(E),b.addEventListener("click",n=>{e.toggleLayers(A.source,!A.visible)}),A.visible&&i.appendChild(c),i.appendChild(b),i.addEventListener("mouseenter",()=>{A.visible&&A.interactive&&a.length>1&&(h.classList.remove("collapsed"),g.classList.remove("collapsed"))}),i.addEventListener("mouseleave",()=>{h.classList.contains("collapsed")||h.classList.add("collapsed"),g.classList.contains("collapsed")||g.classList.add("collapsed")}),A.visible&&A.interactive&&a.length>1&&(0!==a.indexOf(A.source)&&i.appendChild(h),a.indexOf(A.source)!==a.length-1&&i.appendChild(g)),A.visible&&A.interactive&&i.appendChild(m),i.appendChild(l),A.visible&&f.length?i.appendChild(u):(l.title="",l.classList.add("static")),r.appendChild(i),A.visible&&A.active&&(o.appendChild(s),t.appendChild(o),e.buildLegend(n,s))})}}}function y(e){return parseFloat(e)==e&&null!=e?"number":function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(e)}function C(e){var n={};return Object.keys(e[0]).forEach(function(t){n[isNaN(Number(t))?t:parseInt(t)]=y(e[0][t])}),n}function U(e,n,t){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var r=e;r.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},!1),r.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault();for(var r,a=e.dataTransfer.files,A=0;r=a[A];A++){var o=r.name.split(".").pop();if(n.includes(o)){var i=new FileReader;i.onload=function(e){return function(n){t(n.target.result,e.name)}}(r),i.readAsText(r)}else console.log("file not in extensions")}},!1)}else alert("The File APIs are not fully supported in this browser.")}class L{constructor(e){document.body.innerHTML+=this.getBody(),mapboxgl.accessToken="pk.eyJ1IjoiamFnZ3lsdWlzIiwiYSI6ImNqcmdrdWRyNzFlenQ0M3BvODZ6ZjJwcnUifQ.T8htDIqiD0Vy8WOEE7ZssQ";var n=this;if(e&&!0===e.hd){Object.defineProperty(window,"devicePixelRatio",{get:function(){return 3.125}})}n.state={},n._mapController=null,n.schema=null,n.options=null,n.map=new mapboxgl.Map({container:"map",style:"mapbox://styles/jaggyluis/cjt7g0t1g6gk61fqrbcrkil1i",zoom:.1,preserveDrawingBuffer:!0}),n.map.touchZoomRotate.disableRotation(),n.map.dragRotate.disable(),n.interface=document.getElementById("interface"),n.topDiv=document.getElementById("top"),n.left=document.getElementById("left"),n.leftHeader=document.getElementById("left-header"),n.leftHeader.addEventListener("click",e=>{n._mapController&&0===Object.keys(n._mapController.sources).length||n.lscroll.classList.toggle("collapsed")}),n.lscroll=document.getElementById("left-scroll-pane"),n.bottom=document.getElementById("bottom"),n.bottomHeader=document.getElementById("bottom-header"),n.bottomHeader.addEventListener("click",e=>{n.bottom.classList.contains("expanded")||n.bscroll.classList.contains("collapsed")||(n.bscroll.classList.add("collapsed"),n._mapController.toggleActiveSource(n._mapController.getActiveSource(),!1))}),n.bscroll=document.getElementById("bottom-scroll-pane"),n.legend=document.getElementById("legend"),U(document.getElementsByTagName("body")[0],["json"],(e,t)=>{n.loadSchema(e,t)}),U(document.getElementsByTagName("body")[0],["geojson"],(e,t)=>{n.loadData(e,t)}),e&&e.url?n.map.on("load",()=>{d3.json(e.url,e=>{n.loadSchema(e)})}):n.map.on("load",()=>{n._mapController=new w(n,n.options),n._mapController.addLegend(n.legend)})}getBody(){return'<div id="map"></div><div id="interface"><div id="top"><div id="left"><div id="left-header">data</div><div id="left-scroll-pane"></div></div><div id="right"> <div id="legend"></div></div> </div><div id="bottom"><div id="bottom-header">filter</div><div id="bottom-scroll-pane"></div></div></div><div id="banner"><div id="tt"><img src="img/loadloop.gif" id="loader" class="collapsed"></img></div><div id="wb"><img src="img/logo--woods-bagot.svg"/></div><div id="ss"><img src="img/SUPERSPACE Logo.png"/></div></div>'}loadSchema(e,n){var t=this,r=performance.now();console.log("call load schema");var a="object"==typeof e?e:JSON.parse(e);if("SSDataSchema"===a.type&&null===t.schema){t.schema=a,t.options=a.options||{},null===t._mapController&&(t._mapController=new w(t,t.options),t._mapController.addLegend(t.legend));var A,o,i=document.getElementById("tt"),s=document.createElement("div");s.id="ts",s.innerHTML=a.title||"",i.appendChild(s),a.options&&(!1===a.options.data&&t.left.classList.add("collapsed"),!1===a.options.filter&&t.bottom.classList.add("collapsed")),a.cameras&&a.cameras.length&&a.cameras.forEach(e=>{t.loadDataCamera(e,e.id,e.options||{})}),a.options&&a.options.camera&&t._mapController&&t._mapController.toggleCamera(a.options.camera),a.schemas&&a.schemas.length&&(A=(()=>{t._mapController.updateBoundaries()}),o=a.schemas.length,a.schemas.forEach(e=>{null!==e.url&&void 0!==e.url?d3.json(e.url,n=>{var r=e.options||{};t.options.export?r.url=e.url:r.url=null,t.loadDataLayer(n,e.id,r),!(o-=1)&&A&&A()}):alert("missing url at : "+e.id)}));var c=performance.now();console.log("call to load scheme took "+(c-r)+" milliseconds.")}}loadData(e,n){var t=performance.now();console.log("call load data"),null===this._mapController&&(this._mapController=new w(this,{}),this._mapController.addLegend(this.legend)),this.loadDataLayer(JSON.parse(e),n.split(".")[0],{});var r=performance.now();console.log("call to load data took "+(r-t)+" milliseconds.")}loadDataCamera(e,n,t){this._mapController&&this._mapController.addCamera(n,e,t)}loadDataBoundary(e,n,t){this._mapController&&this._mapController.addBoundary(n,e,t)}loadDataLayer(e,n,t){if(this._mapController){var r=this;r._mapController.addSource(n,e,t),r._mapController.addLayers(n),r._mapController.toggleSource(n,!1),r.state[n]={data:{element:null,children:{header:{element:null,children:{label:{element:null,children:{}},active:{element:null,children:{}},interactive:{element:null,children:{}}}},content:{element:null,children:{}}}},filter:{element:null,children:{header:{element:null,children:{}},subheader:{element:null,children:{}},content:{element:null,children:{}}}}};var a=(t.properties&&t.properties.hidden||[]).concat("_id","lat","lon"),A=document.createElement("div");A.classList.add("box"),A.classList.add("document"),r.bscroll.appendChild(A),r.state[n].filter.element=A;var o=document.createElement("div");o.classList.add("box-header"),o.id=n+"-box-header";var i=document.createElement("div");i.classList.add("box-sub-header"),i.id=n+"-box-sub-header",A.appendChild(o),A.appendChild(i);var s=document.createElement("div");s.classList.add("box-label"),s.id=n+"-box-label",s.innerHTML=n,o.appendChild(s);var c=document.createElement("div");c.classList.add("box-status"),c.id=n+"-box-status",c.innerHTML="no properties selected",o.appendChild(c);var l=document.createElement("img");l.classList.add("box-menu-img"),l.src="img/export-icon.png";var u=document.createElement("div");u.classList.add("box-menu-item"),u.title="Download",u.appendChild(l),u.addEventListener("click",e=>{console.log("download");var t=r._mapController.getSourceData(n).slice(),a=r._mapController.getProperties(n,!0,!1).slice();a.push("_id"),t.sort(function(e,n){return e._id-n._id}),exportObjArrayToCSV(n+"_data",t,a)}),r.options&&!1===r.options.download||o.appendChild(u);var d=document.createElement("img");d.classList.add("box-menu-img"),d.src="img/boundary-icon.png";var _=document.createElement("div");_.classList.add("box-menu-item"),_.title="Boundaries",_.appendChild(d),o.appendChild(_);var p=document.createElement("img");p.classList.add("box-menu-img"),p.src="img/sheet-icon.png";var f=document.createElement("div");f.classList.add("box-menu-item"),f.title="Features",f.appendChild(p),o.appendChild(f);var h=document.createElement("img");h.classList.add("box-menu-img"),h.classList.add("selected"),h.style=" transform: rotate(90deg); ",h.src="img/options-icon.png";var g=document.createElement("div");g.classList.add("box-menu-item"),g.title="Properties",g.appendChild(h),o.appendChild(g);var B=document.createElement("img");B.classList.add("box-menu-img"),B.src="img/expand-icon.png";var m=document.createElement("div");m.classList.add("box-menu-item"),m.title="Expand",m.appendChild(B),o.appendChild(m);var E=document.createElement("div");E.classList.add("box-content"),E.id=n+"-box-content",A.appendChild(E);var b=document.createElement("div");b.classList.add("box-item"),b.classList.add("box-block"),b.id=n+"-coords",E.appendChild(b),r._mapController.addCoordsView(n,b);var v=document.createElement("div");v.classList.add("box-item"),v.classList.add("box-overflow"),v.classList.add("collapsed"),v.id=n+"-sheet",E.appendChild(v),r._mapController.addSheetView(n,v);var w=document.createElement("div");w.classList.add("box-item"),w.classList.add("box-overflow"),w.classList.add("collapsed"),w.id=n+"-boundaries",E.appendChild(w),r._mapController.addBoundaryView(n,w),_.addEventListener("click",e=>{if(w.classList.contains("collapsed")&&!B.classList.contains("selected")){w.classList.remove("collapsed"),r.topDiv.classList.remove("collapsed"),r.bottom.classList.remove("expanded"),b.classList.contains("collapsed")||b.classList.add("collapsed"),v.classList.contains("collapsed")||v.classList.add("collapsed"),d.classList.contains("selected")||d.classList.add("selected"),h.classList.remove("selected"),p.classList.remove("selected"),B.classList.remove("selected"),E.classList.remove("collapsed"),c.innerHTML="boundaries";var a=document.createElement("div");a.classList.add("axis-menu");var A=document.createElement("img");A.classList.add("axis-menu-img"),A.src="img/xor2-icon.png",t.boundary&&t.boundary.xor?A.classList.add("selected"):A.classList.remove("selected");var o=document.createElement("div");o.classList.add("axis-menu-item"),o.style["margin-top"]="4px",o.appendChild(A),o.title="XOR",o.addEventListener("click",e=>{console.log("xor toggle"),r._mapController.toggleXor(n,!r._mapController.isXor(n)),r._mapController.isXor(n)?A.classList.add("selected"):A.classList.remove("selected")}),a.appendChild(o),i.appendChild(a)}}),f.addEventListener("click",e=>{if(v.classList.contains("collapsed")){i.innerHTML="",v.classList.remove("collapsed"),r.topDiv.classList.remove("collapsed"),r.bottom.classList.remove("expanded"),b.classList.contains("collapsed")||b.classList.add("collapsed"),w.classList.contains("collapsed")||w.classList.add("collapsed"),p.classList.contains("selected")||p.classList.add("selected"),h.classList.remove("selected"),B.classList.remove("selected"),d.classList.remove("selected");for(var t=!0,a=r.getPropertyCheckBoxes(n),A=0;A<a.length;A++)if(a[A].checked){t=!1;break}t?E.classList.contains("collapsed")||(E.classList.add("collapsed"),c.innerHTML="no properties selected"):(E.classList.remove("collapsed"),c.innerHTML="sheet")}}),g.addEventListener("click",e=>{if(b.classList.contains("collapsed")){i.innerHTML="",b.classList.remove("collapsed"),r.topDiv.classList.remove("collapsed"),r.bottom.classList.remove("expanded"),v.classList.contains("collapsed")||v.classList.add("collapsed"),w.classList.contains("collapsed")||w.classList.add("collapsed"),h.classList.contains("selected")||h.classList.add("selected"),p.classList.remove("selected"),B.classList.remove("selected"),d.classList.remove("selected");for(var t=!0,a=r.getPropertyCheckBoxes(n),A=0;A<a.length;A++)if(a[A].checked){t=!1;break}t?E.classList.contains("collapsed")||(E.classList.add("collapsed"),c.innerHTML="no properties selected"):(E.classList.remove("collapsed"),c.innerHTML="features")}}),m.addEventListener("click",e=>{for(var t=!0,a=r.getPropertyCheckBoxes(n),A=0;A<a.length;A++)if(a[A].checked){t=!1;break}t||(r.topDiv.classList.contains("collapsed")?(r.topDiv.classList.remove("collapsed"),r.bottom.classList.remove("expanded"),B.classList.remove("selected"),E.classList.remove("expanded"),v.classList.contains("collapsed")||v.classList.add("collapsed"),h.classList.contains("selected")||h.classList.add("selected"),h.classList.remove("disabled"),p.classList.remove("disabled"),d.classList.remove("disabled")):(i.innerHTML="",r.topDiv.classList.add("collapsed"),r.bottom.classList.contains("expanded")||r.bottom.classList.add("expanded"),B.classList.contains("selected")||B.classList.add("selected"),E.classList.contains("expanded")||E.classList.add("expanded"),b.classList.remove("collapsed"),v.classList.remove("collapsed"),w.classList.contains("collapsed")||w.classList.add("collapsed"),h.classList.remove("selected"),h.classList.contains("disabled")||h.classList.add("disabled"),p.classList.remove("selected"),p.classList.contains("disabled")||p.classList.add("disabled"),d.classList.remove("selected"),d.classList.contains("disabled")||d.classList.add("disabled")),c.innerHTML=O())}),E.classList.add("collapsed"),A.classList.add("collapsed");var y=document.createElement("div");y.classList.add("document");var C=document.createElement("div");C.classList.add("document-header"),C.id=n+"-document-header",y.appendChild(C);var U=document.createElement("div");U.classList.add("document-label"),U.id=n+"-document-label",U.innerHTML=n,C.appendChild(U),r.state[n].data.children.header.children.label.element=U;var L=document.createElement("img");L.classList.add("document-menu-img"),L.src="img/pointer-icon.png";var x=document.createElement("div");x.classList.add("document-menu-item"),x.classList.add("document-view-button"),x.title="Active",x.selected=!1,x.appendChild(L),C.appendChild(x),r.state[n].data.children.header.children.active.element=x;var Q=document.createElement("img");Q.classList.add("document-menu-img"),Q.classList.add("selected"),Q.src="img/mouse-icon.png";var T=document.createElement("div");T.classList.add("document-menu-item"),T.classList.add("document-interaction-button"),T.title="Interactive",T.selected=!0,T.appendChild(Q),C.appendChild(T),r.state[n].data.children.header.children.interactive.element=T;var F=document.createElement("div");F.classList.add("document-content"),F.classList.add("collapsed"),F.id=n+"-document-content",y.appendChild(F),r.lscroll.appendChild(y),U.addEventListener("click",e=>{for(var n=F.classList.contains("collapsed"),t=document.getElementsByClassName("document-content"),r=0;r<t.length;r++)t[r].classList.contains("collapsed")||t[r].classList.add("collapsed");n&&F.classList.remove("collapsed")}),T.addEventListener("click",e=>{Q.classList.contains("selected")?(T.selected=!1,Q.classList.remove("selected"),r._mapController.toggleInteraction(n,!1)):(T.selected=!0,Q.classList.add("selected"),r._mapController.toggleInteraction(n,!0))}),x.addEventListener("click",e=>{L.classList.contains("selected")?(x.selected=!1,L.classList.remove("selected"),r._mapController.toggleSource(n,!1)):(x.selected=!0,L.classList.add("selected"),r._mapController.toggleSource(n,!0))}),!0===t.include&&x.click(),!1===t.interactive&&T.click(),r.options&&r.options.active===n&&r._mapController.toggleActiveSource(n,!0);var P=[];r._mapController.getProperties(n).forEach((e,A)=>{var o=r._mapController.getPropertyState(n,e),i=(o.propertyStyle,document.createElement("div"));i.id=n+"-"+e,i.classList.add("document-item"),a.includes(e)&&i.classList.add("collapsed");var s=document.createElement("div");s.classList.add("document-item-header");var l=document.createElement("input");l.classList.add("document-item-checkbox-"+n),l.id=n+"-"+e,l.setAttribute("type","checkbox");var u=document.createElement("div");u.innerHTML=o.propertyLabel,u.classList.add("document-item-label"),u.addEventListener("click",e=>{l.click(e)}),s.appendChild(l),s.appendChild(u),i.appendChild(s),F.appendChild(i);var d=null;if(P.push([e,l,u,d]),l.addEventListener("click",t=>{r._mapController.areKeysDown(["Control"])&&(t.target.checked=!0,P.forEach(t=>{t[0]!==e&&(t[1].checked=!1,t[2].classList.remove("selected"),null!==t[3]&&t[3].classList.add("collapsed"),r._mapController.toggleProperty(n,t[0],!1))})),t.target.checked?(u.classList.add("selected"),r._mapController.toggleProperty(n,e,!0),null!==d&&d.classList.remove("collapsed")):(u.classList.remove("selected"),r._mapController.toggleProperty(n,e,!1),null!==d&&d.classList.add("collapsed"));for(var a=!0,A=r.getPropertyCheckBoxes(n),o=!w.classList.contains("collapsed"),i=0;i<A.length;i++)if(A[i].checked){a=!1;break}a&&!o?E.classList.contains("collapsed")||(E.classList.add("collapsed"),c.innerHTML="no properties selected"):(E.classList.remove("collapsed"),c.innerHTML=O())}),o&&"string"===o.propertyType){(d=document.createElement("div")).classList.add("document-item-content"),d.classList.add("collapsed"),i.appendChild(d),P[A][3]=d;var _=o.propertyCategories,p=o.propertyOptions,f=p&&p.hidden?p.hidden:[],h=[];_.forEach(t=>{var a=document.createElement("div");a.classList.add("document-item"),a.classList.add("document-item-header"),f.includes(t)&&a.classList.add("collapsed");var A=document.createElement("input");A.setAttribute("type","checkbox"),A.setAttribute("checked",!0);var o=document.createElement("div");o.innerHTML=t,o.classList.add("document-item-label"),o.classList.add("selected"),o.addEventListener("click",e=>{A.click(e)}),a.appendChild(A),a.appendChild(o),d.appendChild(a),h.push([t,A,o]),A.addEventListener("click",a=>{if(r._mapController.areKeysDown(["Control"])){a.target.checked=!0;var A=[];h.forEach(n=>{n[0]!==t&&(n[1].checked=!1,n[2].classList.remove("selected"),A.push({filterKey:n[0],filter:t=>t[e]===n[0]}))}),r._mapController.addFilters(n,A)}a.target.checked?(o.classList.add("selected"),r._mapController.removeFilter(n,t)):(o.classList.remove("selected"),r._mapController.addFilters(n,[{filterKey:t,filter:n=>n[e]===t}]))}),p&&p.selected&&!p.selected.includes(t)&&A.click()})}t.properties&&t.properties.selected&&t.properties.selected.includes(e)&&l.click()})}function O(){var e="";return(v.classList.contains("collapsed")||b.classList.contains("collapsed"))&&b.classList.contains("collapsed")?v.classList.contains("collapsed")?w.classList.contains("collapsed")||(e="boundaries"):e="sheet":e="features",e}}getPropertyCheckBoxes(e){return Array.prototype.slice.call(document.getElementsByClassName("document-item-checkbox-"+e))}getPropertyCategoryCheckBoxes(e,n){}fire(e){"active"==e&&this.updateActive()}updateActive(){var e=this,n=e._mapController.getActiveSource();Object.keys(e.state).forEach(t=>{var r=e.state[t].filter.element;n===t?r.classList.remove("collapsed"):r.classList.contains("collapsed")||r.classList.add("collapsed")}),n&&e.bscroll.classList.contains("collapsed")&&e.bscroll.classList.remove("collapsed")}}window.load=function(e){new L(e)}}]);